//>>built
(function(d,m){var l,q=function(){},k=function(a){for(var b in a)return 0;return 1},p={}.toString,s=function(a){return"[object Function]"==p.call(a)},g=function(a){return"[object String]"==p.call(a)},f=function(a){return"[object Array]"==p.call(a)},a=function(a,b){if(a)for(var c=0;c<a.length;)b(a[c++])},c=function(a,b){for(var c in b)a[c]=b[c];return a},e=function(a,b){return c(Error(a),{src:"dojoLoader",info:b})},b=1,n=function(){return"_"+b++},r=function(a,b,c){return La(a,b,c,0,r)},h=this,u=h.document,
v=u&&u.createElement("DiV"),t=r.has=function(a){return s(y[a])?y[a]=y[a](h,u,v):y[a]},y=t.cache=m.hasCache;t.add=function(a,b,c,e){(void 0===y[a]||e)&&(y[a]=b);return c&&t(a)};t.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);t("host-webworker")&&(c(m.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),m.loaderPatch={injectUrl:function(a,b){try{importScripts(a),b()}catch(c){console.error(c)}}});
for(var z in d.has)t.add(z,d.has[z],0,1);var w=0,A=[],x=0,E=q,C=q,H;r.isXdUrl=q;r.initSyncLoader=function(a,b,c){x||(x=a,E=b,C=c);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:A,modules:D,execQ:O,getModule:T,injectModule:na,setArrived:aa,signal:F,finishExec:ea,execModule:fa,dojoRequirePlugin:x,getLegacyMode:function(){return w},guardCheckComplete:ga}};var S=location.protocol,I=location.host;r.isXdUrl=function(a){return/^\./.test(a)?!1:/^\/\//.test(a)?!0:
(a=a.match(/^([^\/\:]+\:)\/+([^\/]+)/))&&(a[1]!=S||I&&a[2]!=I)};t.add("dojo-force-activex-xhr",!u.addEventListener&&"file:"==window.location.protocol);t.add("native-xhr","undefined"!=typeof XMLHttpRequest);if(t("native-xhr")&&!t("dojo-force-activex-xhr"))H=function(){return new XMLHttpRequest};else{var M=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],B;for(l=0;3>l;)try{if(B=M[l++],new ActiveXObject(B))break}catch(J){}H=function(){return new ActiveXObject(B)}}r.getXhr=H;t.add("dojo-gettext-api",
1);r.getText=function(a,b,c){var h=H();h.open("GET",oa(a),!1);h.send(null);if(200==h.status||!location.host&&!h.status)c&&c(h.responseText,b);else throw e("xhrFailed",h.status);return h.responseText};var Q=t("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");r.eval=function(a,b){return Q(a+"\r\n//# sourceURL\x3d"+b)};var G={},F=r.signal=function(b,c){var e=G[b];a(e&&e.slice(0),function(a){a.apply(null,f(c)?c:[c])})},R=r.on=function(a,b){var c=G[a]||(G[a]=[]);c.push(b);return{remove:function(){for(var a=
0;a<c.length;a++)if(c[a]===b){c.splice(a,1);break}}}},W=[],X={},ba=[],L={},K=r.map={},U=[],D={},N="",Y={},pa={},qa={},ca=0,ra=function(a,b){b=!1!==b;var c,e,h,r;for(c in pa)e=pa[c],(h=c.match(/^url\:(.+)/))?Y["url:"+Ma(h[1],a)]=e:"*now"==c?r=e:"*noref"!=c&&(h=ha(c,a,!0),Y[h.mid]=Y["url:"+h.url]=e);r&&r(Ca(a));b&&(pa={})},Na=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},Da=function(a,b){b.splice(0,b.length);for(var c in a)b.push([c,a[c],RegExp("^"+Na(c)+"(/|$)"),
c.length]);b.sort(function(a,b){return b[3]-a[3]});return b},$a=function(b,c){a(b,function(a){c.push([g(a[0])?RegExp("^"+Na(a[0])+"$"):a[0],a[1]])})},Oa=function(a){var b=a.name;b||(b=a,a={name:b});a=c({main:"main"},a);a.location=a.location?a.location:b;a.packageMap&&(K[b]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));L[b]=a},Pa=[],ia=function(b,e,h){for(var n in b){"waitSeconds"==n&&(r.waitms=1E3*(b[n]||0));"cacheBust"==n&&(N=b[n]?g(b[n])?b[n]:(new Date).getTime()+"":"");if("baseUrl"==
n||"combo"==n)r[n]=b[n];if("async"==n){var f=b[n];r.legacyMode=w=g(f)&&/sync|legacyAsync/.test(f)?f:!f?"sync":!1;r.async=!w}b[n]!==y&&(r.rawConfig[n]=b[n],"has"!=n&&t.add("config-"+n,b[n],0,e))}r.baseUrl||(r.baseUrl="./");/\/$/.test(r.baseUrl)||(r.baseUrl+="/");for(n in b.has)t.add(n,b.has[n],0,e);a(b.packages,Oa);for(var v in b.packagePaths)a(b.packagePaths[v],function(a){var b=v+"/"+a;g(a)&&(a={name:a});a.location=b;Oa(a)});Da(c(K,b.map),U);a(U,function(a){a[1]=Da(a[1],[]);"*"==a[0]&&(U.star=a)});
Da(c(X,b.paths),ba);$a(b.aliases,W);if(e)Pa.push({config:b.config});else for(n in b.config)e=T(n,h),e.config=c(e.config||{},b.config[n]);b.cache&&(ra(),pa=b.cache,ra(0,!!b.cache["*noref"]));F("config",[b,r.rawConfig])};t("dojo-cdn");var sa=u.getElementsByTagName("script");l=0;for(var V,$,ta,ja;l<sa.length;){V=sa[l++];if((ta=V.getAttribute("src"))&&(ja=ta.match(/(((.*)\/)|^)dojo\.js(\W|$)/i)))$=ja[3]||"",m.baseUrl=m.baseUrl||$,ca=V;if(ta=V.getAttribute("data-dojo-config")||V.getAttribute("djConfig"))qa=
r.eval("({ "+ta+" })","data-dojo-config"),ca=V}r.rawConfig={};ia(m,1);t("dojo-cdn")&&((L.dojo.location=$)&&($+="/"),L.dijit.location=$+"../dijit/",L.dojox.location=$+"../dojox/");ia(d,1);ia(qa,1);var ka=function(b){ga(function(){a(b.deps,na)})},La=function(a,b,h,t,v){var d;if(g(a)){if((d=T(a,t,!0))&&d.executed)return d.result;throw e("undefinedModule",a);}f(a)||(ia(a,0,t),a=b,b=h);if(f(a))if(a.length){h="require*"+n();for(var u,k=[],s=0;s<a.length;)u=a[s++],k.push(T(u,t));d=c(ua("",h,0,""),{injected:2,
deps:k,def:b||q,require:t?t.require:r,gc:1});D[d.mid]=d;ka(d);var p=la&&"sync"!=w;ga(function(){fa(d,p)});d.executed||O.push(d);da()}else b&&b();return v},Ca=function(a){if(!a)return r;var b=a.require;b||(b=function(c,e,h){return La(c,e,h,a,b)},a.require=c(b,r),b.module=a,b.toUrl=function(b){return Ma(b,a)},b.toAbsMid=function(b){return Ea(b,a)},b.syncLoadNls=function(b){b=ha(b,a);var c=D[b.mid];if(!c||!c.executed)if(Z=Y[b.mid]||Y["url:"+b.url])va(Z),c=D[b.mid];return c&&c.executed&&c.result});return b},
O=[],wa=[],P={},ab=function(a){a.injected=1;P[a.mid]=1;a.url&&(P[a.url]=a.pack||1);Qa()},aa=function(a){a.injected=2;delete P[a.mid];a.url&&delete P[a.url];k(P)&&(xa(),"xd"==w&&(w="sync"))},bb=r.idle=function(){return!wa.length&&k(P)&&!O.length&&!la},ya=function(a,b){if(b)for(var c=0;c<b.length;c++)if(b[c][2].test(a))return b[c];return 0},Ra=function(a){var b=[],c,e;for(a=a.replace(/\\/g,"/").split("/");a.length;)c=a.shift(),".."==c&&b.length&&".."!=e?(b.pop(),e=b[b.length-1]):"."!=c&&b.push(e=c);
return b.join("/")},ua=function(a,b,c,e){var h=r.isXdUrl(e);return{pid:a,mid:b,pack:c,url:e,executed:0,def:0,isXd:h,isAmd:!!(h||L[a]&&L[a].isAmd)}},Sa=function(b,c,h,n,r,f,v,d,u,g){var k,p,y,x;x=/^\./.test(b);if(/(^\/)|(\:)|(\.js$)/.test(b)||x&&!c)return ua(0,b,0,b);b=Ra(x?c.mid+"/../"+b:b);if(/^\./.test(b))throw e("irrationalPath",b);!g&&(!x&&f.star)&&(y=ya(b,f.star[1]));!y&&c&&(y=(y=ya(c.mid,f))&&ya(b,y[1]));y&&(b=y[1]+b.substring(y[3]));c=(ja=b.match(/^([^\/]+)(\/(.+))?$/))?ja[1]:"";(k=h[c])?b=
c+"/"+(p=ja[3]||k.main):c="";var l=0;a(d,function(a){var c=b.match(a[0]);c&&0<c.length&&(l=s(a[1])?b.replace(a[0],a[1]):a[1])});if(l)return Sa(l,0,h,n,r,f,v,d,u);if(h=n[b])return u?ua(h.pid,h.mid,h.pack,h.url):n[b];n=(y=ya(b,v))?y[1]+b.substring(y[3]):c?k.location+"/"+p:t("config-tlmSiblingOfDojo")?"../"+b:b;/(^\/)|(\:)/.test(n)||(n=r+n);return ua(c,b,k,Ra(n+".js"))},ha=function(a,b,c){return Sa(a,b,L,D,r.baseUrl,U,ba,W,void 0,c)},Ta=function(a,b,c){return a.normalize?a.normalize(b,function(a){return Ea(a,
c)}):Ea(b,c)},Ua=0,T=function(a,b,c){var e,h;(e=a.match(/^(.+?)\!(.*)$/))?(h=T(e[1],b,c),"sync"==w&&!h.executed&&(na(h),2===h.injected&&!h.executed&&ga(function(){fa(h)}),h.executed?za(h):O.unshift(h)),5===h.executed&&!h.load&&za(h),h.load?(e=Ta(h,e[2],b),a=h.mid+"!"+(h.dynamic?++Ua+"!":"")+e):(e=e[2],a=h.mid+"!"+ ++Ua+"!waitingForPlugin"),a={plugin:h,mid:a,req:Ca(b),prid:e}):a=ha(a,b);return D[a.mid]||!c&&(D[a.mid]=a)},Ea=r.toAbsMid=function(a,b){return ha(a,b).mid},Ma=r.toUrl=function(a,b){var c=
ha(a+"/x",b),e=c.url;return oa(0===c.pid?a:e.substring(0,e.length-5))},Va={injected:2,executed:5,def:3,result:3},Fa=function(a){return D[a]=c({mid:a},Va)},cb=Fa("require"),db=Fa("exports"),eb=Fa("module"),Aa={},Ga=0,za=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},fb=function(b){var e={};a(b.loadQ,function(a){var h=Ta(b,a.prid,a.req.module),n=b.dynamic?a.mid.replace(/waitingForPlugin$/,h):b.mid+"!"+h,h=c(c({},a),{mid:n,prid:h,injected:0});if(!D[n]||
!D[n].injected)Wa(D[n]=h);e[a.mid]=D[n];aa(a);delete D[a.mid]});b.loadQ=0;var h=function(a){for(var b=a.deps||[],c=0;c<b.length;c++)(a=e[b[c].mid])&&(b[c]=a)},n;for(n in D)h(D[n]);a(O,h)},ea=function(b){r.trace("loader-finish-exec",[b.mid]);b.executed=5;b.defOrder=Ga++;a(b.provides,function(a){a()});b.loadQ&&(za(b),fb(b));for(l=0;l<O.length;)O[l]===b?O.splice(l,1):l++;/^require\*/.test(b.mid)&&delete D[b.mid]},gb=[],fa=function(a,b){if(4===a.executed)return r.trace("loader-circular-dependency",[gb.concat(a.mid).join("-\x3e")]),
!a.def||b?Aa:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return Aa;var c=a.mid,h=a.deps||[],n,f=[],v=0;for(a.executed=4;n=h[v++];){n=n===cb?Ca(a):n===db?a.cjs.exports:n===eb?a.cjs:fa(n,b);if(n===Aa)return a.executed=0,r.trace("loader-exec-module",["abort",c]),Aa;f.push(n)}r.trace("loader-run-factory",[a.mid]);var c=a.def,d;A.unshift(a);if(t("config-dojo-loader-catches"))try{d=s(c)?c.apply(null,f):c}catch(u){F("error",a.result=e("factoryThrew",[a,u]))}else d=s(c)?c.apply(null,f):c;a.result=void 0===
d&&a.cjs?a.cjs.exports:d;A.shift(a);ea(a)}return a.result},la=0,ga=function(a){try{la++,a()}catch(b){throw b;}finally{la--}bb()&&F("idle",[])},da=function(){la||ga(function(){E();for(var a,b,c=0;c<O.length;)a=Ga,b=O[c],fa(b),a!=Ga?(E(),c=0):c++})};void 0===t("dojo-loader-eval-hint-url")&&t.add("dojo-loader-eval-hint-url",1);var oa="function"==typeof d.fixupUrl?d.fixupUrl:function(a){a+="";return a+(N?(/\?/.test(a)?"\x26":"?")+N:"")},Wa=function(a){var b=a.plugin;5===b.executed&&!b.load&&za(b);var c=
function(b){a.result=b;aa(a);ea(a);da()};b.load?b.load(a.prid,a.req,c):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],O.unshift(b),na(b))},Z=0,ma=0,Ha=0,va=function(a,b){t("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));Ha=1;if(t("config-dojo-loader-catches"))try{a===Z?Z.call(null):r.eval(a,t("dojo-loader-eval-hint-url")?b.url:b.mid)}catch(c){F("error",e("evalModuleThrew",b))}else a===Z?Z.call(null):r.eval(a,t("dojo-loader-eval-hint-url")?b.url:b.mid);Ha=0},na=function(b){var h=b.mid,n=b.url;
if(!b.executed&&!b.injected&&!(P[h]||b.url&&(b.pack&&P[b.url]===b.pack||1==P[b.url])))if(ab(b),b.plugin)Wa(b);else{var f=function(){Xa(b);if(2!==b.injected){if(t("dojo-enforceDefine")){F("error",e("noDefine",b));return}aa(b);c(b,Va);r.trace("loader-define-nonmodule",[b.url])}w?!A.length&&da():da()};if(Z=Y[h]||Y["url:"+b.url])r.trace("loader-inject",["cache",b.mid,n]),va(Z,b),f();else{if(w)if(b.isXd)"sync"==w&&(w="xd");else if(!(b.isAmd&&"sync"!=w)){var v=function(c){if("sync"==w){A.unshift(b);va(c,
b);A.shift();Xa(b);b.cjs||(aa(b),ea(b));if(b.finish){c=h+"*finish";var e=b.finish;delete b.finish;Ia(c,["dojo",("dojo/require!"+e.join(",")).replace(/\./g,"/")],function(b){a(e,function(a){b.require(a)})});O.unshift(T(c))}f()}else(c=C(b,c))?(va(c,b),f()):(ma=b,r.injectUrl(oa(n),f,b),ma=0)};r.trace("loader-inject",["xhr",b.mid,n,"sync"!=w]);if(t("config-dojo-loader-catches"))try{r.getText(n,"sync"!=w,v)}catch(d){F("error",e("xhrInjectFailed",[b,d]))}else r.getText(n,"sync"!=w,v);return}r.trace("loader-inject",
["script",b.mid,n]);ma=b;r.injectUrl(oa(n),f,b);ma=0}}},Ja=function(a,b,h){r.trace("loader-define-module",[a.mid,b]);var n=a.mid;if(2===a.injected)return F("error",e("multipleDefine",a)),a;c(a,{deps:b,def:h,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});for(var f=0;b[f];f++)b[f]=T(b[f],a);w&&!P[n]&&(ka(a),O.push(a),da());aa(a);!s(h)&&!b.length&&(a.result=h,ea(a));return a},Xa=function(b,c){for(var e=[],h,n;wa.length;)n=wa.shift(),
c&&(n[0]=c.shift()),h=n[0]&&T(n[0])||b,e.push([h,n[1],n[2]]);ra(b);a(e,function(a){ka(Ja.apply(null,a))})},Ba=0,xa=q,Qa=q,xa=function(){Ba&&clearTimeout(Ba);Ba=0},Qa=function(){xa();r.waitms&&(Ba=h.setTimeout(function(){xa();F("error",e("timeout",P))},r.waitms))};t.add("ie-event-behavior",u.attachEvent&&"undefined"===typeof Windows&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var Ka=function(a,b,c,e){if(t("ie-event-behavior"))return a.attachEvent(c,e),function(){a.detachEvent(c,
e)};a.addEventListener(b,e,!1);return function(){a.removeEventListener(b,e,!1)}},hb=Ka(window,"load","onload",function(){r.pageLoaded=1;try{"complete"!=u.readyState&&(u.readyState="complete")}catch(a){}hb()}),sa=u.getElementsByTagName("script");for(l=0;!ca;)if(!/^dojo/.test((V=sa[l++])&&V.type))ca=V;r.injectUrl=function(a,b,c){c=c.node=u.createElement("script");var h=Ka(c,"load","onreadystatechange",function(a){a=a||window.event;var c=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(c.readyState))h(),
n(),b&&b()}),n=Ka(c,"error","onerror",function(b){h();n();F("error",e("scriptError",[a,b]))});c.type="text/javascript";c.charset="utf-8";c.src=a;ca.parentNode.insertBefore(c,ca);return c};r.log=function(){try{for(var a=0;a<arguments.length;a++);}catch(b){}};r.trace=q;var Ia=function(a,b,c){var h=arguments.length,n=["require","exports","module"],f=[0,a,b];1==h?f=[0,s(a)?n:[],a]:2==h&&g(a)?f=[a,s(b)?n:[],b]:3==h&&(f=[a,b,c]);r.trace("loader-define",f.slice(0,2));if((h=f[0]&&T(f[0]))&&!P[h.mid])ka(Ja(h,
f[1],f[2]));else if(!t("ie-event-behavior")||Ha)wa.push(f);else{h=h||ma;if(!h)for(a in P)if((n=D[a])&&n.node&&"interactive"===n.node.readyState){h=n;break}h?(ra(h),ka(Ja(h,f[1],f[2]))):F("error",e("ieDefineFailed",f[0]));da()}};Ia.amd={vendor:"dojotoolkit.org"};c(c(r,m.loaderPatch),d.loaderPatch);R("error",function(a){try{if(console.error(a),a instanceof Error)for(var b in a);}catch(c){}});c(r,{uid:n,cache:Y,packs:L});if(h.define)F("error",e("defineAlreadyDefined",0));else{h.define=Ia;h.require=r;
a(Pa,function(a){ia(a)});var Ya=qa.deps||d.deps||m.deps,Za=qa.callback||d.callback||m.callback;r.boot=Ya||Za?[Ya||[],Za]:0}})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dojox",name:"dojox"},{location:"../dijit",name:"dijit"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",
name:"dstore"},{location:"../bundle",name:"bundle"}]});
require({cache:{"bundle/bundle":function(){require("dojo/_base/declare dgrid/Grid dgrid/OnDemandGrid dgrid/Selection dgrid/extensions/ColumnResizer dgrid/Keyboard dgrid/extensions/ColumnHider dojo/aspect dojo/dom-class dojo/dom-construct dojo/dom-style dgrid/Editor dstore/Memory dgrid/extensions/CompoundColumns dojo/_base/declare dstore/Rest dstore/Trackable dstore/SimpleQuery dojo/_base/declare dgrid/OnDemandGrid dgrid/Selection dgrid/extensions/ColumnResizer dgrid/Keyboard dgrid/extensions/ColumnHider dojo/aspect dojo/dom-class dojo/dom-construct dojo/dom-style dgrid/Editor dstore/Memory dstore/Trackable dstore/Tree dgrid/Tree dstore/Memory dstore/RequestMemory dstore/Cache dstore/Request dojo/main dgrid/util/touch".split(" "),function(){})},
"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(d,m,l){function q(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function k(a,b,c){var e,h,n,r,f,t,v,d=this._inherited=this._inherited||{};"string"==typeof a&&(e=a,a=b,b=c);c=0;r=a.callee;(e=e||r.nom)||q("can't deduce a name to call inherited()",this.declaredClass);f=this.constructor._meta;n=f.bases;v=d.p;if(e!=x){if(d.c!==r&&(v=0,t=n[0],f=t._meta,f.hidden[e]!==r)){(h=f.chains)&&"string"==typeof h[e]&&q("calling chained method with inherited: "+
e,this.declaredClass);do if(f=t._meta,h=t.prototype,f&&(h[e]===r&&h.hasOwnProperty(e)||f.hidden[e]===r))break;while(t=n[++v]);v=t?v:-1}if(t=n[++v])if(h=t.prototype,t._meta&&h.hasOwnProperty(e))c=h[e];else{r=y[e];do if(h=t.prototype,(c=h[e])&&(t._meta?h.hasOwnProperty(e):c!==r))break;while(t=n[++v])}c=t&&c||y[e]}else{if(d.c!==r&&(v=0,(f=n[0]._meta)&&f.ctor!==r)){h=f.chains;for((!h||"manual"!==h.constructor)&&q("calling chained constructor with inherited",this.declaredClass);(t=n[++v])&&!((f=t._meta)&&
f.ctor===r););v=t?v:-1}for(;(t=n[++v])&&!(c=(f=t._meta)?f.ctor:t););c=t&&c}d.c=c;d.p=v;if(c)return!0===b?c:c.apply(this,b||a)}function p(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function s(a,b,c){var e=this.getInherited(a,b);if(e)return e.apply(this,c||b||a)}function g(a){for(var b=this.constructor._meta.bases,c=0,e=b.length;c<e;++c)if(b[c]===a)return!0;return this instanceof a}function f(a,b){for(var c in b)c!=x&&b.hasOwnProperty(c)&&(a[c]=b[c]);if(m("bug-for-in-skips-shadowed"))for(var e=
l._extraNames,h=e.length;h;)c=e[--h],c!=x&&b.hasOwnProperty(c)&&(a[c]=b[c])}function a(a){v.safeMixin(this.prototype,a);return this}function c(a,b){a instanceof Array||"function"==typeof a||(b=a,a=void 0);b=b||{};a=a||[];return v([this].concat(a),b)}function e(a,b){return function(){var c=arguments,e=c,h=c[0],n,r;r=a.length;var f;if(!(this instanceof c.callee))return u(c);if(b&&(h&&h.preamble||this.preamble)){f=Array(a.length);f[0]=c;for(n=0;;){if(h=c[0])(h=h.preamble)&&(c=h.apply(this,c)||c);h=a[n].prototype;
(h=h.hasOwnProperty("preamble")&&h.preamble)&&(c=h.apply(this,c)||c);if(++n==r)break;f[n]=c}}for(n=r-1;0<=n;--n)h=a[n],(h=(r=h._meta)?r.ctor:h)&&h.apply(this,f?f[n]:c);(h=this.postscript)&&h.apply(this,e)}}function b(a,b){return function(){var c=arguments,e=c,h=c[0];if(!(this instanceof c.callee))return u(c);b&&(h&&(h=h.preamble)&&(e=h.apply(this,e)||e),(h=this.preamble)&&h.apply(this,e));a&&a.apply(this,c);(h=this.postscript)&&h.apply(this,c)}}function n(a){return function(){var b=arguments,c=0,
e,h;if(!(this instanceof b.callee))return u(b);for(;e=a[c];++c)if(e=(h=e._meta)?h.ctor:e){e.apply(this,b);break}(e=this.postscript)&&e.apply(this,b)}}function r(a,b,c){return function(){var e,h,n=0,r=1;c&&(n=b.length-1,r=-1);for(;e=b[n];n+=r)h=e._meta,(e=(h?h.hidden:e.prototype)[a])&&e.apply(this,arguments)}}function h(a){w.prototype=a.prototype;a=new w;w.prototype=null;return a}function u(a){var b=a.callee,c=h(b);b.apply(c,a);return c}function v(d,u,s){"string"!=typeof d&&(s=u,u=d,d="");s=s||{};
var m,w,B,J,Q,G,F,R=1,W=u;if("[object Array]"==z.call(u)){R=d;B=[];J=[{cls:0,refs:[]}];G={};for(var X=1,ba=u.length,L=0,K,U,D,N;L<ba;++L){(K=u[L])?"[object Function]"!=z.call(K)&&q("mixin #"+L+" is not a callable constructor.",R):q("mixin #"+L+" is unknown. Did you use dojo.require to pull it in?",R);U=K._meta?K._meta.bases:[K];D=0;for(K=U.length-1;0<=K;--K)N=U[K].prototype,N.hasOwnProperty("declaredClass")||(N.declaredClass="uniqName_"+A++),N=N.declaredClass,G.hasOwnProperty(N)||(G[N]={count:0,refs:[],
cls:U[K]},++X),N=G[N],D&&D!==N&&(N.refs.push(D),++D.count),D=N;++D.count;J[0].refs.push(D)}for(;J.length;){D=J.pop();B.push(D.cls);for(--X;w=D.refs,1==w.length;){D=w[0];if(!D||--D.count){D=0;break}B.push(D.cls);--X}if(D){L=0;for(ba=w.length;L<ba;++L)D=w[L],--D.count||J.push(D)}}X&&q("can't build consistent linearization",R);K=u[0];B[0]=K?K._meta&&K===B[B.length-K._meta.bases.length]?K._meta.bases.length:1:0;G=B;B=G[0];R=G.length-B;u=G[R]}else G=[0],u?"[object Function]"==z.call(u)?(B=u._meta,G=G.concat(B?
B.bases:u)):q("base class is not a callable constructor.",d):null!==u&&q("unknown base class. Did you use dojo.require to pull it in?",d);if(u)for(w=R-1;;--w){m=h(u);if(!w)break;B=G[w];(B._meta?f:t)(m,B.prototype);J=new Function;J.superclass=u;J.prototype=m;u=m.constructor=J}else m={};v.safeMixin(m,s);B=s.constructor;B!==y.constructor&&(B.nom=x,m.constructor=B);for(w=R-1;w;--w)(B=G[w]._meta)&&B.chains&&(F=t(F||{},B.chains));m["-chains-"]&&(F=t(F||{},m["-chains-"]));B=!F||!F.hasOwnProperty(x);G[0]=
J=F&&"manual"===F.constructor?n(G):1==G.length?b(s.constructor,B):e(G,B);J._meta={bases:G,hidden:s,chains:F,parents:W,ctor:s.constructor};J.superclass=u&&u.prototype;J.extend=a;J.createSubclass=c;J.prototype=m;m.constructor=J;m.getInherited=p;m.isInstanceOf=g;m.inherited=E;m.__inherited=k;d&&(m.declaredClass=d,l.setObject(d,J));if(F)for(Q in F)m[Q]&&("string"==typeof F[Q]&&Q!=x)&&(B=m[Q]=r(Q,G,"after"===F[Q]),B.nom=Q);return J}var t=l.mixin,y=Object.prototype,z=y.toString,w,A=0,x="constructor";w=
m("csp-restrictions")?function(){}:new Function;var E=d.config.isDebug?s:k;d.safeMixin=v.safeMixin=function(a,b){var c,e;for(c in b)if(e=b[c],(e!==y[c]||!(c in y))&&c!=x)"[object Function]"==z.call(e)&&(e.nom=c),a[c]=e;if(m("bug-for-in-skips-shadowed")&&b)for(var h=l._extraNames,n=h.length;n;)if(c=h[--n],e=b[c],(e!==y[c]||!(c in y))&&c!=x)"[object Function]"==z.call(e)&&(e.nom=c),a[c]=e;return a};return d.declare=v})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],
function(d,m,l,q){var k,p=function(){return this}(),s={},g={},f={config:m,global:p,dijit:s,dojox:g},s={dojo:["dojo",f],dijit:["dijit",s],dojox:["dojox",g]};q=l.map&&l.map[q.id.match(/[^\/]+/)[0]];for(k in q)s[k]?s[k][0]=q[k]:s[k]=[q[k],{}];for(k in s)q=s[k],q[1]._scopeName=q[0],m.noGlobals||(p[q[0]]=q[1]);f.scopeMap=s;f.baseUrl=f.config.baseUrl=l.baseUrl;f.isAsync=l.async;f.locale=m.locale;p="$Rev: 91fa0cb $".match(/[0-9a-f]{7,}/);f.version={major:1,minor:11,patch:2,flag:"",revision:p?p[0]:NaN,toString:function(){var a=
f.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};d("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(f);f.exit=function(){};d("host-webworker");d.add("dojo-debug-messages",!!m.isDebug);f.deprecated=f.experimental=function(){};d("dojo-debug-messages")&&(f.deprecated=function(a,c,e){a="DEPRECATED: "+a;c&&(a+=" "+c);e&&(a+=" -- will be removed in version: "+e);console.warn(a)},f.experimental=
function(a,c){var e="EXPERIMENTAL: "+a+" -- APIs subject to change without notice.";c&&(e+=" "+c);console.warn(e)});if(m.modulePaths){f.deprecated("dojo.modulePaths","use paths configuration");d={};for(k in m.modulePaths)d[k.replace(/\./g,"/")]=m.modulePaths[k];l({paths:d})}f.moduleUrl=function(a,c){f.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var e=null;a&&(e=l.toUrl(a.replace(/\./g,"/")+(c?"/"+c:"")+"/*.*").replace(/\/\*\.\*/,"")+(c?"":"/"));return e};f._hasResource={};return f})},
"dojo/has":function(){define(["require","module"],function(d,m){var l=d.has||function(){};l.add("dom-addeventlistener",!!document.addEventListener);l.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints);l.add("touch-events","ontouchstart"in document);l.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window);l.add("MSPointer",window.navigator.msPointerEnabled);l.add("device-width",
screen.availWidth||innerWidth);var q=document.createElement("form");l.add("dom-attributes-explicit",0==q.attributes.length);l.add("dom-attributes-specified-flag",0<q.attributes.length&&40>q.attributes.length);l.clearElement=function(d){d.innerHTML="";return d};l.normalize=function(d,p){var s=d.match(/[\?:]|[^:\?]*/g),g=0,f=function(a){var c=s[g++];if(":"==c)return 0;if("?"==s[g++]){if(!a&&l(c))return f();f(!0);return f(a)}return c||0};return(d=f())&&p(d)};l.load=function(d,p,s){d?p([d],s):s()};return l})},
"dojo/_base/config":function(){define(["../has","require"],function(d,m){var l={},q=m.rawConfig,k;for(k in q)l[k]=q[k];if(!l.locale&&"undefined"!=typeof navigator&&(q=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage))l.locale=q.toLowerCase();return l})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(d,m){m.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var l=m("bug-for-in-skips-shadowed")?
"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],q=l.length,k=function(a,c,e){e||(e=a[0]&&d.scopeMap[a[0]]?d.scopeMap[a.shift()][1]:d.global);try{for(var b=0;b<a.length;b++){var n=a[b];if(!(n in e))if(c)e[n]={};else return;e=e[n]}return e}catch(r){}},p=Object.prototype.toString,s=function(a,c,e){return(e||[]).concat(Array.prototype.slice.call(a,c||0))},g=/\{([^\}]+)\}/g,f={_extraNames:l,_mixin:function(a,c,e){var b,n,r,h={};for(b in c)if(n=
c[b],!(b in a)||a[b]!==n&&(!(b in h)||h[b]!==n))a[b]=e?e(n):n;if(m("bug-for-in-skips-shadowed")&&c)for(r=0;r<q;++r)if(b=l[r],n=c[b],!(b in a)||a[b]!==n&&(!(b in h)||h[b]!==n))a[b]=e?e(n):n;return a},mixin:function(a,c){a||(a={});for(var e=1,b=arguments.length;e<b;e++)f._mixin(a,arguments[e]);return a},setObject:function(a,c,e){var b=a.split(".");a=b.pop();return(e=k(b,!0,e))&&a?e[a]=c:void 0},getObject:function(a,c,e){return!a?e:k(a.split("."),c,e)},exists:function(a,c){return void 0!==f.getObject(a,
!1,c)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:Array.isArray||function(a){return"[object Array]"==p.call(a)},isFunction:function(a){return"[object Function]"===p.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||f.isArray(a)||f.isFunction(a))},isArrayLike:function(a){return!!a&&!f.isString(a)&&!f.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(f.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!f.isFunction(a)&&
/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,c){for(var e=1,b=arguments.length;e<b;e++)f._mixin(a.prototype,arguments[e]);return a},_hitchArgs:function(a,c){var e=f._toArray(arguments,2),b=f.isString(c);return function(){var n=f._toArray(arguments),r=b?(a||d.global)[c]:c;return r&&r.apply(a||this,e.concat(n))}},hitch:function(a,c){if(2<arguments.length)return f._hitchArgs.apply(d,arguments);c||(c=a,a=null);if(f.isString(c)){a=a||d.global;if(!a[c])throw['lang.hitch: scope["',c,'"] is null (scope\x3d"',
a,'")'].join("");return function(){return a[c].apply(a,arguments||[])}}return!a?c:function(){return c.apply(a,arguments||[])}},delegate:function(){function a(){}return function(c,e){a.prototype=c;var b=new a;a.prototype=null;e&&f._mixin(b,e);return b}}(),_toArray:m("ie")?function(){function a(a,e,b){b=b||[];for(e=e||0;e<a.length;e++)b.push(a[e]);return b}return function(c){return(c.item?a:s).apply(this,arguments)}}():s,partial:function(a){return f.hitch.apply(d,[null].concat(f._toArray(arguments)))},
clone:function(a){if(!a||"object"!=typeof a||f.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var c,e,b;if(f.isArray(a)){c=[];e=0;for(b=a.length;e<b;++e)e in a&&(c[e]=f.clone(a[e]))}else c=a.constructor?new a.constructor:{};return f._mixin(c,a,f.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,
c,e){return a.replace(e||g,f.isFunction(c)?c:function(a,e){return f.getObject(e,!1,c)})}};f.mixin(d,f);return f})},"dojo/sniff":function(){define(["./has"],function(d){var m=navigator,l=m.userAgent,m=m.appVersion,q=parseFloat(m);d.add("air",0<=l.indexOf("AdobeAIR"));d.add("wp",parseFloat(l.split("Windows Phone")[1])||void 0);d.add("msapp",parseFloat(l.split("MSAppHost/")[1])||void 0);d.add("khtml",0<=m.indexOf("Konqueror")?q:void 0);d.add("edge",parseFloat(l.split("Edge/")[1])||void 0);d.add("opr",
parseFloat(l.split("OPR/")[1])||void 0);d.add("webkit",!d("wp")&&!d("edge")&&parseFloat(l.split("WebKit/")[1])||void 0);d.add("chrome",!d("edge")&&!d("opr")&&parseFloat(l.split("Chrome/")[1])||void 0);d.add("android",!d("wp")&&parseFloat(l.split("Android ")[1])||void 0);d.add("safari",0<=m.indexOf("Safari")&&!d("wp")&&!d("chrome")&&!d("android")&&!d("edge")&&!d("opr")?parseFloat(m.split("Version/")[1]):void 0);d.add("mac",0<=m.indexOf("Macintosh"));d.add("quirks","BackCompat"==document.compatMode);
if(!d("wp")&&l.match(/(iPhone|iPod|iPad)/)){var k=RegExp.$1.replace(/P/,"p"),p=l.match(/OS ([\d_]+)/)?RegExp.$1:"1",p=parseFloat(p.replace(/_/,".").replace(/_/g,""));d.add(k,p);d.add("ios",p)}d.add("bb",(0<=l.indexOf("BlackBerry")||0<=l.indexOf("BB10"))&&parseFloat(l.split("Version/")[1])||void 0);d.add("trident",parseFloat(m.split("Trident/")[1])||void 0);d.add("svg","undefined"!==typeof SVGAngle);d("webkit")||(0<=l.indexOf("Opera")&&d.add("opera",9.8<=q?parseFloat(l.split("Version/")[1])||q:q),
0<=l.indexOf("Gecko")&&(!d("wp")&&!d("khtml")&&!d("trident")&&!d("edge"))&&d.add("mozilla",q),d("mozilla")&&d.add("ff",parseFloat(l.split("Firefox/")[1]||l.split("Minefield/")[1])||void 0),document.all&&!d("opera")&&(l=parseFloat(m.split("MSIE ")[1])||void 0,(m=document.documentMode)&&(5!=m&&Math.floor(l)!=m)&&(l=m),d.add("ie",l)),d.add("wii","undefined"!=typeof opera&&opera.wiiremote));return d})},"dgrid/Grid":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/on dojo/has ./List ./util/misc dojo/_base/sniff".split(" "),
function(d,m,l,q,k,p,s,g){function f(a,c){c&&c.nodeType&&a.appendChild(c)}d=d(s,{columns:null,hasNeutralSort:!1,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(a){return"object"!==typeof a?this.columns[a]:this.cell(a).column},listType:"grid",cell:function(a,c){if(a.column&&a.element)return a;a.target&&a.target.nodeType&&(a=a.target);var e;if(a.nodeType){do{if(this._rowIdToObject[a.id])break;var b=a.columnId;if(b){c=b;e=a;break}a=a.parentNode}while(a&&a!==this.domNode)}if(!e&&"undefined"!==
typeof c){var n=this.row(a);if(b=n&&n.element)for(var b=b.getElementsByTagName("td"),r=0;r<b.length;r++)if(b[r].columnId===c){e=b[r];break}}if(null!=a)return{row:n||this.row(a),column:c&&this.column(c),element:e}},createRowCells:function(a,c,e,b,n){var r=l.create("table",{className:"dgrid-row-table",role:"presentation"}),h=9>p("ie")?l.create("tbody",null,r):r,f,d,t,k,s,m,A,x,q,C;e=e||this.subRows;d=0;for(t=e.length;d<t;d++){m=e[d];f=l.create("tr",null,h);m.className&&(f.className=m.className);k=0;
for(s=m.length;k<s;k++){A=m[k];x=A.id;q=A.field?" field-"+g.escapeCssIdentifier(A.field,"-"):"";(C="function"===typeof A.className?A.className(b):A.className)&&(q+=" "+C);q=l.create(a,{className:"dgrid-cell"+(x?" dgrid-column-"+g.escapeCssIdentifier(x,"-"):"")+q,role:"th"===a?"columnheader":"gridcell"});q.columnId=x;if(x=A.colSpan)q.colSpan=x;if(x=A.rowSpan)q.rowSpan=x;c(q,A,b,n);f.appendChild(q)}}return r},_createBodyRowCell:function(a,c,e,b){var n=e;c.get?n=c.get(e):"field"in c&&"_item"!==c.field&&
(n=e[c.field]);c.renderCell?f(a,c.renderCell(e,n,a,b)):this._defaultRenderCell.call(c,e,n,a,b)},_createHeaderRowCell:function(a,c){var e=c.headerNode=a,b=c.field;b&&(a.field=b);if(c.renderHeaderCell)f(e,c.renderHeaderCell(e));else if("label"in c||c.field)e.appendChild(document.createTextNode("label"in c?c.label:c.field));!1!==c.sortable&&(b&&"_item"!==b)&&(a.sortable=!0,a.className+=" dgrid-sortable")},left:function(a,c){a.element||(a=this.cell(a));return this.cell(this._move(a,-(c||1),"dgrid-cell"))},
right:function(a,c){a.element||(a=this.cell(a));return this.cell(this._move(a,c||1,"dgrid-cell"))},_defaultRenderCell:function(a,c,e){if(this.formatter){var b=this.formatter,n=this.grid.formatterScope;e.innerHTML="string"===typeof b&&n?n[b](c,a):this.formatter(c,a)}else null!=c&&e.appendChild(document.createTextNode(c))},renderRow:function(a,c){var e=this.createRowCells("td",m.hitch(this,"_createBodyRowCell"),c&&c.subRows,a,c),b=l.create("div",{role:"row"});b.appendChild(e);return b},renderHeader:function(){var a=
this,c=this.headerNode;c.setAttribute("role","row");l.empty(c);var e=this.createRowCells("th",m.hitch(this,"_createHeaderRowCell"),this.subRows&&this.subRows.headerRows);this._rowIdToObject[e.id=this.id+"-header"]=this.columns;c.appendChild(e);this._sortListener&&this._sortListener.remove();this._sortListener=k(e,"click,keydown",function(b){if("click"===b.type||32===b.keyCode||!p("opera")&&13===b.keyCode){var e=b.target,r,h;do if(e.sortable){r=e.field||e.columnId;h=a.sort[0];r=!a.hasNeutralSort||
!h||h.property!==r||!h.descending?[{property:r,descending:h&&h.property===r&&!h.descending}]:[];h={bubbles:!0,cancelable:!0,grid:a,parentType:b.type,sort:r};k.emit(b.target,"dgrid-sort",h)&&(a._sortNode=e,a.set("sort",r));break}while((e=e.parentNode)&&e!==c)}})},resize:function(){var a=this.headerNode.firstChild,c=this.contentNode,e;this.inherited(arguments);c.style.width="";if(c&&a&&(e=a.offsetWidth)>c.offsetWidth)c.style.width=e+"px"},destroy:function(){this._destroyColumns();this._sortListener&&
this._sortListener.remove();this.inherited(arguments)},_setSort:function(){this.inherited(arguments);this.updateSortArrow(this.sort)},_findSortArrowParent:function(a){var c=this.columns,e;for(e in c){var b=c[e];if(b.field===a)return b.headerNode}},updateSortArrow:function(a,c){this._lastSortedArrow&&(q.remove(this._lastSortedArrow.parentNode,"dgrid-sort-up dgrid-sort-down"),l.destroy(this._lastSortedArrow),delete this._lastSortedArrow);c&&(this.sort=a);if(a[0]){var e=a[0].property,b=a[0].descending,
e=this._sortNode||this._findSortArrowParent(e);delete this._sortNode;e&&(e=e.contents||e,this._lastSortedArrow=l.create("div",{className:"dgrid-sort-arrow ui-icon",innerHTML:"\x26nbsp;",role:"presentation"},e,"first"),q.add(e,"dgrid-sort-"+(b?"down":"up")),this.resize())}},styleColumn:function(a,c){return this.addCssRule("#"+g.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+g.escapeCssIdentifier(a,"-"),c)},_configColumns:function(a,c){var e=[],b=c instanceof Array;g.each(c,function(n,r){"string"===
typeof n&&(c[r]=n={label:n});!b&&!n.field&&(n.field=r);r=n.id=n.id||(isNaN(r)?r:a+r);this._configColumn&&(this._configColumn(n,c,a),r=n.id);b&&(this.columns[r]=n);n.grid=this;e.push(n)},this);return b?c:e},_destroyColumns:function(){this.cleanup()},configStructure:function(){var a=this.subRows,c=this._columns=this.columns;this.columns=!c||c instanceof Array?{}:c;if(a)for(c=0;c<a.length;c++)a[c]=this._configColumns(c+"-",a[c]);else this.subRows=[this._configColumns("",c)]},_getColumns:function(){return this._columns||
this.columns},_setColumns:function(a){this._destroyColumns();this.subRows=null;this.columns=a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();this.subRows=a;this._updateColumns()},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this.sort.length?(this._lastSortedArrow=null,this.updateSortArrow(this.sort)):this.resize())}});d.appendIfNode=f;return d})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),
function(d,m,l,q,k,p){function s(a,b){var c=b.parentNode;c&&c.insertBefore(a,b)}function g(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(b){}for(var c;c=a.lastChild;)a.removeChild(c)}var f={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,c={},e=0,b="__"+m._scopeName+"ToDomId",n;for(n in f)f.hasOwnProperty(n)&&
(m=f[n],m.pre="option"==n?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+m.join("\x3e\x3c")+"\x3e",m.post="\x3c/"+m.reverse().join("\x3e\x3c/")+"\x3e");var r;8>=l("ie")&&(r=function(a){a.__dojo_html5_tested="yes";var b=h("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(b){a.createElement(b)});
u(b)});d.toDom=function(h,n){n=n||q.doc;var d=n[b];d||(n[b]=d=++e+"",c[d]=n.createElement("div"));8>=l("ie")&&!n.__dojo_html5_tested&&n.body&&r(n);h+="";var u=h.match(a),g=u?u[1].toLowerCase():"",d=c[d];if(u&&f[g]){u=f[g];d.innerHTML=u.pre+h+u.post;for(u=u.length;u;--u)d=d.firstChild}else d.innerHTML=h;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(g=n.createDocumentFragment();u=d.firstChild;)g.appendChild(u);return g};d.place=function(a,b,c){b=k.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?
d.toDom(a,b.ownerDocument):k.byId(a));if("number"==typeof c){var e=b.childNodes;!e.length||e.length<=c?b.appendChild(a):s(a,e[0>c?0:c])}else switch(c){case "before":s(a,b);break;case "after":c=a;(e=b.parentNode)&&(e.lastChild==b?e.appendChild(c):e.insertBefore(c,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":d.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){s(a,b.firstChild);break}default:b.appendChild(a)}return a};var h=d.create=function(a,b,c,
e){var h=q.doc;c&&(c=k.byId(c),h=c.ownerDocument);"string"==typeof a&&(a=h.createElement(a));b&&p.set(a,b);c&&d.place(a,c,e);return a};d.empty=function(a){g(k.byId(a))};var u=d.destroy=function(a){if(a=k.byId(a)){var b=a;a=a.parentNode;b.firstChild&&g(b);a&&(l("ie")&&a.canHaveChildren&&"removeNode"in b?b.removeNode(!1):a.removeChild(b))}}})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(d,m,l){var q={global:d.global,doc:d.global.document||null,body:function(k){k=
k||d.doc;return k.body||k.getElementsByTagName("body")[0]},setContext:function(k,p){d.global=q.global=k;d.doc=q.doc=p},withGlobal:function(k,p,s,g){var f=d.global;try{return d.global=q.global=k,q.withDoc.call(null,k.document,p,s,g)}finally{d.global=q.global=f}},withDoc:function(k,p,s,g){var f=q.doc,a=l("quirks"),c=l("ie"),e,b,n;try{d.doc=q.doc=k;d.isQuirks=l.add("quirks","BackCompat"==d.doc.compatMode,!0,!0);if(l("ie")&&(n=k.parentWindow)&&n.navigator)e=parseFloat(n.navigator.appVersion.split("MSIE ")[1])||
void 0,(b=k.documentMode)&&(5!=b&&Math.floor(e)!=b)&&(e=b),d.isIE=l.add("ie",e,!0,!0);s&&"string"==typeof p&&(p=s[p]);return p.apply(s,g||[])}finally{d.doc=q.doc=f,d.isQuirks=l.add("quirks",a,!0,!0),d.isIE=l.add("ie",c,!0,!0)}}};m.mixin(d,q);return q})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(d,m,l){if(7>=d("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(q){}var k={};d("ie")?k.byId=function(d,g){if("string"!=typeof d)return d;var f=g||
m.doc,a=d&&f.getElementById(d);if(a&&(a.attributes.id.value==d||a.id==d))return a;f=f.all[d];if(!f||f.nodeName)f=[f];for(var c=0;a=f[c++];)if(a.attributes&&a.attributes.id&&a.attributes.id.value==d||a.id==d)return a}:k.byId=function(d,g){return("string"==typeof d?(g||m.doc).getElementById(d):d)||null};l=l.global.document||null;d.add("dom-contains",!(!l||!l.contains));k.isDescendant=d("dom-contains")?function(d,g){return!(!(g=k.byId(g))||!g.contains(k.byId(d)))}:function(d,g){try{d=k.byId(d);for(g=
k.byId(g);d;){if(d==g)return!0;d=d.parentNode}}catch(f){}return!1};d.add("css-user-select",function(d,g,f){if(!f)return!1;d=f.style;g=["Khtml","O","Moz","Webkit"];f=g.length;var a="userSelect";do if("undefined"!==typeof d[a])return a;while(f--&&(a=g[f]+"UserSelect"));return!1});var p=d("css-user-select");k.setSelectable=p?function(d,g){k.byId(d).style[p]=g?"":"none"}:function(d,g){d=k.byId(d);var f=d.getElementsByTagName("*"),a=f.length;if(g)for(d.removeAttribute("unselectable");a--;)f[a].removeAttribute("unselectable");
else for(d.setAttribute("unselectable","on");a--;)f[a].setAttribute("unselectable","on")};return k})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(d,m,l,q,k,p){function s(a,c){var e=a.getAttributeNode&&a.getAttributeNode(c);return!!e&&e.specified}var g={innerHTML:1,textContent:1,className:1,htmlFor:m("ie"),value:1},f={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};d.has=function(a,c){var e=c.toLowerCase();
return g[p.names[e]||c]||s(q.byId(a),f[e]||c)};d.get=function(a,c){a=q.byId(a);var e=c.toLowerCase(),b=p.names[e]||c,n=a[b];if(g[b]&&"undefined"!=typeof n)return n;if("textContent"==b)return p.get(a,b);if("href"!=b&&("boolean"==typeof n||l.isFunction(n)))return n;e=f[e]||c;return s(a,e)?a.getAttribute(e):null};d.set=function(a,c,e){a=q.byId(a);if(2==arguments.length){for(var b in c)d.set(a,b,c[b]);return a}b=c.toLowerCase();var n=p.names[b]||c,r=g[n];if("style"==n&&"string"!=typeof e)return k.set(a,
e),a;if(r||"boolean"==typeof e||l.isFunction(e))return p.set(a,c,e);a.setAttribute(f[b]||c,e);return a};d.remove=function(a,c){q.byId(a).removeAttribute(f[c.toLowerCase()]||c)};d.getNodeProp=function(a,c){a=q.byId(a);var e=c.toLowerCase(),b=p.names[e]||c;if(b in a&&"href"!=b)return a[b];e=f[e]||c;return s(a,e)?a.getAttribute(e):null}})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(d,m){function l(b,e,r){e=e.toLowerCase();if("auto"==r){if("height"==e)return b.offsetHeight;if("width"==
e)return b.offsetWidth}if("fontweight"==e)switch(r){case 700:return"bold";default:return"normal"}e in a||(a[e]=c.test(e));return a[e]?p(b,r):r}var q,k={};q=d("webkit")?function(a){var c;if(1==a.nodeType){var e=a.ownerDocument.defaultView;c=e.getComputedStyle(a,null);!c&&a.style&&(a.style.display="",c=e.getComputedStyle(a,null))}return c||{}}:d("ie")&&(9>d("ie")||d("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,
null):{}};k.getComputedStyle=q;var p;p=d("ie")?function(a,c){if(!c)return 0;if("medium"==c)return 4;if(c.slice&&"px"==c.slice(-2))return parseFloat(c);var e=a.style,h=a.runtimeStyle,f=e.left,d=h.left;h.left=a.currentStyle.left;try{e.left=c,c=e.pixelLeft}catch(t){c=0}e.left=f;h.left=d;return c}:function(a,c){return parseFloat(c)||0};k.toPixelValue=p;var s=function(a,c){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(e){return c?{}:null}},g=9>d("ie")||10>d("ie")&&d("quirks")?function(a){try{return s(a).Opacity/
100}catch(c){return 1}}:function(a){return q(a).opacity},f=9>d("ie")||10>d("ie")&&d("quirks")?function(a,c){""===c&&(c=1);var e=100*c;1===c?(a.style.zoom="",s(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,s(a)?s(a,1).Opacity=e:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+e+")",s(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(e=a.firstChild;e;e=e.nextSibling)"td"==e.tagName.toLowerCase()&&f(e,
c);return c}:function(a,c){return a.style.opacity=c},a={left:!0,top:!0},c=/margin|padding|width|height|max|min|offset/,e={cssFloat:1,styleFloat:1,"float":1};k.get=function(a,c){var r=m.byId(a),h=arguments.length;if(2==h&&"opacity"==c)return g(r);c=e[c]?"cssFloat"in r.style?"cssFloat":"styleFloat":c;var f=k.getComputedStyle(r);return 1==h?f:l(r,c,f[c]||r.style[c])};k.set=function(a,c,r){var h=m.byId(a),d=arguments.length,v="opacity"==c;c=e[c]?"cssFloat"in h.style?"cssFloat":"styleFloat":c;if(3==d)return v?
f(h,r):h.style[c]=r;for(var t in c)k.set(a,t,c[t]);return k.getComputedStyle(h)};return k})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(d,m,l,q,k,p,s,g){function f(a){var c="";a=a.childNodes;for(var e=0,h;h=a[e];e++)8!=h.nodeType&&(c=1==h.nodeType?c+f(h):c+h.nodeValue);return c}var a={},c=1,e=m._scopeName+"attrid";l.add("dom-textContent",function(a,c,e){return"textContent"in e});d.names={"class":"className",
"for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};d.get=function(a,c){a=k.byId(a);var e=c.toLowerCase(),e=d.names[e]||c;return"textContent"==e&&!l("dom-textContent")?f(a):a[e]};d.set=function(b,n,f){b=k.byId(b);if(2==arguments.length&&"string"!=typeof n){for(var h in n)d.set(b,h,n[h]);return b}h=n.toLowerCase();h=d.names[h]||n;if("style"==h&&"string"!=typeof f)return p.set(b,f),b;if("innerHTML"==
h)return l("ie")&&b.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(s.empty(b),b.appendChild(s.toDom(f,b.ownerDocument))):b[h]=f,b;if("textContent"==h&&!l("dom-textContent"))return s.empty(b),b.appendChild(b.ownerDocument.createTextNode(f)),b;if(q.isFunction(f)){var u=b[e];u||(u=c++,b[e]=u);a[u]||(a[u]={});var v=a[u][h];if(v)g.disconnect(v);else try{delete b[h]}catch(t){}f?a[u][h]=g.connect(b,h,f):b[h]=null;return b}b[h]=f;return b}})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),
function(d,m,l,q,k,p,s,g){function f(a,b,c,e,f){e=g.hitch(c,e);if(!a||!a.addEventListener&&!a.attachEvent)return q.after(a||d.global,b,e,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));a||(a=d.global);if(!f)switch(b){case "keypress":b=n;break;case "mouseenter":b=p.enter;break;case "mouseleave":b=p.leave}return m(a,b,e,f)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}s.add("events-keypress-typed",function(){var a={charCode:0};
try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!s("opera")});var c={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},e=s("mac")?"metaKey":"ctrlKey",b=function(b,c){var e=g.mixin({},b,c);a(e);e.preventDefault=function(){b.preventDefault()};e.stopPropagation=function(){b.stopPropagation()};return e},n;n=s("events-keypress-typed")?function(a,
e){var n=m(a,"keydown",function(a){var h=a.keyCode,n=13!=h&&32!=h&&(27!=h||!s("ie"))&&(48>h||90<h)&&(96>h||111<h)&&(186>h||192<h)&&(219>h||222<h)&&229!=h;if(n||a.ctrlKey){n=n?0:h;if(a.ctrlKey){if(3==h||13==h)return e.call(a.currentTarget,a);n=95<n&&106>n?n-48:!a.shiftKey&&65<=n&&90>=n?n+32:c[n]||n}h=b(a,{type:"keypress",faux:!0,charCode:n});e.call(a.currentTarget,h);if(s("ie"))try{a.keyCode=h.keyCode}catch(f){}}}),f=m(a,"keypress",function(a){var c=a.charCode;a=b(a,{charCode:32<=c?c:0,faux:!0});return e.call(this,
a)});return{remove:function(){n.remove();f.remove()}}}:s("opera")?function(a,c){return m(a,"keypress",function(a){var e=a.which;3==e&&(e=99);e=32>e&&!a.shiftKey?0:e;a.ctrlKey&&(!a.shiftKey&&65<=e&&90>=e)&&(e+=32);return c.call(this,b(a,{charCode:e}))})}:function(b,c){return m(b,"keypress",function(b){a(b);return c.call(this,b)})};var r={_keypress:n,connect:function(a,b,c,e,n){var r=arguments,d=[],g=0;d.push("string"==typeof r[0]?null:r[g++],r[g++]);var k=r[g+1];d.push("string"==typeof k||"function"==
typeof k?r[g++]:null,r[g++]);for(k=r.length;g<k;g++)d.push(r[g]);return f.apply(this,d)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,c){return l.subscribe(a,g.hitch(b,c))},publish:function(a,b){return l.publish.apply(l,[a].concat(b))},connectPublisher:function(a,b,c){var e=function(){r.publish(a,arguments)};return c?r.connect(b,c,e):r.connect(b,e)},isCopyKey:function(a){return a[e]}};r.unsubscribe=r.disconnect;g.mixin(d,r);return r})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect",
"./_base/kernel","./sniff"],function(d,m,l){function q(a,b,c,h,r){if(h=b.match(/(.*):(.*)/))return b=h[2],h=h[1],g.selector(h,b).call(r,a,c);l("touch")&&(f.test(b)&&(c=A(c)),!l("event-orientationchange")&&"orientationchange"==b&&(b="resize",a=window,c=A(c)));n&&(c=n(c));if(a.addEventListener){var d=b in e,t=d?e[b]:b;a.addEventListener(t,c,d);return{remove:function(){a.removeEventListener(t,c,d)}}}if(v&&a.attachEvent)return v(a,"on"+b,c);throw Error("Target must be an event emitter");}function k(){this.cancelable=
!1;this.defaultPrevented=!0}function p(){this.bubbles=!1}var s=window.ScriptEngineMajorVersion;l.add("jscript",s&&s()+ScriptEngineMinorVersion()/10);l.add("event-orientationchange",l("touch")&&!l("android"));l.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);l.add("event-focusin",function(a,b,c){return"onfocusin"in c});l("touch")&&l.add("touch-can-modify-event-delegate",function(){var a=function(){};a.prototype=document.createEvent("MouseEvents");
try{var b=new a;b.target=null;return null===b.target}catch(c){return!1}});var g=function(a,b,c,e){return"function"==typeof a.on&&"function"!=typeof b&&!a.nodeType?a.on(b,c):g.parse(a,b,c,q,e,this)};g.pausable=function(a,b,c,e){var h;a=g(a,b,function(){if(!h)return c.apply(this,arguments)},e);a.pause=function(){h=!0};a.resume=function(){h=!1};return a};g.once=function(a,b,c,e){var h=g(a,b,function(){h.remove();return c.apply(this,arguments)});return h};g.parse=function(a,b,c,e,h,n){var f;if(b.call)return b.call(n,
a,c);b instanceof Array?f=b:-1<b.indexOf(",")&&(f=b.split(/\s*,\s*/));if(f){var r=[];b=0;for(var d;d=f[b++];)r.push(g.parse(a,d,c,e,h,n));r.remove=function(){for(var a=0;a<r.length;a++)r[a].remove()};return r}return e(a,b,c,h,n)};var f=/^touch/;g.matches=function(a,b,c,e,h){h=h&&"function"==typeof h.matches?h:m.query;e=!1!==e;1!=a.nodeType&&(a=a.parentNode);for(;!h.matches(a,b,c);)if(a==c||!1===e||!(a=a.parentNode)||1!=a.nodeType)return!1;return a};g.selector=function(a,b,c){return function(e,h){function n(b){return g.matches(b,
a,e,c,f)}var f="function"==typeof a?{matches:a}:this,r=b.bubble;return r?g(e,r(n),h):g(e,b,function(a){var b=n(a.target);if(b)return a.selectorTarget=b,h.call(b,a)})}};var a=[].slice,c=g.emit=function(b,c,e){var h=a.call(arguments,2),n="on"+c;if("parentNode"in b){var f=h[0]={},r;for(r in e)f[r]=e[r];f.preventDefault=k;f.stopPropagation=p;f.target=b;f.type=c;e=f}do b[n]&&b[n].apply(b,h);while(e&&e.bubbles&&(b=b.parentNode));return e&&e.cancelable&&e},e=l("event-focusin")?{}:{focusin:"focus",focusout:"blur"};
if(!l("event-stopimmediatepropagation"))var b=function(){this.modified=this.immediatelyStopped=!0},n=function(a){return function(c){if(!c.immediatelyStopped)return c.stopImmediatePropagation=b,a.apply(this,arguments)}};if(l("dom-addeventlistener"))g.emit=function(a,b,e){if(a.dispatchEvent&&document.createEvent){var h=(a.ownerDocument||document).createEvent("HTMLEvents");h.initEvent(b,!!e.bubbles,!!e.cancelable);for(var n in e)n in h||(h[n]=e[n]);return a.dispatchEvent(h)&&h}return c.apply(g,arguments)};
else{g._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event);if(!a)return a;try{r&&(a.type==r.type&&a.srcElement==r.target)&&(a=r)}catch(c){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=t,a.preventDefault=y),a.type){case "keypress":var e="charCode"in a?a.charCode:a.keyCode;10==e?(e=0,a.keyCode=
13):13==e||27==e?e=0:3==e&&(e=99);a.charCode=e;e=a;e.keyChar=e.charCode?String.fromCharCode(e.charCode):"";e.charOrCode=e.keyChar||e.keyCode}return a};var r,h=function(a){this.handle=a};h.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var u=function(a){return function(b){b=g._fixEvent(b,this);var c=a.call(this,b);b.modified&&(r||setTimeout(function(){r=null}),r=b);return c}},v=function(a,b,c){c=u(c);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=
top||5.8>l("jscript"))&&!l("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var e=a[b];if(!e||!e.listeners){var n=e,e=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");e.listeners=[];a[b]=e;e.global=this;n&&e.listeners.push(_dojoIEListeners_.push(n)-1)}e.listeners.push(a=e.global._dojoIEListeners_.push(c)-
1);return new h(a)}return d.after(a,b,c,!0)},t=function(){this.cancelBubble=!0},y=g._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(l("touch"))var z=function(){},w=window.orientation,A=function(a){return function(b){var c=b.corrected;if(!c){var e=b.type;try{delete b.type}catch(h){}if(b.type){if(l("touch-can-modify-event-delegate"))z.prototype=b,c=new z;else{var c={},n;for(n in b)c[n]=
b[n]}c.preventDefault=function(){b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()}}else c=b,c.type=e;b.corrected=c;if("resize"==e){if(w==window.orientation)return null;w=window.orientation;c.type="orientationchange";return a.call(this,c)}"rotation"in c||(c.rotation=0,c.scale=1);var e=c.changedTouches[0],f;for(f in e)delete c[f],c[f]=e[f]}return a.call(this,c)}};return g})},"dojo/topic":function(){define(["./Evented"],function(d){var m=new d;return{publish:function(d,q){return m.emit.apply(m,
arguments)},subscribe:function(d,q){return m.on.apply(m,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(d,m){function l(){}var q=d.after;l.prototype={on:function(d,p){return m.parse(this,d,p,function(d,g){return q(d,"on"+g,p,!0)})},emit:function(d,p){var s=[this];s.push.apply(s,arguments);return m.emit.apply(m,s)}};return l})},"dojo/aspect":function(){define([],function(){function d(d,g,f,a){var c=d[g],e="around"==g,b;if(e){var n=f(function(){return c.advice(this,arguments)});
b={remove:function(){n&&(n=d=f=null)},advice:function(a,b){return n?n.apply(a,b):c.advice(a,b)}}}else b={remove:function(){if(b.advice){var a=b.previous,c=b.next;!c&&!a?delete d[g]:(a?a.next=c:d[g]=c,c&&(c.previous=a));d=f=b.advice=null}},id:d.nextId++,advice:f,receiveArguments:a};if(c&&!e)if("after"==g){for(;c.next&&(c=c.next););c.next=b;b.previous=c}else"before"==g&&(d[g]=b,b.next=c,c.previous=b);else d[g]=b;return b}function m(k){return function(g,f,a,c){var e=g[f],b;if(!e||e.target!=g)g[f]=b=
function(){for(var a=b.nextId,c=arguments,e=b.before;e;)e.advice&&(c=e.advice.apply(this,c)||c),e=e.next;if(b.around)var f=b.around.advice(this,c);for(e=b.after;e&&e.id<a;){if(e.advice)if(e.receiveArguments)var d=e.advice.apply(this,c),f=d===l?f:d;else f=e.advice.call(this,f,c);e=e.next}return f},e&&(b.around={advice:function(a,b){return e.apply(a,b)}}),b.target=g,b.nextId=b.nextId||0;g=d(b||e,k,a,c);a=null;return g}}var l,q=m("after"),k=m("before"),p=m("around");return{before:k,around:p,after:q}})},
"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(d,m,l,q){if(m._fixEvent){var k=m._fixEvent;m._fixEvent=function(d,g){(d=k(d,g))&&q.normalizeEvent(d);return d}}var p={fix:function(d,g){return m._fixEvent?m._fixEvent(d,g):d},stop:function(d){l("dom-addeventlistener")||d&&d.preventDefault?(d.preventDefault(),d.stopPropagation()):(d=d||window.event,d.cancelBubble=!0,m._preventDefault.call(d))}};d.fixEvent=p.fix;d.stopEvent=p.stop;return p})},"dojo/dom-geometry":function(){define(["./sniff",
"./_base/window","./dom","./dom-style"],function(d,m,l,q){function k(a,c,e,b,n,f){f=f||"px";a=a.style;isNaN(c)||(a.left=c+f);isNaN(e)||(a.top=e+f);0<=b&&(a.width=b+f);0<=n&&(a.height=n+f)}function p(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function s(a){return"border-box"==g.boxModel||"table"==a.tagName.toLowerCase()||p(a)}var g={boxModel:"content-box"};d("ie")&&(g.boxModel="BackCompat"==document.compatMode?
"border-box":"content-box");g.getPadExtents=function(a,c){a=l.byId(a);var e=c||q.getComputedStyle(a),b=q.toPixelValue,n=b(a,e.paddingLeft),f=b(a,e.paddingTop),h=b(a,e.paddingRight),e=b(a,e.paddingBottom);return{l:n,t:f,r:h,b:e,w:n+h,h:f+e}};g.getBorderExtents=function(a,c){a=l.byId(a);var e=q.toPixelValue,b=c||q.getComputedStyle(a),n="none"!=b.borderLeftStyle?e(a,b.borderLeftWidth):0,f="none"!=b.borderTopStyle?e(a,b.borderTopWidth):0,h="none"!=b.borderRightStyle?e(a,b.borderRightWidth):0,e="none"!=
b.borderBottomStyle?e(a,b.borderBottomWidth):0;return{l:n,t:f,r:h,b:e,w:n+h,h:f+e}};g.getPadBorderExtents=function(a,c){a=l.byId(a);var e=c||q.getComputedStyle(a),b=g.getPadExtents(a,e),e=g.getBorderExtents(a,e);return{l:b.l+e.l,t:b.t+e.t,r:b.r+e.r,b:b.b+e.b,w:b.w+e.w,h:b.h+e.h}};g.getMarginExtents=function(a,c){a=l.byId(a);var e=c||q.getComputedStyle(a),b=q.toPixelValue,f=b(a,e.marginLeft),d=b(a,e.marginTop),h=b(a,e.marginRight),e=b(a,e.marginBottom);return{l:f,t:d,r:h,b:e,w:f+h,h:d+e}};g.getMarginBox=
function(a,c){a=l.byId(a);var e=c||q.getComputedStyle(a),b=g.getMarginExtents(a,e),f=a.offsetLeft-b.l,r=a.offsetTop-b.t,h=a.parentNode,u=q.toPixelValue;if(d("mozilla")){var v=parseFloat(e.left),e=parseFloat(e.top);!isNaN(v)&&!isNaN(e)?(f=v,r=e):h&&h.style&&(h=q.getComputedStyle(h),"visible"!=h.overflow&&(f+="none"!=h.borderLeftStyle?u(a,h.borderLeftWidth):0,r+="none"!=h.borderTopStyle?u(a,h.borderTopWidth):0))}else if((d("opera")||8==d("ie")&&!d("quirks"))&&h)h=q.getComputedStyle(h),f-="none"!=h.borderLeftStyle?
u(a,h.borderLeftWidth):0,r-="none"!=h.borderTopStyle?u(a,h.borderTopWidth):0;return{l:f,t:r,w:a.offsetWidth+b.w,h:a.offsetHeight+b.h}};g.getContentBox=function(a,c){a=l.byId(a);var e=c||q.getComputedStyle(a),b=a.clientWidth,f=g.getPadExtents(a,e),r=g.getBorderExtents(a,e);b?(e=a.clientHeight,r.w=r.h=0):(b=a.offsetWidth,e=a.offsetHeight);d("opera")&&(f.l+=r.l,f.t+=r.t);return{l:f.l,t:f.t,w:b-f.w-r.w,h:e-f.h-r.h}};g.setContentSize=function(a,c,e){a=l.byId(a);var b=c.w;c=c.h;s(a)&&(e=g.getPadBorderExtents(a,
e),0<=b&&(b+=e.w),0<=c&&(c+=e.h));k(a,NaN,NaN,b,c)};var f={l:0,t:0,w:0,h:0};g.setMarginBox=function(a,c,e){a=l.byId(a);var b=e||q.getComputedStyle(a);e=c.w;var n=c.h,r=s(a)?f:g.getPadBorderExtents(a,b),b=g.getMarginExtents(a,b);if(d("webkit")&&p(a)){var h=a.style;0<=e&&!h.width&&(h.width="4px");0<=n&&!h.height&&(h.height="4px")}0<=e&&(e=Math.max(e-r.w-b.w,0));0<=n&&(n=Math.max(n-r.h-b.h,0));k(a,c.l,c.t,e,n)};g.isBodyLtr=function(a){a=a||m.doc;return"ltr"==(m.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};
g.docScroll=function(a){a=a||m.doc;var c=m.doc.parentWindow||m.doc.defaultView;return"pageXOffset"in c?{x:c.pageXOffset,y:c.pageYOffset}:(c=d("quirks")?m.body(a):a.documentElement)&&{x:g.fixIeBiDiScrollLeft(c.scrollLeft||0,a),y:c.scrollTop||0}};g.getIeDocumentElementOffset=function(a){return{x:0,y:0}};g.fixIeBiDiScrollLeft=function(a,c){c=c||m.doc;var e=d("ie");if(e&&!g.isBodyLtr(c)){var b=d("quirks"),f=b?m.body(c):c.documentElement,r=m.global;6==e&&(!b&&r.frameElement&&f.scrollHeight>f.clientHeight)&&
(a+=f.clientLeft);return 8>e||b?a+f.clientWidth-f.scrollWidth:-a}return a};g.position=function(a,c){a=l.byId(a);var e=m.body(a.ownerDocument),b=a.getBoundingClientRect(),b={x:b.left,y:b.top,w:b.right-b.left,h:b.bottom-b.top};9>d("ie")&&(b.x-=d("quirks")?e.clientLeft+e.offsetLeft:0,b.y-=d("quirks")?e.clientTop+e.offsetTop:0);c&&(e=g.docScroll(a.ownerDocument),b.x+=e.x,b.y+=e.y);return b};g.getMarginSize=function(a,c){a=l.byId(a);var e=g.getMarginExtents(a,c||q.getComputedStyle(a)),b=a.getBoundingClientRect();
return{w:b.right-b.left+e.w,h:b.bottom-b.top+e.h}};g.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!("pageX"in a)){var c=a.target,c=c&&c.ownerDocument||document,e=d("quirks")?c.body:c.documentElement;a.pageX=a.clientX+g.fixIeBiDiScrollLeft(e.scrollLeft||0,c);a.pageY=a.clientY+(e.scrollTop||0)}};return g})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(d,m,l,q,k){function p(d,g){var f=function(a,c){return m(a,
d,function(e){if(g)return g(e,c);if(!q.isDescendant(e.relatedTarget,a))return c.call(this,e)})};f.bubble=function(a){return p(d,function(c,e){var b=a(c.target),f=c.relatedTarget;if(b&&b!=(f&&1==f.nodeType&&a(f)))return e.call(b,c)})};return f}l.add("dom-quirks",k.doc&&"BackCompat"==k.doc.compatMode);l.add("events-mouseenter",k.doc&&"onmouseenter"in k.doc.createElement("div"));l.add("events-mousewheel",k.doc&&"onmousewheel"in k.doc);k=l("dom-quirks")&&l("ie")||!l("dom-addeventlistener")?{LEFT:1,MIDDLE:4,
RIGHT:2,isButton:function(d,g){return d.button&g},isLeft:function(d){return d.button&1},isMiddle:function(d){return d.button&4},isRight:function(d){return d.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(d,g){return d.button==g},isLeft:function(d){return 0==d.button},isMiddle:function(d){return 1==d.button},isRight:function(d){return 2==d.button}};d.mouseButtons=k;d=l("events-mousewheel")?"mousewheel":function(d,g){return m(d,"DOMMouseScroll",function(f){f.wheelDelta=-f.detail;g.call(this,
f)})};return{_eventHandler:p,enter:p("mouseover"),leave:p("mouseout"),wheel:d,isLeft:k.isLeft,isMiddle:k.isMiddle,isRight:k.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(d,m,l){d._name="browser";m.mixin(d,{isBrowser:!0,isFF:l("ff"),isIE:l("ie"),isKhtml:l("khtml"),isWebKit:l("webkit"),isMozilla:l("mozilla"),isMoz:l("mozilla"),isOpera:l("opera"),isSafari:l("safari"),isChrome:l("chrome"),isMac:l("mac"),isIos:l("ios"),isAndroid:l("android"),isWii:l("wii"),
isQuirks:l("quirks"),isAir:l("air")});return l})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(d,m){return d.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:m("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,
NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:m("mac")&&!m("air")?m("safari")?91:224:17}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(d,m,l){function q(f){if("string"==
typeof f||f instanceof String){if(f&&!p.test(f))return s[0]=f,s;f=f.split(p);f.length&&!f[0]&&f.shift();f.length&&!f[f.length-1]&&f.pop();return f}return!f?[]:m.filter(f,function(a){return a})}var k,p=/\s+/,s=[""],g={};return k={contains:function(f,a){return 0<=(" "+l.byId(f).className+" ").indexOf(" "+a+" ")},add:function(f,a){f=l.byId(f);a=q(a);var c=f.className,e,c=c?" "+c+" ":" ";e=c.length;for(var b=0,d=a.length,r;b<d;++b)(r=a[b])&&0>c.indexOf(" "+r+" ")&&(c+=r+" ");e<c.length&&(f.className=
c.substr(1,c.length-2))},remove:function(f,a){f=l.byId(f);var c;if(void 0!==a){a=q(a);c=" "+f.className+" ";for(var e=0,b=a.length;e<b;++e)c=c.replace(" "+a[e]+" "," ");c=d.trim(c)}else c="";f.className!=c&&(f.className=c)},replace:function(f,a,c){f=l.byId(f);g.className=f.className;k.remove(g,c);k.add(g,a);f.className!==g.className&&(f.className=g.className)},toggle:function(f,a,c){f=l.byId(f);if(void 0===c){a=q(a);for(var e=0,b=a.length,d;e<b;++e)d=a[e],k[k.contains(f,d)?"remove":"add"](f,d)}else k[c?
"add":"remove"](f,a);return c}}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(d,m,l){function q(a){return s[a]=new Function("item","index","array",a)}function k(a){var c=!a;return function(e,b,f){var d=0,h=e&&e.length||0,g;h&&"string"==typeof e&&(e=e.split(""));"string"==typeof b&&(b=s[b]||q(b));if(f)for(;d<h;++d){if(g=!b.call(f,e[d],d,e),a^g)return!g}else for(;d<h;++d)if(g=!b(e[d],d,e),a^g)return!g;return c}}function p(a){var c=1,e=0,b=0;a||(c=e=b=-1);return function(d,
r,h,u){if(u&&0<c)return f.lastIndexOf(d,r,h);u=d&&d.length||0;var v=a?u+b:e;h===g?h=a?e:u+b:0>h?(h=u+h,0>h&&(h=e)):h=h>=u?u+b:h;for(u&&"string"==typeof d&&(d=d.split(""));h!=v;h+=c)if(d[h]==r)return h;return-1}}var s={},g,f={every:k(!1),some:k(!0),indexOf:p(!0),lastIndexOf:p(!1),forEach:function(a,c,e){var b=0,f=a&&a.length||0;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof c&&(c=s[c]||q(c));if(e)for(;b<f;++b)c.call(e,a[b],b,a);else for(;b<f;++b)c(a[b],b,a)},map:function(a,c,e,b){var f=0,
d=a&&a.length||0;b=new (b||Array)(d);d&&"string"==typeof a&&(a=a.split(""));"string"==typeof c&&(c=s[c]||q(c));if(e)for(;f<d;++f)b[f]=c.call(e,a[f],f,a);else for(;f<d;++f)b[f]=c(a[f],f,a);return b},filter:function(a,c,e){var b=0,f=a&&a.length||0,d=[],h;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof c&&(c=s[c]||q(c));if(e)for(;b<f;++b)h=a[b],c.call(e,h,b,a)&&d.push(h);else for(;b<f;++b)h=a[b],c(h,b,a)&&d.push(h);return d},clearCache:function(){s={}}};l.mixin(d,f);return f})},"dgrid/List":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/on dojo/has ./util/misc dojo/_base/sniff".split(" "),
function(d,m,l,q,k,p){function s(a,b){a.className="dgrid-scrollbar-measure";document.body.appendChild(a);var c=a["offset"+b]-a["client"+b];a.className="";a.parentNode&&document.body.removeChild(a);return c}function g(a){l.replace(this.domNode,a,this._class||"");this._class=a}function f(){return this._class}var a=[];k("mozilla")&&a.push("has-mozilla");k("touch")&&a.push("has-touch");l.add(document.documentElement,a);k.add("pointer",function(a){return"PointerEvent"in a?"pointer":"MSPointerEvent"in a?
"MSPointer":!1});var c,e;k.add("dom-scrollbar-width",function(a,b,c){return s(c,"Width")});k.add("dom-scrollbar-height",function(a,b,c){return s(c,"Height")});k.add("dom-rtl-scrollbar-left",function(a,b,c){a=document.createElement("div");c.className="dgrid-scrollbar-measure";c.setAttribute("dir","rtl");c.appendChild(a);document.body.appendChild(c);b=!!k("ie")||!!k("trident")||/\bEdge\//.test(navigator.userAgent)||a.offsetLeft>=k("dom-scrollbar-width");c.className="";c.parentNode&&document.body.removeChild(c);
m.destroy(a);c.removeAttribute("dir");return b});var b=0,n=function(){this._started&&this.resize()},r=d(null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,addUiClasses:!0,highlightDuration:250,postscript:function(a,b){var c=this;(this._Row=function(a,b,c){this.id=a;this.data=b;this.element=c}).prototype.remove=function(){c.removeRow(this.element)};b&&(this.srcNodeRef=b=b.nodeType?b:document.getElementById(b));this.create(a,b)},listType:"list",create:function(a,
c){var e=this.domNode=c||document.createElement("div"),f;a&&(this.params=a,d.safeMixin(this,a),f=a["class"]||a.className||e.className);this.sort=this.sort||[];this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=e.id=e.id||this.id||r.autoIdPrefix+b++;this.buildRendering();f&&g.call(this,f);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var a=this.domNode,b=this.addUiClasses,c=this,e,f,
d;d=this.isRTL="rtl"===(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();a.className="";a.setAttribute("role","grid");l.add(a,"dgrid dgrid-"+this.listType+(b?" ui-widget":""));e=this.headerNode=m.create("div",{className:"dgrid-header dgrid-header-row"+(b?" ui-widget-header":"")+(this.showHeader?"":" dgrid-header-hidden")},a);f=this.bodyNode=m.create("div",{className:"dgrid-scroller"},a);k("ff")&&(f.tabIndex=-1);this.headerScrollNode=m.create("div",{className:"dgrid-header dgrid-header-scroll dgrid-scrollbar-width"+
(b?" ui-widget-header":"")},a);this.footerNode=m.create("div",{className:"dgrid-footer"+(this.showFooter?"":" dgrid-footer-hidden")},a);d&&(a.className+=" dgrid-rtl"+(k("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));q(f,"scroll",function(b){c.showHeader&&(e.scrollLeft=b.scrollLeft||f.scrollLeft);b.stopPropagation();q.emit(a,"scroll",{scrollTarget:f})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=m.create("div",{className:"dgrid-content"+(b?" ui-widget-content":"")},
this.bodyNode);this._listeners.push(this._resizeHandle=q(window,"resize",p.throttleDelayed(n,this)))},postCreate:function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this.sort))},configStructure:function(){},resize:function(){var a=this.bodyNode,b=this.footerNode,b=this.showFooter?b.offsetHeight:0;this.headerScrollNode.style.height=a.style.marginTop=this.headerNode.offsetHeight+"px";a.style.marginBottom=b+"px";c||(c=k("dom-scrollbar-width"),
e=k("dom-scrollbar-height"),k("ie")&&(c++,e++),p.addCssRule(".dgrid-scrollbar-width","width: "+c+"px"),p.addCssRule(".dgrid-scrollbar-height","height: "+e+"px"),17!==c&&(p.addCssRule(".dgrid-header-row","right: "+c+"px"),p.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+c+"px")))},addCssRule:function(a,b){var c=p.addCssRule(a,b);this.cleanAddedRules&&this._listeners.push(c);return c},on:function(a,b){var c=q(this.domNode,a,b);k("dom-addeventlistener")||this._listeners.push(c);return c},cleanup:function(){for(var a in this._rowIdToObject)if(this._rowIdToObject[a]!==
this.columns){var b=document.getElementById(a);b&&this.removeRow(b,!0)}},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();this._listeners=null}this._started=!1;this.cleanup();m.destroy(this.domNode)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoRowId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},highlightRow:function(a,b){var c="dgrid-highlight"+(this.addUiClasses?" ui-state-highlight":"");a=a.element||a;l.add(a,
c);setTimeout(function(){l.remove(a,c)},b||this.highlightDuration)},adjustRowIndices:function(a){var b=a.rowIndex;if(-1<b){do-1<a.rowIndex&&(this.maintainOddEven&&l.contains(a,"dgrid-row")&&l.replace(a,1===b%2?"dgrid-row-odd":"dgrid-row-even",0===b%2?"dgrid-row-odd":"dgrid-row-even"),a.rowIndex=b++);while((a=a.nextSibling)&&a.rowIndex!==b)}},renderArray:function(a,b,c){c=c||{};var e=c.start||0,f=document.createDocumentFragment(),d=[],n=0,r=a.length;b||(this._lastCollection=a);for(;n<r;)d[n]=this.insertRow(a[n],
f,null,e++,c),n++;if((a=b?b.parentNode:this.contentNode)&&a.parentNode&&(a!==this.contentNode||r))a.insertBefore(f,b||null),r&&this.adjustRowIndices(d[r-1]);return d},renderHeader:function(){},_autoRowId:0,insertRow:function(a,b,c,e,f){var d=this.id+"-row-"+(this.collection&&this.collection.getIdentity?this.collection.getIdentity(a):this._autoRowId++),n=document.getElementById(d),r=n&&n.previousSibling;n&&(n===c&&(c=(c.connected||c).nextSibling),this.removeRow(n,!1,f));n=this.renderRow(a,f);n.className=
(n.className||"")+" dgrid-row "+(1===e%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[n.id=d]=a;b.insertBefore(n,c||null);n.rowIndex=e;r&&r.rowIndex!==n.rowIndex-1&&this.adjustRowIndices(r);return n},renderRow:function(a){var b=document.createElement("div");b.appendChild(document.createTextNode(a));return b},removeRow:function(a,b){a=a.element||a;delete this._rowIdToObject[a.id];b||m.destroy(a)},row:function(a){var b;if(a instanceof this._Row)return a;
a.target&&a.target.nodeType&&(a=a.target);if(a.nodeType){do{var c=a.id;if(b=this._rowIdToObject[c])return new this._Row(c.substring(this.id.length+5),b,a);a=a.parentNode}while(a&&a!==this.domNode)}else return"object"===typeof a?b=this.collection.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:function(a,b,c,e){var f,d;d=f=a.element;b=b||1;do if(a=f[0>b?"previousSibling":"nextSibling"]){do if((f=
a)&&-1<(f.className+" ").indexOf(c+" ")){d=f;b+=0>b?1:-1;break}while(a=(!e||!f.hidden)&&f[0>b?"lastChild":"firstChild"])}else if(f=f.parentNode,!f||f===this.bodyNode||f===this.headerNode)break;while(b);return d},up:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,-(b||1),"dgrid-row",c))},down:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,b||1,"dgrid-row",c))},scrollTo:function(a){"undefined"!==typeof a.x&&(this.bodyNode.scrollLeft=a.x);"undefined"!==
typeof a.y&&(this.bodyNode.scrollTop=a.y)},getScrollPosition:function(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}},get:function(a){var b="_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,b){if("object"===typeof a)for(var c in a)this.set(c,a[c]);else c="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,1)):this[a]=b;return this},
_getClass:f,_setClass:g,_getClassName:f,_setClassName:g,_setSort:function(a,b){this.sort="string"!==typeof a?a:[{property:a,descending:b}];this._applySort()},_applySort:function(){this.refresh();if(this._lastCollection){var a=this.sort;if(a&&0<a.length){var b=a[0].property,c=!!a[0].descending;this._lastCollection.sort(function(a,e){var f=a[b],d=e[b];void 0===f&&(f="");void 0===d&&(d="");return f===d?0:f>d!==c?1:-1})}this.renderArray(this._lastCollection)}},_setShowHeader:function(a){var b=this.headerNode;
this.showHeader=a;l.toggle(b,"dgrid-header-hidden",!a);this.renderHeader();this.resize();a&&(b.scrollLeft=this.getScrollPosition().x)},_setShowFooter:function(a){this.showFooter=a;l.toggle(this.footerNode,"dgrid-footer-hidden",!a);this.resize()}});r.autoIdPrefix="dgrid_";return r})},"dgrid/util/misc":function(){define(["dojo/has"],function(d){d.add("dom-contains",function(d,f,a){return!!a.contains});var m=[],l,q,k,p=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,s={defaultDelay:15,throttle:function(d,f,a){var c=
!1;a=a||s.defaultDelay;return function(){c||(c=!0,d.apply(f,arguments),setTimeout(function(){c=!1},a))}},throttleDelayed:function(d,f,a){var c=!1;a=a||s.defaultDelay;return function(){if(!c){c=!0;var e=arguments;setTimeout(function(){c=!1;d.apply(f,e)},a)}}},debounce:function(d,f,a){var c;a=a||s.defaultDelay;return function(){c&&(clearTimeout(c),c=null);var e=arguments;c=setTimeout(function(){d.apply(f,e)},a)}},each:function(d,f,a){var c,e;if(d)if("number"===typeof d.length){c=0;for(e=d.length;c<
e;c++)f.call(a,d[c],c,d)}else for(c in d)f.call(a,d[c],c,d)},addCssRule:function(d,f){l||(l=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(l),l=l.sheet||l.styleSheet,q=l.deleteRule?"deleteRule":"removeRule",k=l.cssRules?"cssRules":"rules");var a=m.length;m[a]=(l.cssRules||l.rules).length;l.addRule?l.addRule(d,f):l.insertRule(d+"{"+f+"}",m[a]);return{get:function(c){return l[k][m[a]].style[c]},set:function(c,e){"undefined"!==typeof m[a]&&(l[k][m[a]].style[c]=e)},
remove:function(){var c=m[a],e,b;if(void 0!==c){l[q](c);m[a]=void 0;e=a+1;for(b=m.length;e<b;e++)m[e]>c&&m[e]--}}}},escapeCssIdentifier:function(d,f){return"string"===typeof d?d.replace(p,f||"\\$1"):d}};return s})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(d,m,l){return d([m,l],{})})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dojo/when ./util/misc".split(" "),function(d,
m,l,q,k,p,s,g){return l([d,m],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:g.defaultDelay,keepScrollPosition:!1,rowHeight:0,postCreate:function(){this.inherited(arguments);var f=this;p(this.bodyNode,"scroll",g[this.pagingMethod](function(a){f._processScroll(a)},null,this.pagingDelay))},renderQuery:function(f,a){var c=this,e=a&&a.container||this.contentNode,b={query:f,count:0},d,r=this.preload,h=
{node:k.create("div",{className:"dgrid-preload",style:{height:"0"}},e),count:0,query:f,next:b};h.node.rowIndex=0;b.node=d=k.create("div",{className:"dgrid-preload"},e);b.previous=h;d.rowIndex=this.minRowsPerPage;r?((b.next=r.next)&&d.offsetTop>=r.node.offsetTop?b.previous=r:(b.next=r,b.previous=r.previous),b.previous.next=b,b.next.previous=b):this.preload=b;var g=k.create("div",{className:"dgrid-loading"},d,"before");k.create("div",{className:"dgrid-below"},g).innerHTML=this.loadingMessage;a=q.mixin({start:0,
count:this.minRowsPerPage},"level"in f?{queryLevel:f.level}:null);return this._trackError(function(){var e=f(a);return c.renderQueryResults(e,d,a).then(function(f){return e.totalLength.then(function(e){var h=f.length,r=d.parentNode;c._rows&&(c._rows.min=0,c._rows.max=h===e?Infinity:h-1);k.destroy(g);"queryLevel"in a||(c._total=e);0===e&&r&&(c.noDataNode&&k.destroy(c.noDataNode),c._insertNoDataNode(r));c._calcAverageRowHeight(f);e-=h;b.count=e;d.rowIndex=h;e?d.style.height=Math.min(e*c.rowHeight,c.maxEmptySpace)+
"px":d.style.display="none";c._previousScrollPosition&&(c.scrollTo(c._previousScrollPosition),delete c._previousScrollPosition);return s(c._processScroll()).then(function(){return f})})}).otherwise(function(a){k.destroy(g);throw a;})})},refresh:function(f){var a=this,c=f&&f.keepScrollPosition;"undefined"===typeof c&&(c=this.keepScrollPosition);c&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this._renderedCollection)return this.renderQuery(function(c){return a._renderedCollection.fetchRange({start:c.start,
end:c.start+c.count})}).then(function(){a._emitRefreshComplete()})},resize:function(){this.inherited(arguments);this.rowHeight||this._calcAverageRowHeight(this.contentNode.getElementsByClassName("dgrid-row"));this._processScroll()},cleanup:function(){this.inherited(arguments);this.preload=null},renderQueryResults:function(f){var a=this.inherited(arguments),c=this._renderedCollection;c&&c.releaseRange&&a.then(function(a){a[0]&&!a[0].parentNode.tagName&&f.totalLength.then(function(){c.releaseRange(a[0].rowIndex,
a[a.length-1].rowIndex+1)})});return a},_getFirstRowSibling:function(f){return f.lastChild},_calcRowHeight:function(f){var a=f.nextSibling;return a&&!/\bdgrid-preload\b/.test(a.className)?a.offsetTop-f.offsetTop:f.offsetHeight},_calcAverageRowHeight:function(f){for(var a=f.length,c=0,e=0;e<a;e++)c+=this._calcRowHeight(f[e]);a&&c&&(this.rowHeight=c/a)},lastScrollTop:0,_processScroll:function(f){function a(a,e,f,d){var h=b.farOffRemoval,n=a.node;if(e>2*h){for(var r,g=n[f],t=0,p=0,v=[],l=g&&g.rowIndex,
q;r=g;){var s=b._calcRowHeight(r);if(t+s+h>e||0>g.className.indexOf("dgrid-row")&&0>g.className.indexOf("dgrid-loading"))break;g=r[f];t+=s;p+=r.count||1;b.removeRow(r,!0);v.push(r);"rowIndex"in r&&(q=r.rowIndex)}b._renderedCollection.releaseRange&&("number"===typeof l&&"number"===typeof q)&&(d?b._renderedCollection.releaseRange(q,l+1):b._renderedCollection.releaseRange(l,q+1),b._rows[d?"max":"min"]=q,b._rows.max>=b._total-1&&(b._rows.max=Infinity));a.count+=p;d?(n.rowIndex-=p,c(a)):n.style.height=
n.offsetHeight+t+"px";var u=document.createElement("div");for(a=v.length;a--;)u.appendChild(v[a]);setTimeout(function(){k.destroy(u)},1)}}function c(a,c){a.node.style.height=Math.min(a.count*b.rowHeight,c?Infinity:b.maxEmptySpace)+"px"}function e(a,b){do a=b?a.next:a.previous;while(a&&!a.node.offsetWidth);return a}if(this.rowHeight){var b=this,d=b.bodyNode;f=f&&f.scrollTop||this.getScrollPosition().y;var d=d.offsetHeight+f,r,h,g=b.preload,p=b.lastScrollTop,t=b.bufferRows*b.rowHeight,l=t-b.rowHeight,
s,m=!0;for(b.lastScrollTop=f;g&&!g.node.offsetWidth;)g=g.previous;for(;g&&g!==r;){r=b.preload;b.preload=g;h=g.node;var q=h.offsetTop;if(d+1+l<q)g=e(g,m=!1);else if(f-1-l>q+h.offsetHeight)g=e(g,m=!0);else{var q=((h.rowIndex?f-t:d)-q)/b.rowHeight,x=(d-f+2*t)/b.rowHeight,E=Math.max(Math.min((f-p)*b.rowHeight,b.maxRowsPerPage/2),b.maxRowsPerPage/-2),x=x+Math.min(Math.abs(E),10);0===h.rowIndex&&(q-=x);q=Math.max(q,0);10>q&&(0<q&&x+q<b.maxRowsPerPage)&&(x+=Math.max(0,q),q=0);x=Math.min(Math.max(x,b.minRowsPerPage),
b.maxRowsPerPage,g.count);if(0===x)g=e(g,m);else{var x=Math.ceil(x),q=Math.min(Math.floor(q),g.count-x),C={};g.count-=x;var H=h,S,E=b.queryRowsOverlap,I=(0<h.rowIndex||h.offsetTop>f)&&g;if(I){var M=g.previous;M&&(a(M,f-(M.node.offsetTop+M.node.offsetHeight),"nextSibling"),0<q&&M.node===h.previousSibling?(q=Math.min(g.count,q),g.previous.count+=q,c(g.previous,!0),h.rowIndex+=q,E=0):x+=q,g.count-=q);C.start=h.rowIndex-E;C.count=Math.min(x+E,b.maxRowsPerPage);h.rowIndex=C.start+C.count}else g.next&&
(a(g.next,g.next.node.offsetTop-d,"previousSibling",!0),H=h.nextSibling,H===g.next.node?(g.next.count+=g.count-q,g.next.node.rowIndex=q+x,c(g.next),g.count=q,E=0):S=!0),C.start=g.count,C.count=Math.min(x+E,b.maxRowsPerPage);S&&(H&&H.offsetWidth)&&(S=H.offsetTop);c(g);"level"in g.query&&(C.queryLevel=g.query.level);if("queryLevel"in C||!(C.start>b._total||0>C.count)){var B=k.create("div",{className:"dgrid-loading",style:{height:x*b.rowHeight+"px"}},H,"before");k.create("div",{className:"dgrid-"+(I?
"below":"above"),innerHTML:b.loadingMessage},B);B.count=x;b._trackError(function(){(function(a,e,f){var d=g.query(C);s=b.renderQueryResults(d,a,C).then(function(n){var h=b._rows;h&&(!("queryLevel"in C)&&n.length)&&(e?(h.max<=h.min&&(h.min=n[0].rowIndex),h.max=n[n.length-1].rowIndex):(h.max<=h.min&&(h.max=n[n.length-1].rowIndex),h.min=n[0].rowIndex));H=a.nextSibling;k.destroy(a);f&&(H&&H.offsetWidth)&&(h=b.getScrollPosition(),b.scrollTo({x:h.x,y:h.y+H.offsetTop-f,preserveMomentum:!0}));d.totalLength.then(function(a){"queryLevel"in
C||(b._total=a,b._rows&&b._rows.max>=b._total-1&&(b._rows.max=Infinity));e&&(e.count=a-e.node.rowIndex,c(e))});b._processScroll();return n},function(b){k.destroy(a);throw b;})})(B,I,S)});g=g.previous}}}}return s}}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/aspect dojo/dom-construct dojo/has dojo/on dojo/when".split(" "),function(d,m,l,q,k,p,s,g){function f(a){if("object"!==typeof a)a=Error(a);else if("cancel"===a.dojoType)return;s.emit(this.domNode,
"dgrid-error",{grid:this,error:a,cancelable:!0,bubbles:!0})&&console.error(a)}return d(null,{collection:null,_renderedCollection:null,_rows:null,_observerHandle:null,shouldTrackCollection:!0,getBeforePut:!0,noDataMessage:"",loadingMessage:"",_total:0,constructor:function(){this.dirty={};this._updating={};this._columnsWithSet={};q.before(this,"configStructure",m.hitch(this,function(){this._columnsWithSet={}}))},destroy:function(){this.inherited(arguments);this._renderedCollection&&this._cleanupCollection();
this._refreshTimeout&&clearTimeout(this._refreshTimeout)},_configColumn:function(a){a.set&&(this._columnsWithSet[a.field]=a);this.inherited(arguments)},_setCollection:function(a){this._renderedCollection&&(this.cleanup(),this._cleanupCollection({shouldRevert:!a||a.storage!==this._renderedCollection.storage}));this.collection=a;if(this._started){if(a){var c=a;this.sort&&0<this.sort.length&&(c=a.sort(this.sort));c.track&&this.shouldTrackCollection&&(c=c.track(),this._rows=[],this._observerHandle=this._observeCollection(c,
this.contentNode,{rows:this._rows}));this._renderedCollection=c}this.refresh()}},_setStore:function(){},_getTotal:function(){return this._total},_cleanupCollection:function(a){a=a||{};this._renderedCollection.tracking&&this._renderedCollection.tracking.remove();this._observerHandle&&(this._observerHandle.remove(),this._observerHandle=this._rows=null);!1!==a.shouldRevert&&(this.dirty={});this._renderedCollection=this.collection=null},_applySort:function(){this.collection&&this.set("collection",this.collection)},
_emitRefreshComplete:function(){var a=this;this._refreshTimeout=setTimeout(function(){s.emit(a.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:a});a._refreshTimeout=null},0)},_insertNoDataNode:function(a){a=a||this.contentNode;var c=this.noDataNode=k.create("div",{className:"dgrid-no-data",innerHTML:this.noDataMessage});a.insertBefore(c,this._getFirstRowSibling&&this._getFirstRowSibling(a));return c},row:function(){var a=this.inherited(arguments);a&&(a.data&&"undefined"!==typeof a.id)&&
(a.id=this.collection.getIdentity(a.data));return a},refresh:function(){var a=this.inherited(arguments);this.collection||this._insertNoDataNode();return a},refreshCell:function(a){if(!this.collection||!this._createBodyRowCell)throw Error("refreshCell requires a Grid with a collection.");this.inherited(arguments);return this.collection.get(a.row.id).then(m.hitch(this,"_refreshCellFromItem",a))},_refreshCellFromItem:function(a,c,e){var b=a.element;k.empty(b);var f=this.dirty&&this.dirty[a.row.id];f&&
(c=m.delegate(c,f));this._createBodyRowCell(b,a.column,c,e)},renderArray:function(){var a=this.inherited(arguments);this.collection||a.length&&this.noDataNode&&k.destroy(this.noDataNode);return a},insertRow:function(a,c,e,b,f){var d=this.collection,h=this.dirty,d=d&&d.getIdentity(a),g;d in h&&!(d in this._updating)&&(g=h[d]);g&&(a=m.delegate(a,g));h=this.inherited(arguments);f&&f.rows&&(f.rows[b]=h);this.noDataNode&&(k.destroy(this.noDataNode),this.noDataNode=null);return h},updateDirty:function(a,
c,e){var b=this.dirty,f=b[a];f||(f=b[a]={});f[c]=e},save:function(){function a(a,f){return function(h){var n=c._columnsWithSet,g=c._updating,t,k;if("function"===typeof h.set)h.set(f);else for(t in f)h[t]=f[t];for(t in n)k=n[t].set(h),void 0!==k&&(h[t]=k);g[a]=!0;return e.put(h).then(function(c){delete b[a];delete g[a];d[a]=c;return d})}}var c=this,e=this.collection,b=this.dirty,f=new l,d={},h=function(a){var b;return c.getBeforePut||!(b=c.row(a).data)?function(){return e.get(a)}:function(){return b}},
g=f.then(function(){return d}),k;for(k in b)var t=a(k,b[k]),g=g.then(h(k)).then(t);f.resolve();return g},revert:function(){this.dirty={};this.refresh()},_trackError:function(a){"string"===typeof a&&(a=m.hitch(this,a));var c=this,e;try{e=g(a())}catch(b){a=new l,a.reject(b),e=a.promise}e.otherwise(function(a){f.call(c,a)});return e},removeRow:function(a,c,e){var b={element:a};!c&&(this.up(b).element===a&&this.down(b).element===a)&&this._insertNoDataNode();(b=e&&e.rows||this._rows)&&delete b[a.rowIndex];
return this.inherited(arguments)},renderQueryResults:function(a,c,e){e=m.mixin({rows:this._rows},e);var b=this;return a.then(function(a){a=b.renderArray(a,c,e);delete b._lastCollection;return a})},_observeCollection:function(a,c,e){var b=this,f=e.rows,d,h=[a.on("delete, update",function(a){var h=a.previousIndex,g=a.index;void 0!==h&&f[h]&&("max"in f&&(void 0===g||g<f.min||g>f.max)&&f.max--,d=f[h],d.parentNode===c&&b.removeRow(d,!1,e),f.splice(h,1),("delete"===a.type||"update"===a.type&&(h<g||void 0===
g))&&f[h]&&f[h].rowIndex--);"delete"===a.type&&(d=null)}),a.on("add, update",function(a){var h=a.previousIndex,g=a.index;if(void 0!==g&&(!("max"in f)||g>=f.min&&g<=f.max)){"max"in f&&(void 0===h||h<f.min||h>f.max)&&f.max++;if(f.length){if(h=f[g],!h&&(h=f[g-1]))h=(h.connected||h).nextSibling}else h=b._getFirstRowSibling&&b._getFirstRowSibling(c);d&&(h&&d.id===h.id)&&(h=(h.connected||h).nextSibling);h&&!h.parentNode&&(h=document.getElementById(h.id));f.splice(g,0,void 0);d=b.insertRow(a.target,c,h,
g,e);b.highlightRow(d)}d=null}),a.on("add, delete, update",function(c){var e="undefined"!==typeof c.previousIndex?c.previousIndex:Infinity,d="undefined"!==typeof c.index?c.index:Infinity,h=Math.min(e,d);e!==d&&f[h]&&b.adjustRowIndices(f[h]);Infinity!==e&&(b._processScroll&&(f[e]||f[e-1]))&&b._processScroll();b._onNotification(f,c,a);a===b._renderedCollection&&"totalLength"in c&&(b._total=c.totalLength)})];return{remove:function(){for(;0<h.length;)h.pop().remove()}}},_onNotification:function(){}})})},
"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(d,m,l,q,k){var p=Object.freeze||function(){},s=function(a,b,f,d,h){2===b&&(c.instrumentRejected&&0===a.length)&&c.instrumentRejected(f,!1,d,h);for(h=0;h<a.length;h++)g(a[h],b,f,d)},g=function(e,b,d,r){var h=e[b],g=e.deferred;if(h)try{var k=h(d);if(0===b)"undefined"!==typeof k&&a(g,b,k);else{if(k&&"function"===typeof k.then){e.cancel=k.cancel;k.then(f(g,1),f(g,
2),f(g,0));return}a(g,1,k)}}catch(t){a(g,2,t)}else a(g,b,d);2===b&&c.instrumentRejected&&c.instrumentRejected(d,!!h,r,g.promise)},f=function(c,b){return function(f){a(c,b,f)}},a=function(a,b,c){if(!a.isCanceled())switch(b){case 0:a.progress(c);break;case 1:a.resolve(c);break;case 2:a.reject(c)}},c=function(a){var b=this.promise=new q,f=this,d,h,k,v=!1,t=[];Error.captureStackTrace&&(Error.captureStackTrace(f,c),Error.captureStackTrace(b,c));this.isResolved=b.isResolved=function(){return 1===d};this.isRejected=
b.isRejected=function(){return 2===d};this.isFulfilled=b.isFulfilled=function(){return!!d};this.isCanceled=b.isCanceled=function(){return v};this.progress=function(a,c){if(d){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}s(t,0,a,null,f);return b};this.resolve=function(a,c){if(d){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}s(t,d=1,h=a,null,f);t=null;return b};var m=this.reject=function(a,c){if(d){if(!0===c)throw Error("This deferred has already been fulfilled.");
return b}Error.captureStackTrace&&Error.captureStackTrace(k={},m);s(t,d=2,h=a,k,f);t=null;return b};this.then=b.then=function(a,e,f){var n=[f,a,e];n.cancel=b.cancel;n.deferred=new c(function(a){return n.cancel&&n.cancel(a)});d&&!t?g(n,d,h,k):t.push(n);return n.deferred.promise};this.cancel=b.cancel=function(b,c){if(d){if(!0===c)throw Error("This deferred has already been fulfilled.");}else{if(a){var f=a(b);b="undefined"===typeof f?b:f}v=!0;if(d){if(2===d&&h===b)return b}else return"undefined"===typeof b&&
(b=new l),m(b),b}};p(b)};c.prototype.toString=function(){return"[object Deferred]"};k&&k(c);return c})},"dojo/errors/CancelError":function(){define(["./create"],function(d){return d("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],function(d){return function(m,l,q,k){q=q||Error;var p=function(d){if(q===Error){Error.captureStackTrace&&Error.captureStackTrace(this,p);var g=Error.call(this,d),f;for(f in g)g.hasOwnProperty(f)&&(this[f]=g[f]);this.message=
d;this.stack=g.stack}else q.apply(this,arguments);l&&l.apply(this,arguments)};p.prototype=d.delegate(q.prototype,k);p.prototype.name=m;return p.prototype.constructor=p}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(d){function m(){throw new TypeError("abstract");}return d.extend(function(){},{then:function(d,q,k){m()},cancel:function(d,q){m()},isResolved:function(){m()},isRejected:function(){m()},isFulfilled:function(){m()},isCanceled:function(){m()},always:function(d){return this.then(d,
d)},otherwise:function(d){return this.then(null,d)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(d,m,l,q){function k(a,b,c){var f="";a&&a.stack&&(f+=a.stack);b&&b.stack&&(f+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(f+=
"\n    ----------------------------------------\n"+c.stack);console.error(a,f)}function p(a,b,c,f){b||k(a,c,f)}function s(e,b,d,r){q.some(f,function(a){if(a.error===e)return b&&(a.handled=!0),!0})||f.push({error:e,rejection:d,handled:b,deferred:r,timestamp:(new Date).getTime()});a||(a=setTimeout(g,c))}function g(){var e=(new Date).getTime(),b=e-c;f=q.filter(f,function(a){return a.timestamp<b?(a.handled||k(a.error,a.rejection,a.deferred),!1):!0});a=f.length?setTimeout(g,f[0].timestamp+c-e):!1}m.add("config-useDeferredInstrumentation",
"report-unhandled-rejections");var f=[],a=!1,c=1E3;return function(a){var b=m("config-useDeferredInstrumentation");if(b){d.on("resolved",l.hitch(console,"log","resolved"));d.on("rejected",l.hitch(console,"log","rejected"));d.on("progress",l.hitch(console,"log","progress"));var f=[];"string"===typeof b&&(f=b.split(","),b=f.shift());if("report-rejections"===b)a.instrumentRejected=p;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=s,c=parseInt(f[0],10)||c;else throw Error("Unsupported instrumentation usage \x3c"+
b+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(d,m,l){function q(d){setTimeout(function(){p.apply(k,d)},0)}var k=new l,p=k.emit;k.emit=null;m.prototype.trace=function(){var k=d._toArray(arguments);this.then(function(d){q(["resolved",d].concat(k))},function(d){q(["rejected",d].concat(k))},function(d){q(["progress",d].concat(k))});return this};m.prototype.traceRejected=function(){var k=d._toArray(arguments);this.otherwise(function(d){q(["rejected",
d].concat(k))});return this};return k})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(d,m){return function(l,q,k,p){var s=l&&"function"===typeof l.then,g=s&&l instanceof m;if(s)g||(s=new d(l.cancel),l.then(s.resolve,s.reject,s.progress),l=s.promise);else return 1<arguments.length?q?q(l):l:(new d).resolve(l);return q||k||p?l.then(q,k,p):l}})},"dgrid/Selection":function(){define("dojo/_base/declare dojo/dom-class dojo/on dojo/has dojo/aspect ./List dojo/has!touch?./util/touch dojo/query dojo/_base/sniff dojo/dom".split(" "),
function(d,m,l,q,k,p,s){function g(a,b){for(var c=a.unselectable=b?"on":"",e=a.getElementsByTagName("*"),f=e.length;--f;)"INPUT"===e[f].tagName||"TEXTAREA"===e[f].tagName||(e[f].unselectable=c)}function f(a,b){var e=a.bodyNode,f=b?"text":21>q("ff")?"-moz-none":"none";c&&"msUserSelect"!==c?e.style[c]=f:q("dom-selectstart")?!b&&!a._selectstartHandle?a._selectstartHandle=l(e,"selectstart",function(a){var b=a.target&&a.target.tagName;"INPUT"!==b&&"TEXTAREA"!==b&&a.preventDefault()}):b&&a._selectstartHandle&&
(a._selectstartHandle.remove(),delete a._selectstartHandle):(g(e,!b),!b&&!a._unselectableHandle?a._unselectableHandle=k.after(a,"renderRow",function(a){g(a,!0);return a}):b&&a._unselectableHandle&&(a._unselectableHandle.remove(),delete a._unselectableHandle))}q.add("dom-comparedocumentposition",function(a,b,c){return!!c.compareDocumentPosition});q.add("dom-selectstart","undefined"!==typeof document.onselectstart);var a=q("mac")?"metaKey":"ctrlKey",c=q("css-user-select"),e=(p=q("pointer"))&&"MS"===
p.slice(0,2),b=p?p+(e?"Down":"down"):"mousedown",n=p?p+(e?"Up":"up"):"mouseup";"WebkitUserSelect"===c&&"undefined"!==typeof document.documentElement.style.msUserSelect&&(c=!1);return d(null,{selectionDelegate:".dgrid-row",selectionEvents:b+","+n+",dgrid-cellfocusin",selectionTouchEvents:q("touch")?s.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments)},
postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!==this.selectionMode&&(this.clearSelection(),this.selectionMode=a,this._selectionHandlerName="_"+
a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},_setAllowTextSelection:function(a){"undefined"!==typeof a?f(this,a):f(this,"none"===this.selectionMode);this.allowTextSelection=a},_handleSelect:function(a,c){if(this[this._selectionHandlerName]&&this.allowSelect(this.row(c))&&!("dgrid-cellfocusin"===a.type&&"mousedown"===a.parentType||a.type===n&&c!==this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;if(!a.keyCode||!a.ctrlKey||32===a.keyCode)if(!a.shiftKey&&
a.type===b&&this.isSelected(c))this._waitForMouseUp=c;else this[this._selectionHandlerName](a,c);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(b,c){var e=b.keyCode?b.ctrlKey:b[a];this._lastSelected===c?this.select(c,null,!e||!this.isSelected(c)):(this.clearSelection(),this.select(c),this._lastSelected=c)},_multipleSelectionHandler:function(b,c){var e=this._lastSelected,f=b.keyCode?b.ctrlKey:b[a],d;b.shiftKey||(d=f?null:!0,e=null);this.select(c,e,d);e||(this._lastSelected=c)},
_extendedSelectionHandler:function(b,c){(2===b.button?!this.isSelected(c):!(b.keyCode?b.ctrlKey:b[a]))&&this.clearSelection(null,!0);this._multipleSelectionHandler(b,c)},_toggleSelectionHandler:function(a,b){this.select(b,null,null)},_initSelectionEvents:function(){var b=this,c=this.contentNode,e=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};q("touch")&&!q("pointer")&&this.selectionTouchEvents?(l(c,s.selector(e,this.selectionTouchEvents),function(a){b._handleSelect(a,this);
b._ignoreMouseSelect=this}),l(c,l.selector(e,this.selectionEvents),function(a){b._ignoreMouseSelect!==this?b._handleSelect(a,this):a.type===n&&(b._ignoreMouseSelect=null)})):l(c,l.selector(e,this.selectionEvents),function(a){b._handleSelect(a,this)});this.addKeyHandler&&this.addKeyHandler(32,function(a){b._handleSelect(a,a.target)});if(this.allowSelectAll)this.on("keydown",function(c){c[a]&&(65===c.keyCode&&!/\bdgrid-input\b/.test(c.target.className))&&(c.preventDefault(),b[b.allSelected?"clearSelection":
"selectAll"]())});this._setCollection&&k.before(this,"_setCollection",function(a){b._updateDeselectionAspect(a)});this._updateDeselectionAspect()},_updateDeselectionAspect:function(a){function b(a,e){var f=c.row(a);if(f&&c.selection[f.id])c[e](f)}var c=this,e;this._removeDeselectSignals&&this._removeDeselectSignals();e=a&&a.track&&this._observeCollection?[k.before(this,"_observeCollection",function(a){e.push(a.on("delete",function(a){"undefined"===typeof a.index&&b(a.id,"deselect")}))}),k.after(this,
"_observeCollection",function(a){e.push(a.on("update",function(c){"undefined"!==typeof c.index&&b(a.getIdentity(c.target),"select")}))},!0)]:[k.before(this,"removeRow",function(a,b){var c;b||(c=this.row(a))&&c.id in this.selection&&this.deselect(c)})];this._removeDeselectSignals=function(){for(var a=e.length;a--;)e[a].remove();e=[]}},allowSelect:function(){return!0},_fireSelectionEvent:function(a){var b=this._selectionEventQueues[a],c=this._selectionTriggerEvent,e;e={bubbles:!0,grid:this};c&&(e.parentType=
c.type);e[this._selectionTargetType]=b;this._selectionEventQueues[a]=[];l.emit(this.contentNode,"dgrid-"+a,e)},_fireSelectionEvents:function(){var a=this._selectionEventQueues,b;for(b in a)a[b].length&&this._fireSelectionEvent(b)},_select:function(a,b,c){var e,f,d;"undefined"===typeof c&&(c=!0);a.element||(a=this.row(a));if(!1===c||this.allowSelect(a))if(e=this.selection,f=!!e[a.id],null===c&&(c=!f),d=a.element,!c&&!this.allSelected?delete this.selection[a.id]:e[a.id]=c,d&&(c?m.add(d,"dgrid-selected"+
(this.addUiClasses?" ui-state-active":"")):m.remove(d,"dgrid-selected ui-state-active")),c!==f&&d&&this._selectionEventQueues[(c?"":"de")+"select"].push(a),b)if(b.element||(b=this.row(b)),b){if(b=b.element){e=this._determineSelectionDirection(d,b);e||(b=document.getElementById(b.id),e=this._determineSelectionDirection(d,b));for(;a.element!==b&&(a=this[e](a));)this._select(a,null,c)}}else this._lastSelected=d,console.warn("The selection range has been reset because the beginning of the selection is no longer in the DOM. If you are using OnDemandList, you may wish to increase farOffRemoval to avoid this, but note that keeping more nodes in the DOM may impact performance.")},
_determineSelectionDirection:q("dom-comparedocumentposition")?function(a,b){var c=b.compareDocumentPosition(a);return c&1?!1:2===c?"down":"up"}:function(a,b){return 1>b.sourceIndex?!1:b.sourceIndex>a.sourceIndex?"down":"up"},select:function(a,b,c){this._select(a,b,c);this._fireSelectionEvents()},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=!1;for(var c in this.selection)a!==c&&this._select(c,null,!1);b||(this._lastSelected=null);this._fireSelectionEvents()},
selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject){var b=this.row(this._rowIdToObject[a]);this._select(b.id,null,!0)}this._fireSelectionEvents()},isSelected:function(a){if("undefined"===typeof a||null===a)return!1;a.element||(a=this.row(a));return a.id in this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},
renderArray:function(){var a=this.inherited(arguments),b=this.selection,c,e,f;for(c=0;c<a.length;c++)e=this.row(a[c]),(f=e.id in b?b[e.id]:this.allSelected)&&this.select(e,null,f);this._fireSelectionEvents();return a}})})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(d,m,l,q,k,p,s,g){function f(a,b){var c=function(c,e){if("string"==typeof e&&(e=l.byId(e),!e))return new b([]);var f="string"==
typeof c?a(c,e):c?c.end&&c.on?c:[c]:[];return f.end&&f.on?f:new b(f)};c.matches=a.match||function(a,b,e){return 0<c.filter([a],b,e).length};c.filter=a.filter||function(a,b,e){return c(b,e).filter(function(b){return-1<k.indexOf(a,b)})};if("function"!=typeof a){var e=a.search;a=function(a,b){return e(b||document,a)}}return c}m.add("array-extensible",function(){return 1==p.delegate([],{length:1}).length&&!m("bug-for-in-skips-shadowed")});var a=Array.prototype,c=a.slice,e=a.concat,b=k.forEach,n=function(a,
b,e){b=[0].concat(c.call(b,0));e=e||d.global;return function(c){b[0]=c;return a.apply(e,b)}},r=function(a){var b=this instanceof h&&m("array-extensible");"number"==typeof a&&(a=Array(a));var c=a&&"length"in a?a:arguments;if(b||!c.sort){for(var e=b?this:[],f=e.length=c.length,d=0;d<f;d++)e[d]=c[d];if(b)return e;c=e}p._mixin(c,u);c._NodeListCtor=function(a){return h(a)};return c},h=r,u=h.prototype=m("array-extensible")?[]:{};h._wrap=u._wrap=function(a,b,c){a=new (c||this._NodeListCtor||h)(a);return b?
a._stash(b):a};h._adaptAsMap=function(a,b){return function(){return this.map(n(a,arguments,b))}};h._adaptAsForEach=function(a,b){return function(){this.forEach(n(a,arguments,b));return this}};h._adaptAsFilter=function(a,b){return function(){return this.filter(n(a,arguments,b))}};h._adaptWithCondition=function(a,b,c){return function(){var e=arguments,f=n(a,e,c);if(b.call(c||d.global,e))return this.map(f);this.forEach(f);return this}};b(["slice","splice"],function(b){var c=a[b];u[b]=function(){return this._wrap(c.apply(this,
arguments),"slice"==b?this:null)}});b(["indexOf","lastIndexOf","every","some"],function(a){var b=k[a];u[a]=function(){return b.apply(d,[this].concat(c.call(arguments,0)))}});p.extend(r,{constructor:h,_NodeListCtor:h,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var c=this.map(function(c){return q(c,a,b)});c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},
concat:function(a){var b=c.call(this,0),f=k.map(arguments,function(a){return c.call(a,0)});return this._wrap(e.apply(b,f),this)},map:function(a,b){return this._wrap(k.map(this,a,b),this)},forEach:function(a,c){b(this,a,c);return this},filter:function(a){var b=arguments,c=this,e=0;if("string"==typeof a){c=v._filterResult(this,b[0]);if(1==b.length)return c._stash(this);e=1}return this._wrap(k.filter(c,b[e],b[e+1]),this)},instantiate:function(a,b){var c=p.isFunction(a)?a:p.getObject(a);b=b||{};return this.forEach(function(a){new c(b,
a)})},at:function(){var a=new this._NodeListCtor(0);b(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var v=f(g,r);d.query=f(g,function(a){return r(a)});v.load=function(a,b,c){s.load(a,b,function(a){c(f(a,r))})};d._filterQueryResult=v._filterResult=function(a,b,c){return new r(v.filter(a,b,c))};d.NodeList=v.NodeList=r;return v})},"dojo/selector/_loader":function(){define(["../has","require"],function(d,m){if("undefined"!==typeof document){var l=
document.createElement("div");d.add("dom-qsa2.1",!!l.querySelectorAll);d.add("dom-qsa3",function(){try{return l.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==l.querySelectorAll(".TEST:empty").length}catch(d){}})}var q;return{load:function(k,p,l,g){if(g&&g.isBuild)l();else{g=m;k="default"==k?d("config-selectorEngine")||"css3":k;k="css2"==k||"lite"==k?"./lite":"css2.1"==k?d("dom-qsa2.1")?"./lite":"./acme":"css3"==k?d("dom-qsa3")?"./lite":"./acme":"acme"==k?"./acme":(g=p)&&k;if("?"==k.charAt(k.length-
1)){k=k.substring(0,k.length-1);var f=!0}if(f&&(d("dom-compliant-qsa")||q))return l(q);g([k],function(a){"./lite"!=k&&(q=a);l(a)})}}}})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(d,m){var l=document.createElement("div"),q=l.matches||l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector,k=l.querySelectorAll,p=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;d.add("dom-matches-selector",!!q);d.add("dom-qsa",!!k);var s=function(c,
e){if(a&&-1<c.indexOf(","))return a(c,e);var b=e?e.ownerDocument||e:m.doc||document,n=(k?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(c);e=e||b;if(n){var r=8===d("ie")&&d("quirks")?e.nodeType===b.nodeType:null!==e.parentNode&&9!==e.nodeType&&e.parentNode===b;if(n[2]&&r){var h=m.byId?m.byId(n[2],b):b.getElementById(n[2]);if(!h||n[1]&&n[1]!=h.tagName.toLowerCase())return[];if(e!=b)for(b=h;b!=e;)if(b=b.parentNode,!b)return[];
return n[3]?s(n[3],h):[h]}if(n[3]&&e.getElementsByClassName)return e.getElementsByClassName(n[4]);if(n[5])if(h=e.getElementsByTagName(n[5]),n[4]||n[6])c=(n[4]||"")+n[6];else return h}if(k)return 1===e.nodeType&&"object"!==e.nodeName.toLowerCase()?g(e,c,e.querySelectorAll):e.querySelectorAll(c);h||(h=e.getElementsByTagName("*"));n=[];b=0;for(r=h.length;b<r;b++){var p=h[b];1==p.nodeType&&f(p,c,e)&&n.push(p)}return n},g=function(a,e,b){var f=a,d=a.getAttribute("id"),h=d||"__dojo__",g=a.parentNode,k=
/^\s*[+~]/.test(e);if(k&&!g)return[];d?h=h.replace(/'/g,"\\$\x26"):a.setAttribute("id",h);k&&g&&(a=a.parentNode);e=e.match(p);for(g=0;g<e.length;g++)e[g]="[id\x3d'"+h+"'] "+e[g];e=e.join(",");try{return b.call(a,e)}finally{d||f.removeAttribute("id")}};if(!d("dom-matches-selector"))var f=function(){function a(b,c,e){var f=c.charAt(0);if('"'==f||"'"==f)c=c.slice(1,-1);c=c.replace(/\\/g,"");var d=g[e||""];return function(a){return(a=a.getAttribute(b))&&d(a,c)}}function e(a){return function(b,c){for(;(b=
b.parentNode)!=c;)if(a(b,c))return!0}}function b(a){return function(b,c){b=b.parentNode;return a?b!=c&&a(b,c):b==c}}function f(a,b){return a?function(c,e){return b(c)&&a(c,e)}:b}var d="div"==l.tagName?"toLowerCase":"toUpperCase",h={"":function(a){a=a[d]();return function(b){return b.tagName==a}},".":function(a){var b=" "+a+" ";return function(c){return-1<c.className.indexOf(a)&&-1<(" "+c.className+" ").indexOf(b)}},"#":function(a){return function(b){return b.id==a}}},g={"^\x3d":function(a,b){return 0==
a.indexOf(b)},"*\x3d":function(a,b){return-1<a.indexOf(b)},"$\x3d":function(a,b){return a.substring(a.length-b.length,a.length)==b},"~\x3d":function(a,b){return-1<(" "+a+" ").indexOf(" "+b+" ")},"|\x3d":function(a,b){return 0==(a+"-").indexOf(b+"-")},"\x3d":function(a,b){return a==b},"":function(a,b){return!0}},k={};return function(d,g,r){var p=k[g];if(!p){if(g.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,function(d,
g,k,r,l,q,m){r?p=f(p,h[k||""](r.replace(/\\/g,""))):g?p=(" "==g?e:b)(p):l&&(p=f(p,a(l,m,q)));return""}))throw Error("Syntax error in query");if(!p)return!0;k[g]=p}return p(d,r)}}();if(!d("dom-qsa"))var a=function(a,e){for(var b=a.match(p),f=[],d=0;d<b.length;d++){a=new String(b[d].replace(/\s*$/,""));a.indexOf=escape;for(var h=s(a,e),g=0,k=h.length;g<k;g++){var l=h[g];f[l.sourceIndex]=l}}b=[];for(d in f)b.push(f[d]);return b};s.match=q?function(a,e,b){return b&&9!=b.nodeType?g(b,e,function(b){return q.call(a,
b)}):q.call(a,e)}:f;return s})},"dgrid/extensions/ColumnResizer":function(){define("dojo/_base/declare dojo/_base/array dojo/on dojo/query dojo/_base/lang dojo/dom dojo/dom-construct dojo/dom-geometry dojo/has ../util/misc dojo/_base/html".split(" "),function(d,m,l,q,k,p,s,g,f,a){function c(a,b,c,e,f){for(var d=1;d<b;d++)a[c+d][e]=f}function e(a){for(var b=a.length,e=b,f=m.filter(a[0],function(a){return!a.hidden}).length,d=Array(b);b--;)d[b]=Array(f);for(var h={},b=0;b<e;b++)for(var g=d[b],n=a[b],
k=0,r=0;k<f;k++){var p=n[r],l;if("undefined"===typeof g[k]){g[k]=p.id;p.rowSpan&&1<p.rowSpan&&c(d,p.rowSpan,b,k,p.id);if(0<b&&p.colSpan&&1<p.colSpan)for(l=1;l<p.colSpan;l++)g[++k]=p.id,p.rowSpan&&1<p.rowSpan&&c(d,p.rowSpan,b,k,p.id);h[p.id]=a[0][k].id;r++}}return h}function b(b,c,e,f,d){if(!(0>=e)){var h=b.columns[c],g;if(h&&(g={grid:b,columnId:c,width:e,bubbles:!0,cancelable:!0},f&&(g.parentType=f),!b._resizedColumns||l.emit(b.headerNode,"dgrid-columnresize",g)))return"auto"===e?delete h.width:(h.width=
e,e+="px"),(f=b._columnSizes[c])?f.set("width",e):f=a.addCssRule("#"+a.escapeCssIdentifier(b.domNode.id)+" .dgrid-column-"+a.escapeCssIdentifier(c,"-"),"width: "+e+";"),b._columnSizes[c]=f,!1!==d&&b.resize(),!0}}var n,r,h=0,u={create:function(){n=s.create("div",{className:"dgrid-column-resizer"});r=s.create("div",{className:"dgrid-resize-guard"})},destroy:function(){s.destroy(n);s.destroy(r);n=r=null},show:function(a){var b=g.position(a.domNode,!0);n.style.top=b.y+"px";n.style.height=b.h+"px";document.body.appendChild(n);
a.domNode.appendChild(r)},move:function(a){n.style.left=a+"px"},hide:function(){n.parentNode.removeChild(n);r.parentNode.removeChild(r)}};return d(null,{resizeNode:null,minWidth:40,adjustLastColumn:!0,_resizedColumns:!1,buildRendering:function(){this.inherited(arguments);h||u.create();h++},destroy:function(){this.inherited(arguments);for(var a in this._columnSizes)this._columnSizes[a].remove();--h||u.destroy()},resizeColumnWidth:function(a,c){return b(this,a,c)},configStructure:function(){var a=this._oldColumnSizes=
k.mixin({},this._columnSizes),b;this._resizedColumns=!1;this._columnSizes={};this.inherited(arguments);for(b in a)b in this._columnSizes||a[b].remove();delete this._oldColumnSizes},_configColumn:function(b){this.inherited(arguments);var c=b.id,e;"width"in b&&((e=this._oldColumnSizes[c])?e.set("width",b.width+"px"):e=a.addCssRule("#"+a.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+a.escapeCssIdentifier(c,"-"),"width: "+b.width+"px;"),this._columnSizes[c]=e)},renderHeader:function(){this.inherited(arguments);
var b=this,c;if(this.columnSets&&this.columnSets.length)for(var d=this.columnSets.length;d--;)c=k.mixin(c||{},e(this.columnSets[d]));else this.subRows&&1<this.subRows.length&&(c=e(this.subRows));for(var d=q(".dgrid-cell",b.headerNode),h=d.length;h--;){var g=d[h],n=g.columnId,p=b.columns[n],r=g.childNodes;if(p&&!1!==p.resizable){p=s.create("div",{className:"dgrid-resize-header-container"});for(g.contents=p;0<r.length;)p.appendChild(r[0]);r=s.create("div",{className:"dgrid-resize-handle resizeNode-"+
a.escapeCssIdentifier(n,"-")},p);g.appendChild(p);r.columnId=c&&c[n]||n}}b.mouseMoveListen||(l(b.headerNode,".dgrid-resize-handle:mousedown"+(f("touch")?",.dgrid-resize-handle:touchstart":""),function(a){b._resizeMouseDown(a,this);b.mouseMoveListen.resume();b.mouseUpListen.resume()}),b._listeners.push(b.mouseMoveListen=l.pausable(document,"mousemove"+(f("touch")?",touchmove":""),a.throttleDelayed(function(a){b._updateResizerPosition(a)}))),b._listeners.push(b.mouseUpListen=l.pausable(document,"mouseup"+
(f("touch")?",touchend":""),function(a){b._resizeMouseUp(a);b.mouseMoveListen.pause();b.mouseUpListen.pause()})),b.mouseMoveListen.pause(),b.mouseUpListen.pause())},_resizeMouseDown:function(b,c){b.preventDefault();p.setSelectable(this.domNode,!1);this._startX=this._getResizeMouseLocation(b);this._targetCell=q(".dgrid-column-"+a.escapeCssIdentifier(c.columnId,"-"),this.headerNode)[0];this._updateResizerPosition(b);u.show(this)},_resizeMouseUp:function(c){var e=this._columnSizes,f,d,h;this.adjustLastColumn&&
(h=this.headerNode.clientWidth-1);this._resizedColumns||(f=q(".dgrid-cell",this.headerNode),this.columnSets&&this.columnSets.length?f=f.filter(function(a){return"0"===a.columnId.split("-")[0]&&!(a.columnId in e)}):this.subRows&&1<this.subRows.length&&(f=f.filter(function(a){return"0"===a.columnId.charAt(0)&&!(a.columnId in e)})),d=f.map(function(a){return a.offsetWidth}),f.forEach(function(a,c){b(this,a.columnId,d[c],null,!1)},this),this._resizedColumns=!0);p.setSelectable(this.domNode,!0);f=this._targetCell;
var g=this._getResizeMouseLocation(c)-this._startX,n=f.offsetWidth+g,k=this._getResizedColumnWidths(),r=k.totalWidth,k=k.lastColId,l=q(".dgrid-column-"+a.escapeCssIdentifier(k,"-"),this.headerNode)[0].offsetWidth;n<this.minWidth&&(n=this.minWidth);b(this,f.columnId,n,c.type)&&f.columnId!==k&&this.adjustLastColumn&&(r+g<h?b(this,k,"auto",c.type):l-g<=this.minWidth&&b(this,k,this.minWidth,c.type));u.hide();delete this._startX;delete this._targetCell},_updateResizerPosition:function(a){if(this._targetCell){a=
this._getResizeMouseLocation(a);var b=this._targetCell.offsetWidth,c=a;b+(a-this._startX)<this.minWidth&&(c=this._startX-(b-this.minWidth));u.move(c)}},_getResizeMouseLocation:function(a){var b=0;a.pageX?b=a.pageX:a.clientX&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);return b},_getResizedColumnWidths:function(){var a=0,b=q((this.columnSets?".dgrid-column-set-cell ":"")+"tr:first-child .dgrid-cell",this.headerNode),c=b.length;if(!c)return{};for(var e=b[c-1].columnId;c--;)a+=
b[c].offsetWidth;return{totalWidth:a,lastColId:e}}})})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(d,m,l,q,k,p,s,g){d.byId=m.byId;d.isDescendant=m.isDescendant;d.setSelectable=m.setSelectable;d.getAttr=q.get;d.setAttr=q.set;d.hasAttr=q.has;d.removeAttr=q.remove;d.getNodeProp=q.getNodeProp;d.attr=function(f,a,c){return 2==arguments.length?q["string"==typeof a?"get":"set"](f,a):q.set(f,
a,c)};d.hasClass=p.contains;d.addClass=p.add;d.removeClass=p.remove;d.toggleClass=p.toggle;d.replaceClass=p.replace;d._toDom=d.toDom=s.toDom;d.place=s.place;d.create=s.create;d.empty=function(f){s.empty(f)};d._destroyElement=d.destroy=function(f){s.destroy(f)};d._getPadExtents=d.getPadExtents=g.getPadExtents;d._getBorderExtents=d.getBorderExtents=g.getBorderExtents;d._getPadBorderExtents=d.getPadBorderExtents=g.getPadBorderExtents;d._getMarginExtents=d.getMarginExtents=g.getMarginExtents;d._getMarginSize=
d.getMarginSize=g.getMarginSize;d._getMarginBox=d.getMarginBox=g.getMarginBox;d.setMarginBox=g.setMarginBox;d._getContentBox=d.getContentBox=g.getContentBox;d.setContentSize=g.setContentSize;d._isBodyLtr=d.isBodyLtr=g.isBodyLtr;d._docScroll=d.docScroll=g.docScroll;d._getIeDocumentElementOffset=d.getIeDocumentElementOffset=g.getIeDocumentElementOffset;d._fixIeBiDiScrollLeft=d.fixIeBiDiScrollLeft=g.fixIeBiDiScrollLeft;d.position=g.position;d.marginBox=function(f,a){return a?g.setMarginBox(f,a):g.getMarginBox(f)};
d.contentBox=function(f,a){return a?g.setContentSize(f,a):g.getContentBox(f)};d.coords=function(f,a){d.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");f=m.byId(f);var c=l.getComputedStyle(f),c=g.getMarginBox(f,c),e=g.position(f,a);c.x=e.x;c.y=e.y;return c};d.getProp=k.get;d.setProp=k.set;d.prop=function(f,a,c){return 2==arguments.length?k["string"==typeof a?"get":"set"](f,a):k.set(f,a,c)};d.getStyle=l.get;d.setStyle=l.set;d.getComputedStyle=l.getComputedStyle;d.__toPixelValue=
d.toPixelValue=l.toPixelValue;d.style=function(f,a,c){switch(arguments.length){case 1:return l.get(f);case 2:return l["string"==typeof a?"get":"set"](f,a)}return l.set(f,a,c)};return d})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/dom-class dojo/on dojo/_base/lang dojo/has ./util/misc dojo/_base/sniff".split(" "),function(d,m,l,q,k,p,s){function g(a){a.preventDefault()}var f={checkbox:1,radio:1,button:1},a=/\bdgrid-cell\b/,c=/\bdgrid-row\b/,e=d(null,{pageSkip:10,tabIndex:0,
keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=k.mixin({},e.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=k.mixin({},e.defaultHeaderKeyMap))},postCreate:function(){function b(a){var c=a.target;return c.type&&(!f[c.type]||32===a.keyCode)}function e(f){function h(){d._focusedHeaderNode&&(d._focusedHeaderNode.tabIndex=-1);if(d.showHeader){if(n)for(var a=d.headerNode.getElementsByTagName("th"),b=0,c;c=a[b];++b){if(k.test(c.className)){d._focusedHeaderNode=
r=c;break}}else d._focusedHeaderNode=r=d.headerNode;r&&(r.tabIndex=d.tabIndex)}}function g(){var a=d._focusedNode||r;if(!k.test(a.className)||!f.contains(a)){for(var b=f.getElementsByTagName("*"),c=0,e;e=b[c];++c)if(k.test(e.className)){a=d._focusedNode=e;break}r.tabIndex=-1;a.tabIndex=d.tabIndex}}var n=d.cellNavigation,k=n?a:c,p=f===d.headerNode,r=f;p?(h(),m.after(d,"renderHeader",h,!0)):(m.after(d,"renderArray",g,!0),m.after(d,"_onNotification",function(a,b){0===b.totalLength?f.tabIndex=0:1===b.totalLength&&
"add"===b.type&&g()},!0));d._listeners.push(q(f,"mousedown",function(a){b(a)||d._focusOnNode(a.target,p,a)}));d._listeners.push(q(f,"keydown",function(a){if(!a.metaKey&&!a.altKey){var c=d[p?"headerKeyMap":"keyMap"][a.keyCode];c&&!b(a)&&c.call(d,a)}}))}this.inherited(arguments);var d=this;this.tabableHeader&&(e(this.headerNode),q(this.headerNode,"dgrid-cellfocusin",function(){d.scrollTo({x:this.scrollLeft})}));e(this.contentNode);this._debouncedEnsureScroll=s.debounce(this._ensureScroll,this)},removeRow:function(a){if(!this._focusedNode)return this.inherited(arguments);
var b=this,c=document.activeElement===this._focusedNode,e=this[this.cellNavigation?"cell":"row"](this._focusedNode),f=e.row||e,d;a=a.element||a;if(a===f.element){d=this.down(f,!0);if(!d||d.element===a)d=this.up(f,!0);this._removedFocus={active:c,rowId:f.id,columnId:e.column&&e.column.id,siblingId:!d||d.element===a?void 0:d.id};setTimeout(function(){b._removedFocus&&b._restoreFocus(f.id)},0);this._focusedNode=null}this.inherited(arguments)},insertRow:function(){var a=this.inherited(arguments);this._removedFocus&&
!this._removedFocus.wait&&this._restoreFocus(a);return a},_restoreFocus:function(a){var b=this._removedFocus,c;if((a=(a=a&&this.row(a))&&a.element&&a.id===b.rowId?a:"undefined"!==typeof b.siblingId&&this.row(b.siblingId))&&a.element){if(!a.element.parentNode.parentNode){b.wait=!0;return}"undefined"!==typeof b.columnId&&(c=this.cell(a,b.columnId))&&c.element&&(a=c);b.active&&0!==a.element.offsetHeight?this._focusOnNode(a,!1,null):(l.add(a.element,"dgrid-focus"),a.element.tabIndex=this.tabIndex,this._focusedNode=
a.element)}delete this._removedFocus},addKeyHandler:function(a,b,c){return m.after(this[c?"headerKeyMap":"keyMap"],a,b,!0)},_ensureRowScroll:function(a){var b=this.getScrollPosition().y;b>a.offsetTop?this.scrollTo({y:a.offsetTop}):b+this.contentNode.offsetHeight<a.offsetTop+a.offsetHeight&&this.scrollTo({y:a.offsetTop-this.contentNode.offsetHeight+a.offsetHeight})},_ensureColumnScroll:function(a){var b=this.getScrollPosition().x,c=a.offsetLeft;if(b>c)this.scrollTo({x:c});else{var e=this.bodyNode.clientWidth;
a=a.offsetWidth;var f=c+a;b+e<f&&this.scrollTo({x:e>a?f-e:c})}},_ensureScroll:function(a,b){this.cellNavigation&&((this.columnSets||1<this.subRows.length)&&!b)&&this._ensureRowScroll(a.row.element);this.bodyNode.clientWidth<this.contentNode.offsetWidth&&this._ensureColumnScroll(a.element)},_focusOnNode:function(b,e,f){var d="_focused"+(e?"Header":"")+"Node",h=this[d],g=this.cellNavigation?"cell":"row",n=this[g](b),r,p,m,s,t;if(b=n&&n.element){if(this.cellNavigation){r=b.getElementsByTagName("input");
t=0;for(m=r.length;t<m;t++)if(p=r[t],(-1!==p.tabIndex||"_dgridLastValue"in p)&&!p.disabled){p.focus();s=!0;break}}null!==f&&(f=k.mixin({grid:this},f),f.type&&(f.parentType=f.type),f.bubbles||(f.bubbles=!0));h&&(l.remove(h,"dgrid-focus"),h.removeAttribute("tabindex"),f&&(f[g]=this[g](h),q.emit(h,"dgrid-cellfocusout",f)));h=this[d]=b;f&&(f[g]=n);d=this.cellNavigation?a:c;!s&&d.test(b.className)&&(b.tabIndex=this.tabIndex,b.focus());l.add(b,"dgrid-focus");f&&q.emit(h,"dgrid-cellfocusin",f);this._debouncedEnsureScroll(n,
e)}},focusHeader:function(a){this._focusOnNode(a||this._focusedHeaderNode,!0)},focus:function(a){(a=a||this._focusedNode)?this._focusOnNode(a,!1):(this._removedFocus&&(this._removedFocus.active=!0),this.contentNode.focus())}}),b=e.moveFocusVertical=function(a,b){var c=this.cellNavigation,e=this[c?"cell":"row"](a),e=c&&e.column.id,f=this.down(this._focusedNode,b,!0);c&&(f=this.cell(f,e));this._focusOnNode(f,!1,a);a.preventDefault()};d=e.moveFocusUp=function(a){b.call(this,a,-1)};var n=e.moveFocusDown=
function(a){b.call(this,a,1)},r=e.moveFocusPageUp=function(a){b.call(this,a,-this.pageSkip)},h=e.moveFocusPageDown=function(a){b.call(this,a,this.pageSkip)},u=e.moveFocusHorizontal=function(a,b){if(this.cellNavigation){var c=!this.row(a);this._focusOnNode(this.right(this["_focused"+(c?"Header":"")+"Node"],b),c,a);a.preventDefault()}},v=e.moveFocusLeft=function(a){u.call(this,a,-1)},t=e.moveFocusRight=function(a){u.call(this,a,1)},y=e.moveHeaderFocusEnd=function(a,b){var c;this.cellNavigation&&(c=
this.headerNode.getElementsByTagName("th"),this._focusOnNode(c[b?0:c.length-1],!0,a));a.preventDefault()},z=e.moveHeaderFocusHome=function(a){y.call(this,a,!0)},w=e.moveFocusEnd=function(a,b){var c=this.cellNavigation,e=this.contentNode,f=e.scrollTop+(b?0:e.scrollHeight),e=e[b?"firstChild":"lastChild"],d=-1<e.className.indexOf("dgrid-preload"),h=d?e[(b?"next":"previous")+"Sibling"]:e,g;a.preventDefault();this.scrollTo({y:f});if(d){for(;h&&0>h.className.indexOf("dgrid-row");)h=h[(b?"next":"previous")+
"Sibling"];if(!h)return}!d||1>e.offsetHeight?(c&&(h=this.cell(h,this.cell(a).column.id)),this._focusOnNode(h,!1,a)):(p("dom-addeventlistener")||(a=k.mixin({},a)),g=m.after(this,"renderArray",function(e){var f=e[b?0:e.length-1];c&&(f=this.cell(f,this.cell(a).column.id));this._focusOnNode(f,!1,a);g.remove();return e}))},A=e.moveFocusHome=function(a){w.call(this,a,!0)};e.defaultKeyMap={32:g,33:r,34:h,35:w,36:A,37:v,38:d,39:t,40:n};e.defaultHeaderKeyMap={32:g,35:y,36:z,37:v,39:t};return e})},"dgrid/extensions/ColumnHider":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/on ../util/misc dojo/i18n!./nls/columnHider".split(" "),
function(d,m,l,q,k,p){var s,g;return d(null,{hiderMenuNode:null,hiderToggleNode:null,i18nColumnHider:p,_hiderMenuOpened:!1,_columnHiderRules:null,_columnHiderCheckboxes:null,_renderHiderMenuEntries:function(){var f=this.subRows,a=!0,c,e,b,d;delete this._columnHiderFirstCheckbox;b=0;for(c=f.length;b<c;b++){d=0;for(e=f[b].length;d<e;d++)this._renderHiderMenuEntry(f[b][d]),a&&(a=!1,this._columnHiderFirstCheckbox=this._columnHiderCheckboxes[f[b][d].id])}},_renderHiderMenuEntry:function(f){var a=f.id,
c=k.escapeCssIdentifier(a,"-"),e,b;f.hidden&&(f.hidden=!1,this._hideColumn(a),f.hidden=!0);f.unhidable||(e=m.create("div",{className:"dgrid-hider-menu-row"}),b=this.domNode.id+"-hider-menu-check-"+c,a=this._columnHiderCheckboxes[a]=m.create("input",{className:"dgrid-hider-menu-check hider-menu-check-"+c,id:b,type:"checkbox"},e),c=m.create("label",{className:"dgrid-hider-menu-label hider-menu-label-"+c,"for":b},e),c.appendChild(document.createTextNode(f.label||f.field||"")),this.hiderMenuNode.appendChild(e),
f.hidden||(a.checked=!0))},renderHeader:function(){function f(a){a.stopPropagation()}var a=this,c=this.hiderMenuNode,e=this.hiderToggleNode,b;this.inherited(arguments);if(c){for(b in this._columnHiderRules)this._columnHiderRules[b].remove();c.innerHTML=""}else e=this.hiderToggleNode=m.create("button",{"aria-label":this.i18nColumnHider.popupTriggerLabel,className:"ui-icon dgrid-hider-toggle",type:"button"},this.domNode),this._listeners.push(q(e,"click",function(b){a._toggleColumnHiderMenu(b)})),c=
this.hiderMenuNode=m.create("div",{"aria-label":this.i18nColumnHider.popupLabel,className:"dgrid-hider-menu",id:this.id+"-hider-menu",role:"dialog"}),this._listeners.push(q(c,"keyup",function(b){if(27===(b.charCode||b.keyCode))a._toggleColumnHiderMenu(b),e.focus()})),c.style.display="none",this.domNode.appendChild(c),this._listeners.push(q(c,".dgrid-hider-menu-check:"+(9>l("ie")?"click":"change"),function(b){a._updateColumnHiddenState(b.target.id.substr(a.id.length+18),!b.target.checked)})),this._listeners.push(q(c,
"mousedown",f),q(e,"mousedown",f)),g||(g=q.pausable(document,"mousedown",function(a){s&&s._toggleColumnHiderMenu(a)}),g.pause());this._columnHiderCheckboxes={};this._columnHiderRules={};this._renderHiderMenuEntries()},destroy:function(){this.inherited(arguments);for(var f in this._columnHiderRules)this._columnHiderRules[f].remove()},left:function(f,a){return this.right(f,-a)},right:function(f,a){f.element||(f=this.cell(f));for(var c=this.inherited(arguments),e=f;c.column.hidden;){c=this.inherited(arguments,
[c,0<a?1:-1]);if(e.element===c.element)return f;e=c}return c},isColumnHidden:function(f){return!!this._columnHiderRules[f]},_toggleColumnHiderMenu:function(){var f=this._hiderMenuOpened,a=this.hiderMenuNode,c=this.domNode,e;a.style.display=f?"none":"";f?a.style.height="":(a.offsetHeight>c.offsetHeight-12&&(a.style.height=c.offsetHeight-12+"px"),(e=this._columnHiderFirstCheckbox)&&e.focus());g[f?"pause":"resume"]();s=f?null:this;this._hiderMenuOpened=!f},_hideColumn:function(f){var a=this,c="#"+k.escapeCssIdentifier(this.domNode.id)+
" .dgrid-column-",e;if(!this._columnHiderRules[f]&&(this._columnHiderRules[f]=k.addCssRule(c+k.escapeCssIdentifier(f,"-"),"display: none;"),8===l("ie")||10===l("ie")))e=k.addCssRule(".dgrid-row-table","display: inline-table;"),window.setTimeout(function(){e.remove();a.resize()},0)},_showColumn:function(f){this._columnHiderRules[f]&&(this._columnHiderRules[f].remove(),delete this._columnHiderRules[f])},_updateColumnHiddenState:function(f,a){this[a?"_hideColumn":"_showColumn"](f);this.columns[f].hidden=
a;q.emit(this.domNode,"dgrid-columnstatechange",{grid:this,column:this.columns[f],hidden:a,bubbles:!0});this.resize()},toggleColumnHiddenState:function(f,a){"undefined"===typeof a&&(a=!this._columnHiderRules[f]);this._updateColumnHiddenState(f,a);this._columnHiderCheckboxes[f]&&(this._columnHiderCheckboxes[f].checked=!a)}})})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(d,m,l,q,k,p,s,g,f){l.add("dojo-preload-i18n-Api",
1);var a=d.i18n={},c=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,e=function(a,b,c,e){var f=[c+e];b=b.split("-");for(var d="",h=0;h<b.length;h++)if(d+=(d?"-":"")+b[h],!a||a[d])f.push(c+d+"/"+e),f.specificity=d;return f},b={},n=function(a,b,c){c=c?c.toLowerCase():d.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b},r=d.getL10nName=function(a,b,c){return f.id+"!"+n(a,b,c)},h=function(a,c,f,d,h,g){a([c],function(n){var k=p.clone(n.root||n.ROOT),r=e(!n._v1x&&
n,h,f,d);a(r,function(){for(var a=1;a<r.length;a++)k=p.mixin(p.clone(k),arguments[a]);b[c+"/"+h]=k;k.$locale=r.specificity;g()})})},u=function(a){var b=k.extraLocale||[],b=p.isArray(b)?b:[b];b.push(a);return b},v=function(a,e,f){if(l("dojo-preload-i18n-Api")){var n=a.split("*"),k="preload"==n[1];k&&(b[a]||(b[a]=1,w(n[2],g.parse(n[3]),1,e)),f(1));if(!(n=k))y&&z.push([a,e,f]),n=y;if(n)return}a=c.exec(a);var r=a[1]+"/",m=a[5]||a[4],s=r+m,n=(a=a[5]&&a[4])||d.locale||"",t=s+"/"+n;a=a?[n]:u(n);var v=a.length,
x=function(){--v||f(p.delegate(b[t]))};q.forEach(a,function(a){var c=s+"/"+a;l("dojo-preload-i18n-Api")&&A(c);b[c]?x():h(e,s,r,m,a,x)})};l("dojo-preload-i18n-Api");var t=a.normalizeLocale=function(a){a=a?a.toLowerCase():d.locale;return"root"==a?"ROOT":a},y=0,z=[],w=a._preloadLocalizations=function(a,c,e,f){function h(a,b){f.isXdUrl(m.toUrl(a+".js"))||e?f([a],b):C([a],b,f)}function g(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}function n(){for(--y;!y&&z.length;)v.apply(null,
z.shift())}function k(e){e=t(e);g(e,function(d){if(0<=q.indexOf(c,d)){var k=a.replace(/\./g,"/")+"_"+d;y++;h(k,function(a){for(var c in a){var h=a[c],k=c.match(/(.+)\/([^\/]+)$/),r;if(k&&(r=k[2],k=k[1]+"/",h._localized)){var l;if("ROOT"===d){var q=l=h._localized;delete h._localized;q.root=h;b[m.toAbsMid(c)]=q}else l=h._localized,b[m.toAbsMid(k+r+"/"+d)]=h;d!==e&&function(a,c,d,h){var k=[],r=[];g(e,function(b){h[b]&&(k.push(m.toAbsMid(a+b+"/"+c)),r.push(m.toAbsMid(a+c+"/"+b)))});k.length?(y++,f(k,
function(){for(var f=k.length-1;0<=f;f--)d=p.mixin(p.clone(d),arguments[f]),b[r[f]]=d;b[m.toAbsMid(a+c+"/"+e)]=p.clone(d);n()})):b[m.toAbsMid(a+c+"/"+e)]=d}(k,r,h,l)}}n()});return!0}return!1})}f=f||m;k();q.forEach(d.config.extraLocale,k)},A=function(){},x={},E=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
C=function(a,c,e){var f=[];q.forEach(a,function(a){function c(e){e=E(e,A,a,x);e===x?f.push(b[d]=x.result):(e instanceof Error&&(console.error("failed to evaluate i18n bundle; url\x3d"+d,e),e={}),f.push(b[d]=/nls\/[^\/]+\/[^\/]+$/.test(d)?e:{root:e,_v1x:1}))}var d=e.toUrl(a+".js");if(b[d])f.push(b[d]);else{var h=e.syncLoadNls(a);h||(h=A(a.replace(/nls\/([^\/]*)\/([^\/]*)$/,"nls/$2/$1")));if(h)f.push(h);else if(s)s.get({url:d,sync:!0,load:c,error:function(){f.push(b[d]={})}});else try{e.getText(d,!0,
c)}catch(g){f.push(b[d]={})}}});c&&c.apply(null,f)},A=function(a){for(var c,e=a.split("/"),f=d.global[e[0]],h=1;f&&h<e.length-1;f=f[e[h++]]);f&&((c=f[e[h]])||(c=f[e[h].replace(/-/g,"_")]),c&&(b[a]=c));return c};a.getLocalization=function(a,b,c){var e;a=n(a,b,c);v(a,!m.isXdUrl(m.toUrl(a+".js"))?function(a,b){C(a,b,m)}:m,function(a){e=a});return e};return p.mixin(a,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:v,cache:b,getL10nName:r})})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(d,m,l,q,k,p,s,g,f,a,c,e,b,n,r,h){d._xhrObj=r._create;var u=d.config;d.objectToQuery=q.objectToQuery;d.queryToObject=q.queryToObject;d.fieldToObject=p.fieldToObject;d.formToObject=p.toObject;d.formToQuery=p.toQuery;d.formToJson=p.toJson;d._blockAsync=!1;var v=d._contentHandlers=d.contentHandlers={text:function(a){return a.responseText},json:function(a){return f.fromJson(a.responseText||null)},"json-comment-filtered":function(a){g.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
a=a.responseText;var b=a.indexOf("/*"),c=a.lastIndexOf("*/");if(-1==b||-1==c)throw Error("JSON was not comment filtered");return f.fromJson(a.substring(b+2,c))},javascript:function(a){return d.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&(m("dom-qsa2.1")&&!b.querySelectorAll&&m("dom-parser"))&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(m("ie")&&(!b||!b.documentElement)){var e=function(a){return"MSXML"+a+".DOMDocument"},e=["Microsoft.XMLDOM",e(6),e(4),
e(3),e(2)];c.some(e,function(c){try{var e=new ActiveXObject(c);e.async=!1;e.loadXML(a.responseText);b=e}catch(f){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?v["json-comment-filtered"](a):v.json(a)}};d._ioSetArgs=function(b,c,e,f){var h={args:b,url:b.url},g=null;if(b.form){var g=k.byId(b.form),n=g.getAttributeNode("action");h.url=h.url||(n?n.value:d.doc?d.doc.URL:null);g=p.toObject(g)}n=[{}];g&&n.push(g);b.content&&n.push(b.content);
b.preventCache&&n.push({"dojo.preventCache":(new Date).valueOf()});h.query=q.objectToQuery(a.mixin.apply(null,n));h.handleAs=b.handleAs||"text";var r=new s(function(a){a.canceled=!0;c&&c(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b);return b});r.addCallback(e);var l=b.load;l&&a.isFunction(l)&&r.addCallback(function(a){return l.call(b,a,h)});var m=b.error;m&&a.isFunction(m)&&r.addErrback(function(a){return m.call(b,a,h)});var t=b.handle;t&&a.isFunction(t)&&
r.addBoth(function(a){return t.call(b,a,h)});r.addErrback(function(a){return f(a,r)});u.ioPublish&&(d.publish&&!1!==h.args.ioPublish)&&(r.addCallbacks(function(a){d.publish("/dojo/io/load",[r,a]);return a},function(a){d.publish("/dojo/io/error",[r,a]);return a}),r.addBoth(function(a){d.publish("/dojo/io/done",[r,a]);return a}));r.ioArgs=h;return r};var t=function(a){a=v[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},y=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},z=function(a){0>=
w&&(w=0,u.ioPublish&&(d.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish))&&d.publish("/dojo/io/stop"))},w=0;b.after(n,"_onAction",function(){w-=1});b.after(n,"_onInFlight",z);d._ioCancelAll=n.cancelAll;d._ioNotifyStart=function(a){u.ioPublish&&(d.publish&&!1!==a.ioArgs.args.ioPublish)&&(w||d.publish("/dojo/io/start"),w+=1,d.publish("/dojo/io/send",[a]))};d._ioWatch=function(b,c,e,f){b.ioArgs.options=b.ioArgs.args;a.mixin(b,{response:b.ioArgs,isValid:function(a){return c(b)},isReady:function(a){return e(b)},
handleResponse:function(a){return f(b)}});n(b);z(b)};d._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};d.xhr=function(a,b,c){var e,f=d._ioSetArgs(b,function(a){e&&e.cancel()},t,y),h=f.ioArgs;"postData"in b?h.query=b.postData:"putData"in b?h.query=b.putData:"rawBody"in b?h.query=b.rawBody:(2<arguments.length&&!c||-1==="POST|PUT".indexOf(a.toUpperCase()))&&d._ioAddQueryToUrl(h);var g={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,
ioArgs:h};"undefined"!==typeof b.headers&&(g.headers=b.headers);"undefined"!==typeof b.contentType&&(g.headers||(g.headers={}),g.headers["Content-Type"]=b.contentType);"undefined"!==typeof h.query&&(g.data=h.query);"undefined"!==typeof b.sync&&(g.sync=b.sync);d._ioNotifyStart(f);try{e=r(h.url,g,!0)}catch(n){return f.cancel(),f}f.ioArgs.xhr=e.response.xhr;e.then(function(){f.resolve(f)}).otherwise(function(a){h.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);
f.reject(a)});return f};d.xhrGet=function(a){return d.xhr("GET",a)};d.rawXhrPost=d.xhrPost=function(a){return d.xhr("POST",a,!0)};d.rawXhrPut=d.xhrPut=function(a){return d.xhr("PUT",a,!0)};d.xhrDelete=function(a){return d.xhr("DELETE",a)};d._isDocumentOk=function(a){return h.checkStatus(a.status)};d._getText=function(a){var b;d.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};a.mixin(d.xhr,{_xhrObj:d._xhrObj,fieldToObject:p.fieldToObject,formToObject:p.toObject,objectToQuery:q.objectToQuery,
formToQuery:p.toQuery,formToJson:p.toJson,queryToObject:q.queryToObject,contentHandlers:v,_ioSetArgs:d._ioSetArgs,_ioCancelAll:d._ioCancelAll,_ioNotifyStart:d._ioNotifyStart,_ioWatch:d._ioWatch,_ioAddQueryToUrl:d._ioAddQueryToUrl,_isDocumentOk:d._isDocumentOk,_getText:d._getText,get:d.xhrGet,post:d.xhrPost,put:d.xhrPut,del:d.xhrDelete});return d.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(d){var m={};return{objectToQuery:function(l){var q=encodeURIComponent,k=[],p;for(p in l){var s=
l[p];if(s!=m[p]){var g=q(p)+"\x3d";if(d.isArray(s))for(var f=0,a=s.length;f<a;++f)k.push(g+q(s[f]));else k.push(g+q(s))}}return k.join("\x26")},queryToObject:function(l){var q=decodeURIComponent;l=l.split("\x26");for(var k={},p,m,g=0,f=l.length;g<f;++g)if(m=l[g],m.length){var a=m.indexOf("\x3d");0>a?(p=q(m),m=""):(p=q(m.slice(0,a)),m=q(m.slice(a+1)));"string"==typeof k[p]&&(k[p]=[k[p]]);d.isArray(k[p])?k[p].push(m):k[p]=m}return k}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query",
"./json"],function(d,m,l,q){var k={fieldToObject:function(d){var k=null;if(d=m.byId(d)){var g=d.name,f=(d.type||"").toLowerCase();if(g&&f&&!d.disabled)if("radio"==f||"checkbox"==f)d.checked&&(k=d.value);else if(d.multiple){k=[];for(d=[d.firstChild];d.length;)for(g=d.pop();g;g=g.nextSibling)if(1==g.nodeType&&"option"==g.tagName.toLowerCase())g.selected&&k.push(g.value);else{g.nextSibling&&d.push(g.nextSibling);g.firstChild&&d.push(g.firstChild);break}}else k=d.value}return k},toObject:function(p){var l=
{};p=m.byId(p).elements;for(var g=0,f=p.length;g<f;++g){var a=p[g],c=a.name,e=(a.type||"").toLowerCase();if(c&&e&&0>"file|submit|image|reset|button".indexOf(e)&&!a.disabled){var b=l,n=c,a=k.fieldToObject(a);if(null!==a){var r=b[n];"string"==typeof r?b[n]=[r,a]:d.isArray(r)?r.push(a):b[n]=a}"image"==e&&(l[c+".x"]=l[c+".y"]=l[c].x=l[c].y=0)}}return l},toQuery:function(d){return l.objectToQuery(k.toObject(d))},toJson:function(d,l){return q.stringify(k.toObject(d),null,l?4:0)}};return k})},"dojo/json":function(){define(["./has"],
function(d){var m="undefined"!=typeof JSON;d.add("json-parse",m);d.add("json-stringify",m&&'{"a":1}'==JSON.stringify({a:0},function(d,k){return k||1}));if(d("json-stringify"))return JSON;var l=function(d){return('"'+d.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:d("json-parse")?JSON.parse:function(d,k){if(k&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(d))throw new SyntaxError("Invalid characters in JSON");
return eval("("+d+")")},stringify:function(d,k,p){function m(f,a,c){k&&(f=k(c,f));var e;e=typeof f;if("number"==e)return isFinite(f)?f+"":"null";if("boolean"==e)return f+"";if(null===f)return"null";if("string"==typeof f)return l(f);if("function"==e||"undefined"==e)return g;if("function"==typeof f.toJSON)return m(f.toJSON(c),a,c);if(f instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,b,c){a=f["getUTC"+b]()+(c?1:0);return 10>a?"0"+
a:a});if(f.valueOf()!==f)return m(f.valueOf(),a,c);var b=p?a+p:"",d=p?" ":"",r=p?"\n":"";if(f instanceof Array){var d=f.length,h=[];for(c=0;c<d;c++)e=m(f[c],b,c),"string"!=typeof e&&(e="null"),h.push(r+b+e);return"["+h.join(",")+r+a+"]"}h=[];for(c in f){var q;if(f.hasOwnProperty(c)){if("number"==typeof c)q='"'+c+'"';else if("string"==typeof c)q=l(c);else continue;e=m(f[c],b,c);"string"==typeof e&&h.push(r+b+q+":"+d+e)}}return"{"+h.join(",")+r+a+"}"}var g;"string"==typeof k&&(p=k,k=null);return m(d,
"","")}}})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(d,m,l,q,k,p,s){var g=function(){},f=Object.freeze||function(){},a=d.Deferred=function(c){function e(a){if(r)throw Error("This deferred has already been resolved");d=a;r=!0;b()}function b(){for(var a;!a&&y;){var b=y;y=y.next;if(a=b.progress==g)r=!1;var c=v?b.error:b.resolved;k("config-useDeferredInstrumentation")&&v&&m.instrumentRejected&&m.instrumentRejected(d,
!!c);if(c)try{var e=c(d);e&&"function"===typeof e.then?e.then(p.hitch(b.deferred,"resolve"),p.hitch(b.deferred,"reject"),p.hitch(b.deferred,"progress")):(c=a&&void 0===e,a&&!c&&(v=e instanceof Error),b.deferred[c&&v?"reject":"resolve"](c?d:e))}catch(f){b.deferred.reject(f)}else v?b.deferred.reject(d):b.deferred.resolve(d)}}var d,r,h,s,v,t,y,z=this.promise=new l;this.isResolved=z.isResolved=function(){return 0==s};this.isRejected=z.isRejected=function(){return 1==s};this.isFulfilled=z.isFulfilled=
function(){return 0<=s};this.isCanceled=z.isCanceled=function(){return h};this.resolve=this.callback=function(a){this.fired=s=0;this.results=[a,null];e(a)};this.reject=this.errback=function(a){v=!0;this.fired=s=1;k("config-useDeferredInstrumentation")&&m.instrumentRejected&&m.instrumentRejected(a,!!y);e(a);this.results=[null,a]};this.progress=function(a){for(var b=y;b;){var c=b.progress;c&&c(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,g);return this};z.then=this.then=function(c,e,
f){var d=f==g?this:new a(z.cancel);c={resolved:c,error:e,progress:f,deferred:d};y?t=t.next=c:y=t=c;r&&b();return d.promise};var w=this;z.cancel=this.cancel=function(){if(!r){var a=c&&c(w);r||(a instanceof Error||(a=new q(a)),a.log=!1,w.reject(a))}h=!0};f(z)};p.extend(a,{addCallback:function(a){return this.addCallbacks(p.hitch.apply(d,arguments))},addErrback:function(a){return this.addCallbacks(null,p.hitch.apply(d,arguments))},addBoth:function(a){var e=p.hitch.apply(d,arguments);return this.addCallbacks(e,
e)},fired:-1});a.when=d.when=s;return a})},"dojo/_base/json":function(){define(["./kernel","../json"],function(d,m){d.fromJson=function(d){return eval("("+d+")")};d._escapeString=m.stringify;d.toJsonIndentStr="\t";d.toJson=function(l,q){return m.stringify(l,function(d,p){if(p){var l=p.__json__||p.json;if("function"==typeof l)return l.call(p)}return p},q&&d.toJsonIndentStr)};return d})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),
function(d,m,l,q,k,p){function s(){for(var c=+new Date,e=0,b;e<a.length&&(b=a[e]);e++){var d=b.response,k=d.options;if(b.isCanceled&&b.isCanceled()||b.isValid&&!b.isValid(d))a.splice(e--,1),g._onAction&&g._onAction();else if(b.isReady&&b.isReady(d))a.splice(e--,1),b.handleResponse(d),g._onAction&&g._onAction();else if(b.startTime&&b.startTime+(k.timeout||0)<c)a.splice(e--,1),b.cancel(new m("Timeout exceeded",d)),g._onAction&&g._onAction()}g._onInFlight&&g._onInFlight(b);a.length||(clearInterval(f),
f=null)}function g(c){c.response.options.timeout&&(c.startTime=+new Date);c.isFulfilled()||(a.push(c),f||(f=setInterval(s,50)),c.response.options.sync&&s())}var f=null,a=[];g.cancelAll=function(){try{q.forEach(a,function(a){try{a.cancel(new l("All requests canceled."))}catch(b){}})}catch(c){}};k&&(p&&k.doc.attachEvent)&&p(k.global,"unload",function(){g.cancelAll()});return g})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),
function(d,m,l,q,k,p,s,g){function f(a){return c(a)}function a(a){return void 0!==a.data?a.data:a.text}d.deepCopy=function(a,b){for(var c in b){var f=a[c],h=b[c];f!==h&&(f&&"object"===typeof f&&h&&"object"===typeof h?d.deepCopy(f,h):a[c]=h)}return a};d.deepCreate=function(a,b){b=b||{};var c=s.delegate(a),f,h;for(f in a)(h=a[f])&&"object"===typeof h&&(c[f]=d.deepCreate(h,b[f]));return d.deepCopy(c,b)};var c=Object.freeze||function(a){return a};d.deferred=function(e,b,n,k,h,p){var v=new q(function(a){b&&
b(v,e);return!a||!(a instanceof m)&&!(a instanceof l)?new l("Request canceled",e):a});v.response=e;v.isValid=n;v.isReady=k;v.handleResponse=h;n=v.then(f).otherwise(function(a){a.response=e;throw a;});d.notify&&n.then(s.hitch(d.notify,"emit","load"),s.hitch(d.notify,"emit","error"));k=n.then(a);h=new g;for(var t in k)k.hasOwnProperty(t)&&(h[t]=k[t]);h.response=n;c(h);p&&v.then(function(a){p.call(v,a)},function(a){p.call(v,e,a)});v.promise=h;v.then=h.then;return v};d.addCommonMethods=function(a,b){p.forEach(b||
["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,f){f=s.delegate(f||{});f.method=b;return a(c,f)}})};d.parseArgs=function(a,b,c){var f=b.data,d=b.query;if(f&&!c&&"object"===typeof f&&!(f instanceof ArrayBuffer||f instanceof Blob))b.data=k.objectToQuery(f);d?("object"===typeof d&&(d=k.objectToQuery(d)),b.preventCache&&(d+=(d?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(d="request.preventCache\x3d"+ +new Date);a&&d&&(a+=(~a.indexOf("?")?
"\x26":"?")+d);return{url:a,options:b,getHeader:function(a){return null}}};d.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(d){return d("RequestError",function(d,l){this.response=l})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(d,m){return d("RequestTimeoutError",null,m,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError",
"./watch","./handlers","./util","../has"],function(d,m,l,q,k){function p(a,b){var c=a.xhr;a.status=a.xhr.status;try{a.text=c.responseText}catch(e){}"xml"===a.options.handleAs&&(a.data=c.responseXML);if(!b)try{l(a)}catch(f){b=f}var h;if(b)this.reject(b);else{try{l(a)}catch(g){h=g}q.checkStatus(c.status)?h?this.reject(h):this.resolve(a):(b=h?new d("Unable to load "+a.url+" status: "+c.status+" and an error in handleAs: transformation of response",a):new d("Unable to load "+a.url+" status: "+c.status,
a),this.reject(b))}}function s(a){return this.xhr.getResponseHeader(a)}function g(h,l,u){var z=k("native-formdata")&&l&&l.data&&l.data instanceof FormData,w=q.parseArgs(h,q.deepCreate(r,l),z);h=w.url;l=w.options;var A,x=q.deferred(w,b,a,c,p,function(){A&&A()}),E=w.xhr=g._create();if(!E)return x.cancel(new d("XHR was not created")),u?x:x.promise;w.getHeader=s;e&&(A=e(E,x,w));var C=l.data,H=!l.sync,S=l.method;try{E.open(S,h,H,l.user||n,l.password||n);l.withCredentials&&(E.withCredentials=l.withCredentials);
k("native-response-type")&&l.handleAs in f&&(E.responseType=f[l.handleAs]);var I=l.headers;h=z?!1:"application/x-www-form-urlencoded";if(I)for(var M in I)"content-type"===M.toLowerCase()?h=I[M]:I[M]&&E.setRequestHeader(M,I[M]);h&&!1!==h&&E.setRequestHeader("Content-Type",h);(!I||!("X-Requested-With"in I))&&E.setRequestHeader("X-Requested-With","XMLHttpRequest");q.notify&&q.notify.emit("send",w,x.promise.cancel);E.send(C)}catch(B){x.reject(B)}m(x);E=null;return u?x:x.promise}k.add("native-xhr",function(){return"undefined"!==
typeof XMLHttpRequest});k.add("dojo-force-activex-xhr",function(){return k("activex")&&"file:"===window.location.protocol});k.add("native-xhr2",function(){if(k("native-xhr")&&!k("dojo-force-activex-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});k.add("native-formdata",function(){return"undefined"!==typeof FormData});k.add("native-response-type",function(){return k("native-xhr")&&"undefined"!==typeof(new XMLHttpRequest).responseType});
k.add("native-xhr2-blob",function(){if(k("native-response-type")){var a=new XMLHttpRequest;a.open("GET","/",!0);a.responseType="blob";var b=a.responseType;a.abort();return"blob"===b}});var f={blob:k("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"},a,c,e,b;k("native-xhr2")?(a=function(a){return!this.isFulfilled()},b=function(a,b){b.xhr.abort()},e=function(a,b,c){function e(a){b.handleResponse(c)}function f(a){a=new d("Unable to load "+c.url+" status: "+a.target.status,
c);b.handleResponse(c,a)}function h(a){a.lengthComputable?(c.loaded=a.loaded,c.total=a.total,b.progress(c)):3===c.xhr.readyState&&(c.loaded="loaded"in a?a.loaded:a.position,b.progress(c))}a.addEventListener("load",e,!1);a.addEventListener("error",f,!1);a.addEventListener("progress",h,!1);return function(){a.removeEventListener("load",e,!1);a.removeEventListener("error",f,!1);a.removeEventListener("progress",h,!1);a=null}}):(a=function(a){return a.xhr.readyState},c=function(a){return 4===a.xhr.readyState},
b=function(a,b){var c=b.xhr,e=typeof c.abort;("function"===e||"object"===e||"unknown"===e)&&c.abort()});var n,r={data:null,query:null,sync:!1,method:"GET"};g._create=function(){throw Error("XMLHTTP not available");};if(k("native-xhr")&&!k("dojo-force-activex-xhr"))g._create=function(){return new XMLHttpRequest};else if(k("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),g._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(h){try{new ActiveXObject("Microsoft.XMLHTTP"),g._create=
function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(u){}}q.addCommonMethods(g);return g})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(d,m,l,q){function k(c){var e=a[c.options.handleAs];c.data=e?e(c):c.data||c.text;return c}q.add("activex","undefined"!==typeof ActiveXObject);q.add("dom-parser",function(a){return"DOMParser"in a});var p;if(q("activex")){var s=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0",
"MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],g;p=function(a){function e(a){try{var c=new ActiveXObject(a);c.async=!1;c.loadXML(f);b=c;g=a}catch(e){return!1}return!0}var b=a.data,f=a.text;b&&(q("dom-qsa2.1")&&!b.querySelectorAll&&q("dom-parser"))&&(b=(new DOMParser).parseFromString(f,"application/xml"));if(!b||!b.documentElement)(!g||!e(g))&&l.some(s,e);return b}}var f=function(a){return!q("native-xhr2-blob")&&"blob"===a.options.handleAs&&"undefined"!==typeof Blob?new Blob([a.xhr.response],{type:a.xhr.getResponseHeader("Content-Type")}):
a.xhr.response},a={javascript:function(a){return m.eval(a.text||"")},json:function(a){return d.parse(a.text||null)},xml:p,blob:f,arraybuffer:f,document:f};k.register=function(c,e){a[c]=e};return k})},"dgrid/extensions/nls/columnHider":function(){define({root:{popupTriggerLabel:"Show or hide columns",popupLabel:"Show or hide columns"},es:!0,ro:!0,sl:!0})},"dgrid/Editor":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-construct dojo/dom-class dojo/on dojo/has dojo/query ./Grid dojo/_base/sniff".split(" "),
function(d,m,l,q,k,p,s,g,f){return d(null,{constructor:function(){this._editorInstances={};this._editorColumnListeners=[];this._editorCellListeners={};this._editorsPendingStartup=[]},postCreate:function(){var a=this;this.inherited(arguments);this.on(".dgrid-input:focusin",function(){a._focusedEditorCell=a.cell(this)});this._editorFocusoutHandle=p.pausable(this.domNode,".dgrid-input:focusout",function(){a._focusedEditorCell=null});this._listeners.push(this._editorFocusoutHandle)},insertRow:function(){this._editorRowListeners=
{};var a=this.inherited(arguments),c=this.row(a),e=this._editorCellListeners[a.id]=this._editorCellListeners[a.id]||{},b;for(b in this._editorRowListeners)e[b]=this._editorRowListeners[b];this._editorRowListeners=null;(e=this._previouslyFocusedEditorCell)&&e.row.id===c.id&&this.edit(this.cell(c,e.column.id));return a},refresh:function(){for(var a in this._editorInstances){var c=this._editorInstances[a].domNode;c&&c.parentNode&&c.parentNode.removeChild(c)}this.inherited(arguments)},removeRow:function(a){var c=
this,e=this._focusedEditorCell;e&&e.row.id===this.row(a).id&&(this._previouslyFocusedEditorCell=e,this._editorFocusoutHandle.pause(),setTimeout(function(){c._editorFocusoutHandle.resume();c._previouslyFocusedEditorCell=null},0));if(this._editorCellListeners[a.id]){for(var b in this._editorCellListeners[a.id])this._editorCellListeners[a.id][b].remove();delete this._editorCellListeners[a.id]}for(e=this._alwaysOnWidgetColumns.length;e--;)if(b=(b=this.cell(a,this._alwaysOnWidgetColumns[e].id).element)&&
(b.contents||b).widget)this._editorFocusoutHandle.pause(),b.destroyRecursive();return this.inherited(arguments)},renderArray:function(){var a=this.inherited(arguments);a.length?this._startupPendingEditors():this._editorsPendingStartup=[];return a},_onNotification:function(){this.inherited(arguments);this._startupPendingEditors()},_destroyColumns:function(){this._editorStructureCleanup();this.inherited(arguments)},_editorStructureCleanup:function(){var a=this._editorInstances,c=this._editorColumnListeners;
this._editTimer&&clearTimeout(this._editTimer);for(var e in a){var b=a[e];b.domNode&&b.destroyRecursive()}this._editorInstances={};for(a=c.length;a--;)c[a].remove();for(var f in this._editorCellListeners)for(e in this._editorCellListeners[f])this._editorCellListeners[f][e].remove();for(a=0;a<this._editorColumnListeners.length;a++)this._editorColumnListeners[a].remove();this._editorCellListeners={};this._editorColumnListeners=[];this._editorsPendingStartup=[]},_configColumns:function(){var a=this.inherited(arguments);
this._alwaysOnWidgetColumns=[];for(var c=0,e=a.length;c<e;c++)a[c].editor&&this._configureEditorColumn(a[c]);return a},_configureEditorColumn:function(a){var c=this,e=a.renderCell||this._defaultRenderCell,b=a.editOn,f="string"!==typeof a.editor;b?this._editorInstances[a.id]=this._createSharedEditor(a,e):f&&this._alwaysOnWidgetColumns.push(a);a.renderCell=b?function(f,d,g,n){if(!n||!n.alreadyHooked){var k=p(g,b,function(){c._activeOptions=n;c.edit(this)});if(c._editorRowListeners)c._editorRowListeners[a.id]=
k;else{var l=c.row(f);c._editorCellListeners[l.element.id][a.id]=k}}return e.call(a,f,d,g,n)}:function(b,d,g,k){if(!a.canEdit||a.canEdit(b,d))b=c._createEditor(a,b),c._showEditor(b,a,g,d),g[f?"widget":"input"]=b;else return e.call(a,b,d,g,k)}},edit:function(a){function c(a){e._activeCell=f;e._showEditor(k,b,f,g);e._editTimer=setTimeout(function(){k.focus&&k.focus();b._editorBlurHandle&&b._editorBlurHandle.resume();e._editTimer=null;a.resolve(k)},0)}var e=this,b,f,d,h,g,k,p;a.column||(a=this.cell(a));
if(!a||!a.element)return null;b=a.column;h=b.field;f=a.element.contents||a.element;if(k=this._editorInstances[b.id]){if(this._activeCell!==f){var m=a.row;g=(d=this.dirty&&this.dirty[m.id])&&h in d?d[h]:b.get?b.get(m.data):m.data[h];if(!b.canEdit||b.canEdit(a.row.data,g))return p=new l,a=k.domNode||k,a.offsetWidth?(a.blur(),setTimeout(function(){c(p)},0)):c(p),p.promise}}else if(b.editor&&(k=f.widget||f.input))return p=new l,k.focus&&k.focus(),p.resolve(k),p.promise;return null},refreshCell:function(a){var c=
a.column,e=c.get?c.get(a.row.data):a.row.data[c.field],b;c.editor&&(a.column.editOn&&this._activeCell===a.element?b=this._editorInstances[a.column.id]:a.column.editOn||(b=a.element.widget||a.element.input));return b?(b.domNode?b.set("value",e):this._updateInputValue(b,e),(new l).resolve()):this.inherited(arguments)},_showEditor:function(a,c,e,b){var f=a.domNode;f||this._updateInputValue(a,b);e.innerHTML="";k.add(e,"dgrid-cell-editing");f&&(c.editOn&&a.validate&&a.reset)&&a.reset();e.appendChild(a.domNode||
a);f&&!c.editOn?this._editorsPendingStartup.push([a,c,e,b]):this._startupEditor(a,c,e,b)},_startupEditor:function(a,c,e,b){a.domNode&&(a._started||a.startup(),a._dgridIgnoreChange=!0,a.set("value",b),setTimeout(function(){a._dgridIgnoreChange=!1},0));a._dgridLastValue=b;this._activeCell&&(this._activeValue=b,p.emit(e,"dgrid-editor-show",{grid:this,cell:this.cell(e),column:c,editor:a,bubbles:!0,cancelable:!1}))},_startupPendingEditors:function(){for(var a=this._editorsPendingStartup,c=a.length;c--;)this._startupEditor.apply(this,
a[c]);this._editorsPendingStartup=[]},_handleEditorChange:function(a,c){var e=a.target;"_dgridLastValue"in e&&-1<e.className.indexOf("dgrid-input")&&this._updatePropertyFromEditor(c||this.cell(e).column,e,a)},_createEditor:function(a,c){var e=a.editor,b=a.editOn,f=this,d="string"!==typeof e&&e,h,g,k={};h=a.editorArgs||{};"function"===typeof h&&(h=h.call(this,a));d?(g=new d(h),h=g.focusNode||g.domNode,h.className+=" dgrid-input",g.on(b?"blur":"change",function(){g._dgridIgnoreChange||f._updatePropertyFromEditor(a,
this,{type:"widget"})})):(this._hasInputListener||(this._hasInputListener=!0,this.on("change",function(a){f._handleEditorChange(a)})),"textarea"===e?d="textarea":(d="input",k.type=e),g=h=q.create(d,m.mixin(k,{className:"dgrid-input",name:a.field,tabIndex:isNaN(a.tabIndex)?-1:a.tabIndex},h)),9>s("ie")&&(e="radio"===e||"checkbox"===e?p(g,"click",function(b){f._handleEditorChange(b,a)}):p(g,"change",function(b){f._handleEditorChange(b,a)}),b?this._editorColumnListeners.push(e):this._editorRowListeners?
this._editorRowListeners[a.id]=e:this._editorCellListeners[this.row(c).element.id][a.id]=e));if(a.autoSelect){var l=g.focusNode||g;l.select&&p(l,"focus",function(){setTimeout(function(){l.select()},0)})}return g},_createSharedEditor:function(a){function c(){var a=b._activeCell;h.blur();"function"===typeof b.focus&&setTimeout(function(){b.focus(a)},d&&9>s("ie")?15:0)}var e=this._createEditor(a),b=this,d=e.domNode,g=e.domNode||e,h=e.focusNode||g,l=d?function(){e.set("value",e._dgridLastValue)}:function(){b._updateInputValue(e,
e._dgridLastValue);b._updatePropertyFromEditor(a,e)};this._editorColumnListeners.push(p(h,"keydown",function(f){f=f.keyCode||f.which;27===f?(l(),b._activeValue=e._dgridLastValue,c()):13===f&&!1!==a.dismissOnEnter&&c()}));(a._editorBlurHandle=p.pausable(e,"blur",function(){var c=g.parentNode,d={alreadyHooked:!0},h=b.cell(g);p.emit(h.element,"dgrid-editor-hide",{grid:b,cell:h,column:a,editor:e,bubbles:!0,cancelable:!1});a._editorBlurHandle.pause();c.removeChild(g);h.row&&(k.remove(h.element,"dgrid-cell-editing"),
q.empty(c),f.appendIfNode(c,a.renderCell(h.row.data,b._activeValue,c,b._activeOptions?m.delegate(d,b._activeOptions):d)));b._focusedEditorCell=b._activeCell=b._activeValue=b._activeOptions=null})).pause();this._editorColumnListeners.push(a._editorBlurHandle);return e},_updatePropertyFromEditor:function(a,c,e){var b;if(!c.isValid||c.isValid())if(e=this._updateProperty((c.domNode||c).parentNode,this._activeCell?this._activeValue:c._dgridLastValue,this._retrieveEditorValue(a,c),e),this._activeCell?this._activeValue=
e:c._dgridLastValue=e,"radio"===c.type&&c.name&&!a.editOn&&a.field)for(b in e=this.row(c),g("input[type\x3dradio][name\x3d"+c.name+"]",this.contentNode).forEach(function(b){var e=this.row(b);b!==c&&b._dgridLastValue&&(b._dgridLastValue=!1,this.updateDirty?this.updateDirty(e.id,a.field,!1):e.data[a.field]=!1)},this),this.dirty)e.id.toString()!==b&&this.dirty[b][a.field]&&this.updateDirty(b,a.field,!1)},_updateProperty:function(a,c,e,b){var f=this;if((c&&c.valueOf())!==(e&&e.valueOf())){var d=this.cell(a),
h=d.row,g=d.column;a=d.element;if(g.field&&h)if(d={grid:this,cell:d,oldValue:c,value:e,bubbles:!0,cancelable:!0},b&&b.type&&(d.parentType=b.type),p.emit(a,"dgrid-datachange",d))this.updateDirty?(this.updateDirty(h.id,g.field,e),g.autoSave&&setTimeout(function(){f._trackError("save")},0)):h.data[g.field]=e;else{var k;(k=a.widget)?(k._dgridIgnoreChange=!0,k.set("value",c),setTimeout(function(){k._dgridIgnoreChange=!1},0)):(k=a.input)&&this._updateInputValue(k,c);return c}}return e},_updateInputValue:function(a,
c){a.value=c;if("radio"===a.type||"checkbox"===a.type)a.checked=a.defaultChecked=!!c},_retrieveEditorValue:function(a,c){return"function"===typeof c.get?this._convertEditorValue(c.get("value")):this._convertEditorValue(c["checkbox"===c.type||"radio"===c.type?"checked":"value"])},_convertEditorValue:function(a,c){if("number"===typeof c)a=isNaN(a)?a:parseFloat(a);else if("boolean"===typeof c)a="true"===a?!0:"false"===a?!1:a;else if(c instanceof Date){var e=new Date(a);a=isNaN(e.getTime())?a:e}return a}})})},
"dstore/Memory":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array ./Store ./Promised ./SimpleQuery ./QueryResults".split(" "),function(d,m,l,q,k,p,s){return d([q,k,p],{constructor:function(){this.storage.version=0},postscript:function(){this.inherited(arguments);this.setData(this.data||[])},data:null,autoEmitEvents:!1,getSync:function(d){return this.storage.fullData[this.storage.index[d]]},putSync:function(d,f){f=f||{};var a=this.storage,c=a.index,e=a.fullData,b=this.Model;b&&
!(d instanceof b)&&(d=this._restore(d));var k=this.getIdentity(d);null==k&&(this._setIdentity(d,"id"in f?f.id:Math.random()),k=this.getIdentity(d));a.version++;var a=k in c?"update":"add",b={target:d},p;if("update"===a){if(!1===f.overwrite)throw Error("Object already exists");e.splice(p=c[k],1);k=p}else k=this.defaultNewToStart?0:e.length;var h;if("beforeId"in f){var l=f.beforeId;null===l?h=e.length:(h=c[l],p<h&&--h);void 0!==h?b.beforeId=l:(console.error("options.beforeId was specified but no corresponding index was found"),
h=k)}else h=k;e.splice(h,0,d);p=isFinite(p)?Math.min(p,h):h;for(k=e.length;p<k;++p)c[this.getIdentity(e[p])]=p;this.emit(a,b);return d},addSync:function(d,f){(f=f||{}).overwrite=!1;return this.putSync(d,f)},removeSync:function(d){var f=this.storage,a=f.index,f=f.fullData;if(d in a)return a=f.splice(a[d],1)[0],this._reindex(),this.emit("delete",{id:d,target:a}),!0},setData:function(d){this.parse&&(d=this.parse(d));d.items&&(this.idProperty=d.identifier||this.idProperty,d=d.items);this.storage.fullData=
this.data=d;this._reindex()},_reindex:function(){for(var d=this.storage,f=d.index={},a=d.fullData,c=this.Model,e=Object.prototype,b=0,k=a.length;b<k;b++){var p=a[b];if(c&&!(p instanceof c)){var h=this._restore(p,p.__proto__===e);p!==h&&(a[b]=p=h)}f[this.getIdentity(p)]=b}d.version++},fetchSync:function(){var d=this.data;if(!d||d._version!==this.storage.version){for(var d=this.storage.fullData,f=this.queryLog,a=0,c=f.length;a<c;a++)d=f[a].querier(d);d._version=this.storage.version;this.data=d}return new s(d)},
fetchRangeSync:function(d){var f=this.fetchSync();return new s(f.slice(d.start,d.end),{totalLength:f.length})},_includePropertyInSubCollection:function(d){return"data"!==d&&this.inherited(arguments)}})})},"dstore/Store":function(){define("dojo/_base/lang dojo/_base/array dojo/aspect dojo/has dojo/when dojo/Deferred dojo/_base/declare ./QueryMethod ./Filter dojo/Evented".split(" "),function(d,m,l,q,k,p,s,g,f,a){function c(a){return function(c,e){var d=this;k(c,function(c){c={target:c};var f=e[1]||
{};"beforeId"in f&&(c.beforeId=f.beforeId);d.emit(a,c)});return c}}q.add("object-proto",!!{}.__proto__&&!{}.watch);var e=q("object-proto");return s(a,{constructor:function(b){b&&s.safeMixin(this,b);this.Model&&this.Model.createSubclass&&(this.Model=this.Model.createSubclass([]).extend({_store:this}));this.storage=new a;var e=this;this.autoEmitEvents&&(l.after(this,"add",c("add")),l.after(this,"put",c("update")),l.after(this,"remove",function(a,b){k(a,function(){e.emit("delete",{id:b[0]})});return a}))},
autoEmitEvents:!0,idProperty:"id",queryAccessors:!0,getIdentity:function(a){return a.get?a.get(this.idProperty):a[this.idProperty]},_setIdentity:function(a,c){a.set?a.set(this.idProperty,c):a[this.idProperty]=c},forEach:function(a,c){var e=this;return k(this.fetch(),function(d){for(var f=0,g;void 0!==(g=d[f]);f++)a.call(c,g,f,e);return d})},on:function(a,c){return this.storage.on(a,c)},emit:function(a,c){c=c||{};c.type=a;try{return this.storage.emit(a,c)}finally{return c.cancelable}},parse:null,stringify:null,
Model:null,_restore:function(a,c){var f=this.Model;if(f&&a){var h=f.prototype,g=h._restore;g?a=g.call(a,f,c):e&&c?a.__proto__=h:a=d.delegate(h,a)}return a},create:function(a){return new this.Model(a)},_createSubCollection:function(a){var c=d.delegate(this.constructor.prototype),e;for(e in this)this._includePropertyInSubCollection(e,c)&&(c[e]=this[e]);return s.safeMixin(c,a)},_includePropertyInSubCollection:function(a,c){return!(a in c)||c[a]!==this[a]},queryLog:[],filter:new g({type:"filter",normalizeArguments:function(a){var c=
this.Filter;return a instanceof c?[a]:[new c(a)]}}),Filter:f,sort:new g({type:"sort",normalizeArguments:function(a,c){var e;"function"===typeof a?e=[a]:(e=a instanceof Array?a.slice():"object"===typeof a?[].slice.call(arguments):[{property:a,descending:c}],e=m.map(e,function(a){a=d.mixin({},a);a.descending=!!a.descending;return a}),e=[e]);return e}}),select:new g({type:"select"}),_getQuerierFactory:function(a){return this["_create"+(a[0].toUpperCase()+a.substr(1))+"Querier"]}})})},"dstore/QueryMethod":function(){define([],
function(){return function(d){var m=d.type,l=d.normalizeArguments,q=d.applyQuery,k=d.querierFactory;return function(){var d=Array.prototype.slice.call(arguments),s=l?l.apply(this,d):d,d={type:m,arguments:d,normalizedArguments:s},g=this._getQuerierFactory(m)||k;g&&(d.querier=g.apply(this,s));s=this._createSubCollection({queryLog:this.queryLog.concat(d)});return q?q.call(this,s,d):s}}})},"dstore/Filter":function(){define(["dojo/_base/declare"],function(d){function m(d){return function(){var q=this.constructor,
k=new q;k.type=d;k.args=arguments;return this.type?m("and").call(q.prototype,this,k):k}}d=d(null,{constructor:function(d){var m=typeof d;switch(m){case "object":var m=this,k;for(k in d)var p=d[k],m=p instanceof this.constructor?m[p.type](k,p.args[0]):p&&p.test?m.match(k,p):m.eq(k,p);this.type=m.type;this.args=m.args;break;case "function":case "string":this.type=m,this.args=[d]}},and:m("and"),or:m("or"),eq:m("eq"),ne:m("ne"),lt:m("lt"),lte:m("lte"),gt:m("gt"),gte:m("gte"),contains:m("contains"),"in":m("in"),
match:m("match")});d.filterCreator=m;return d})},"dstore/Promised":function(){define(["dojo/_base/declare","dojo/Deferred","./QueryResults","dojo/when"],function(d,m,l,q){function k(d,k){return function(){var g=new m;try{g.resolve(this[d].apply(this,arguments))}catch(f){g.reject(f)}return k?(g=new l(g.promise),g.totalLength=q(g.totalLength),g):g.promise}}return d(null,{get:k("getSync"),put:k("putSync"),add:k("addSync"),remove:k("removeSync"),fetch:k("fetchSync",!0),fetchRange:k("fetchRangeSync",!0)})})},
"dstore/QueryResults":function(){define(["dojo/_base/lang","dojo/when"],function(d,m){function l(d,k){return m(this,function(p){for(var l=0,g=p.length;l<g;l++)d.call(k,p[l],l,p)})}return function(m,k){var p=k&&"totalLength"in k;if(m.then){m=d.delegate(m);var s=m.then(function(d){var f=p?k.totalLength:d.totalLength||d.length;d.totalLength=f;return!p&&f});m.totalLength=p?k.totalLength:s;m.response=k&&k.response}else m.totalLength=p?k.totalLength:m.length;m.forEach=l;return m}})},"dstore/SimpleQuery":function(){define(["dojo/_base/declare",
"dojo/_base/array"],function(d,m){function l(d,p){if(-1<d.indexOf(".")){var l=d.split("."),g=l.length;return function(d){for(var a=0;a<g;a++)d=d&&(p&&d.get?d.get(l[a]):d[l[a]]);return d}}return function(f){return f.get?f.get(d):f[d]}}var q={eq:function(d,p){return d===p},"in":function(d,p){return-1<m.indexOf(p.data||p,d)},ne:function(d,p){return d!==p},lt:function(d,p){return d<p},lte:function(d,p){return d<=p},gt:function(d,p){return d>p},gte:function(d,p){return d>=p},match:function(d,p,l){return p.test(d,
l)},contains:function(d,p,l,g){var f=this;return m.every(p.data||p,function(a){if("object"===typeof a&&a.type){var c=f._getFilterComparator(a.type);return m.some(d,function(e){return c.call(f,e,a.args[1],l,g)})}return-1<m.indexOf(d,a)})}};return d(null,{_createFilterQuerier:function(d){function p(a){var c=a.type;a=a.args;var e=g._getFilterComparator(c);if(e){var b=a[0],d=l(b,q),k=a[1];k&&k.fetchSync&&(k=k.fetchSync());return function(a){return e.call(g,d(a),k,a,b)}}switch(c){case "and":case "or":for(var h=
0,m=a.length;h<m;h++){var v=p(a[h]);f=f?function(a,b){return"and"===c?function(c){return a(c)&&b(c)}:function(c){return a(c)||b(c)}}(f,v):v}return f;case "function":return a[0];case "string":h=g[a[0]];if(!h)throw Error("No filter function "+a[0]+" was found in the collection");return h;case void 0:return function(){return!0};default:throw Error('Unknown filter operation "'+c+'"');}}var q=this.queryAccessors,g=this,f=p(d);return function(a){return m.filter(a,f)}},_getFilterComparator:function(d){return q[d]||
this.inherited(arguments)},_createSelectQuerier:function(d){return function(p){var l=d.length;return m.map(p,d instanceof Array?function(g){for(var f={},a=0;a<l;a++){var c=d[a];f[c]=g[c]}return f}:function(g){return g[d]})}},_createSortQuerier:function(d){var p=this.queryAccessors;return function(m){m=m.slice();m.sort("function"==typeof d?d:function(g,f){for(var a=0;a<d.length;a++){var c,e=d[a];if("function"==typeof e)c=e(g,f);else{c=e.get||(e.get=l(e.property,p));var e=e.descending,b=c(g);c=c(f);
null!=b&&(b=b.valueOf());null!=c&&(c=c.valueOf());c=b===c?0:Boolean(e)===("undefined"===typeof c||null===c&&"undefined"!==typeof b||null!=b&&b<c)?1:-1}if(0!==c)return c}return 0});return m}}})})},"dgrid/extensions/CompoundColumns":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/sniff","dojo/query","../util/misc"],function(d,m,l,q,k){return m(null,{configStructure:function(){function p(b,c,e,n){var l=0,m=function(){},q,s;k.each(b,function(k,x){"string"===typeof k&&(k={label:k});!(b instanceof
Array)&&!k.field&&(k.field=x);s=(q=k.children)&&!1!==k.showChildHeaders;k.parentColumn=n;q?null==k.id?k.id=(n&&n.id||c-1)+"-"+f.length:n&&n.id&&(k.id=n.id+"-"+k.id):(a.push(k),f.push(d.delegate(k,{renderHeaderCell:m})),l++);s||(k=d.delegate(k,{rowSpan:-c}));q&&(l+=k.colSpan=p(q,c+1,s,k));e&&(g[c]||(g[c]=[])).push(k)},this);return l}var l=this.subRows&&this.subRows[0]||this.columns,g=[[]],f=g[0],a=[];g[0].className="dgrid-spacer-row";p(l,1,!0);var l=g.length,c,e,b,n;for(c=0;c<l;c++){b=g[c];for(e=0;e<
b.length;e++)n=b[e],1>n.rowSpan&&(n.rowSpan+=l)}a=[a];a.headerRows=g;this.subRows=a;this.inherited(arguments)},renderHeader:function(){var d,k=this.subRows[0],g=this.subRows.headerRows[0];this.inherited(arguments);for(d=k.length;d--;)k[d].headerNode=g[d].headerNode},_findSortArrowParent:function(){var d=this.inherited(arguments),k=q(".dgrid-spacer-row",this.headerNode)[0];if(d&&k.contains(d))return d=d.columnId,d=q(".dgrid-column-"+d,this.headerNode),d[d.length-1]},_configColumn:function(d,k,g){var f=
d.parentColumn,a=d.id;f&&(a=0===a.indexOf(g)?a.substring(g.length):a,g=f.id+"-",d.id=g+a);this.inherited(arguments,[d,k,g])},cell:function(d,k){if("object"!==typeof k){var g=this.column(k);g&&(k=g.id)}return this.inherited(arguments,[d,k])},column:function(d){var k=this.inherited(arguments);if(null==k&&"object"!==typeof d){var g="-"+d,f=g.length,a;for(a in this.columns)if(-1!==a.indexOf(g,a.length-f))return this.columns[a]}return k},_updateCompoundHiddenStates:function(d,k){var g=this.columns[d],
f;if(!(g&&g.hidden===k))for(;g&&g.parentColumn;){g=g.parentColumn;if(f=g.colSpan+=k?-1:1)g.headerNode.colSpan=f;1===f&&!k?this._showColumn(g.id):!f&&k&&this._hideColumn(g.id)}},_hideColumn:function(d){var k=this;this._updateCompoundHiddenStates(d,!0);this.inherited(arguments);l("ff")&&(this.headerNode.style.display="none",setTimeout(function(){k.headerNode.style.display="";k.resize()},0))},_showColumn:function(d){this._updateCompoundHiddenStates(d,!1);this.inherited(arguments)},_getResizedColumnWidths:function(){var d=
0,k=this.columns,g;for(g in k)d+=k[g].headerNode.offsetWidth;return{totalWidth:d,lastColId:this.subRows[0][this.subRows[0].length-1].id}}})})},"dstore/Rest":function(){define("dojo/request dojo/when dojo/_base/lang dojo/json dojo/io-query dojo/_base/declare ./Request".split(" "),function(d,m,l,q,k,p,s){return p(s,{stringify:q.stringify,_getTarget:function(d){var f=this.target;return"/"==f.slice(-1)?f+d:f+"/"+d},get:function(g,f){f=f||{};var a=l.mixin({Accept:this.accepts},this.headers,f.headers||
f),c=this;return d(this._getTarget(g),{headers:a}).then(function(a){return c._restore(c.parse(a),!0)})},autoEmitEvents:!1,put:function(g,f){f=f||{};var a="id"in f?f.id:this.getIdentity(g),c="undefined"!==typeof a,e=this,b="beforeId"in f?null===f.beforeId?{"Put-Default-Position":"end"}:{"Put-Before":f.beforeId}:!c||!1===f.overwrite?{"Put-Default-Position":this.defaultNewToStart?"start":"end"}:null,k=d(c?this._getTarget(a):this.target,{method:c&&!f.incremental?"PUT":"POST",data:this.stringify(g),headers:l.mixin({"Content-Type":"application/json",
Accept:this.accepts,"If-Match":!0===f.overwrite?"*":null,"If-None-Match":!1===f.overwrite?"*":null},b,this.headers,f.headers)});return k.then(function(a){var b={};"beforeId"in f&&(b.beforeId=f.beforeId);a=b.target=a&&e._restore(e.parse(a),!0)||g;m(k.response,function(a){e.emit(201===a.status?"add":"update",b)});return a})},add:function(d,f){f=f||{};f.overwrite=!1;return this.put(d,f)},remove:function(g,f){f=f||{};var a=this;return d(this._getTarget(g),{method:"DELETE",headers:l.mixin({},this.headers,
f.headers)}).then(function(c){var d=c&&a.parse(c);a.emit("delete",{id:g,target:d});return c?d:!0})}})})},"dojo/request":function(){define(["./request/default!"],function(d){return d})},"dojo/request/default":function(){define(["exports","require","../has"],function(d,m,l){var q=l("config-requestProvider");q||(q="./xhr");d.getPlatformDefaultId=function(){return"./xhr"};d.load=function(d,l,s,g){m(["platform"==d?"./xhr":q],function(d){s(d)})}})},"dstore/Request":function(){define("dojo/request dojo/_base/lang dojo/_base/array dojo/json dojo/_base/declare ./Store ./QueryResults".split(" "),
function(d,m,l,q,k,p,s){var g=[].push;return k(p,{constructor:function(){this.headers||(this.headers={});this._targetContainsQueryString=0<=this.target.lastIndexOf("?")},headers:{},parse:q.parse,target:"",ascendingPrefix:"+",descendingPrefix:"-",accepts:"application/json",fetch:function(d){d=this._request(d);return new s(d.data,{response:d.response})},fetchRange:function(d){var a=d.start,c=d.end,e={};this.useRangeHeaders?e.headers=m.mixin(this._renderRangeHeaders(a,c),d.headers):(e.queryParams=this._renderRangeParams(a,
c),d.headers&&(e.headers=d.headers));d=this._request(e);return new s(d.data,{totalLength:d.total,response:d.response})},_request:function(f){f=f||{};var a=m.delegate(this.headers,{Accept:this.accepts});"headers"in f&&m.mixin(a,f.headers);f=this._renderUrl(f.queryParams);var c=d(f,{method:"GET",headers:a}),e=this,a=c.then(function(a){return e.parse(a)});return{data:a.then(function(a){a=a.items||a;for(var c=0,d=a.length;c<d;c++)a[c]=e._restore(a[c],!0);return a}),total:a.then(function(a){a=a.total;
return-1<a?a:c.response.then(function(a){return(a=a.getHeader("Content-Range"))&&(a=a.match(/\/(.*)/))&&+a[1]})}),response:c.response}},_renderFilterParams:function(d){var a=d.type,c=d.args;if(!a)return[""];if("string"===a)return[c[0]];if("and"===a||"or"===a)return[l.map(d.args,function(c){var b=this._renderFilterParams(c);return("and"===c.type||"or"===c.type)&&c.type!==a?"("+b+")":b},this).join("and"===a?"\x26":"|")];(d=c[1])&&(d._renderUrl?d="("+d._renderUrl()+")":d instanceof Array&&(d="("+d+")"));
return[encodeURIComponent(c[0])+"\x3d"+("eq"===a?"":a+"\x3d")+encodeURIComponent(d)]},_renderSortParams:function(d){d=l.map(d,function(a){return(a.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(a.property)},this);var a=[];d&&a.push(this.sortParam?encodeURIComponent(this.sortParam)+"\x3d"+d:"sort("+d+")");return a},_renderRangeParams:function(d,a){var c=[];this.rangeStartParam?c.push(this.rangeStartParam+"\x3d"+d,this.rangeCountParam+"\x3d"+(a-d)):c.push("limit("+(a-d)+(d?
","+d:"")+")");return c},_renderSelectParams:function(d){var a=[];this.selectParam?a.push(this.selectParam+"\x3d"+d):a.push("select("+d+")");return a},_renderQueryParams:function(){var d=[];l.forEach(this.queryLog,function(a){var c=a.type,e="_render"+c[0].toUpperCase()+c.substr(1)+"Params";this[e]?g.apply(d,this[e].apply(this,a.normalizedArguments)):console.warn('Unable to render query params for "'+c+'" query',a)},this);return d},_renderUrl:function(d){var a=this._renderQueryParams(),c=this.target;
d&&g.apply(a,d);0<a.length&&(c+=(this._targetContainsQueryString?"\x26":"?")+a.join("\x26"));return c},_renderRangeHeaders:function(d,a){var c="items\x3d"+d+"-"+(a-1);return{Range:c,"X-Range":c}}})})},"dstore/Trackable":function(){define("dojo/_base/lang dojo/_base/declare dojo/aspect dojo/when dojo/promise/all dojo/_base/array dojo/on".split(" "),function(d,m,l,q,k,p,s){function g(a,d,b){for(var f=a.length-1;0<=f;--f){var g=a[f],h=g.start,g=h+g.count;if(d>g){a.splice(f+1,0,{start:d,count:b-d});return}b>=
h&&(d=Math.min(d,h),b=Math.max(b,g),a.splice(f,1))}a.unshift({start:d,count:b-d})}var f=0,a={track:function(){function a(){return function(){var a=this,b=this.inherited(arguments);q(b,function(b){b=a._results=b.slice();a._partialResults&&(a._partialResults=null);a._ranges=[];g(a._ranges,0,b.length)});return b}}function e(){return function(a){var b=this,c=a.start,d=a.end,e=this.inherited(arguments);this._results||q(e,function(a){return q(a.totalLength,function(e){var f=b._partialResults||(b._partialResults=
[]);d=Math.min(d,c+a.length);f.length=e;e=[c,d-c].concat(a);f.splice.apply(f,e);g(b._ranges,c,d);return a})});return e}}function b(a,b){f++;var c=b.target;b=d.delegate(b,y[a]);q(v._results||v._partialResults,function(d){if(d){var e,f,h,g=v._ranges,l,m="id"in b?b.id:k.getIdentity(c),r=-1,q=-1,s=-1,u=-1;if("delete"===a||"update"===a)for(e=0;-1===r&&e<g.length;++e){l=g[e];f=l.start;for(h=f+l.count;f<h;++f)if(k.getIdentity(d[f])==m){r=b.previousIndex=f;q=e;d.splice(r,1);l.count--;for(f=e+1;f<g.length;++f)g[f].start--;
break}}if("add"===a||"update"===a){if(t){if(t([c]).length){var y=0;h=g.length-1;f=-1;for(var W;y<=h&&-1===s;)e=y+Math.round((h-y)/2),l=g[e],q=d.slice(l.start,l.start+l.count),"beforeId"in b&&(f=null===b.beforeId?q.length:z(q,b.beforeId)),-1===f&&(f=r>=Math.max(0,l.start-1)&&r<=l.start+l.count?r:k.defaultNewToStart?0:q.length),q.splice(f,0,c),m=p.indexOf(t(q),c),W=l.start+m,0===m&&0!==l.start?h=e-1:m>=q.length-1&&W<d.length?y=e+1:(s=W,u=e);if(-1===s&&0<y&&y<g.length)var X=!0}}else{f=-1;if("beforeId"in
b)if(null===b.beforeId)s=d.length,f=g.length-1;else{e=0;for(h=g.length;-1===u&&e<h;++e)l=g[e],s=z(d,b.beforeId,l.start,l.start+l.count),-1!==s&&(u=e)}else"update"===a?(s=r,u=q):k.defaultNewToStart?f=s=0:(s=d.length,f=g.length-1);-1!==f&&-1===u&&(l=g[f])&&(l.start<=s&&s<=l.start+l.count)&&(u=f)}if(-1<s&&-1<u){b.index=s;d.splice(s,0,c);g[u].count++;for(e=u+1;e<g.length;++e)g[e].start++}else if(X){b.beforeIndex=g[y].start;for(e=y;e<g.length;++e)g[e].start++}}b.totalLength=d.length}(d=v["on_tracked"+
a])&&d.call(v,b)})}var k=this.store||this,r=[],h={add:1,update:1,"delete":1},u;for(u in h)r.push(this.on(u,function(a){return function(c){b(a,c)}}(u)));var v=m.safeMixin(d.delegate(this),{_ranges:[],fetch:a(),fetchRange:e(),releaseRange:function(a,b){if(this._partialResults){a:for(var c=this._ranges,d=0,e;e=c[d];++d){var f=e.start,h=f+e.count;if(a<=f)if(b>=h)c.splice(d,1);else{e.start=b;e.count=h-e.start;break a}else if(a<h)if(b>f){c.splice(d,1,{start:f,count:a-f},{start:b,count:h-b});break a}else e.count=
a-e.start}for(c=a;c<b;++c)delete this._partialResults[c]}},on:function(a,b){var c=this,d=this.getInherited(arguments);return s.parse(v,a,b,function(a,e){return e in h?l.after(v,"on_tracked"+e,b,!0):d.call(c,e,b)})},tracking:{remove:function(){for(;0<r.length;)r.pop().remove();this.remove=function(){}}},track:null});this.fetchSync&&(m.safeMixin(v,{fetchSync:a(),fetchRangeSync:e()}),v.fetchSync());var t;p.forEach(this.queryLog,function(a){var b=t,c=a.querier;c&&(t=b?function(a){return c(b(a))}:c)});
var y={add:{index:void 0},update:{previousIndex:void 0,index:void 0},"delete":{previousIndex:void 0}},z=function(a,b,c,d){d=void 0!==d?d:a.length;for(c=void 0!==c?c:0;c<d;++c)if(k.getIdentity(a[c])===b)return c;return-1};return v}};k=m(null,a);k.create=function(c,e){c=m.safeMixin(d.delegate(c),a);m.safeMixin(c,e);return c};return k})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(d,m,l){var q=d.some;return function(d){var p,s;d instanceof Array?s=d:d&&"object"===
typeof d&&(p=d);var g,f=[];if(p){s=[];for(var a in p)Object.hasOwnProperty.call(p,a)&&(f.push(a),s.push(p[a]));g={}}else s&&(g=[]);if(!s||!s.length)return(new m).resolve(g);var c=new m;c.promise.always(function(){g=f=null});var e=s.length;q(s,function(a,d){p||f.push(d);l(a,function(a){c.isFulfilled()||(g[f[d]]=a,0===--e&&c.resolve(g))},c.reject);return c.isFulfilled()});return c.promise}})},"dstore/Tree":function(){define(["dojo/_base/declare"],function(d){return d(null,{constructor:function(){this.root=
this},mayHaveChildren:function(d){return"hasChildren"in d?d.hasChildren:!0},getRootCollection:function(){return this.root.filter({parent:null})},getChildren:function(d){return this.root.filter({parent:this.getIdentity(d)})}})})},"dgrid/Tree":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dojo/dom-construct dojo/dom-class dojo/on dojo/query dojo/when ./util/has-css3 ./Grid dojo/has!touch?./util/touch".split(" "),function(d,m,l,q,k,p,s,g,f,a,c,e){return d(null,{collapseOnRefresh:!1,
enableTreeTransitions:!0,treeIndentWidth:9,constructor:function(){this._treeColumnListeners=[]},shouldExpand:function(a,c,d){return d},expand:function(b,c,d){if(this._treeColumn){var e=this,l=b.element?b:this.row(b),q=!!this._expanded[l.id],t=a("transitionend"),y;b=l.element;b=-1<b.className.indexOf("dgrid-expando-icon")?b:g(".dgrid-expando-icon",b)[0];d=d||!this.enableTreeTransitions;if(b&&b.mayHaveChildren&&(d||c!==q)){var z=void 0===c?!this._expanded[l.id]:c;p.replace(b,"ui-icon-triangle-1-"+(z?
"se":"e"),"ui-icon-triangle-1-"+(z?"e":"se"));p.toggle(l.element,"dgrid-row-expanded",z);c=l.element;var w=c.connected,A,x,E={};if(!w){var w=E.container=c.connected=k.create("div",{className:"dgrid-tree-container"},c,"after"),C=function(a){var b=e._renderedCollection.getChildren(l.data);e.sort&&0<e.sort.length&&(b=b.sort(e.sort));b.track&&e.shouldTrackCollection&&(w._rows=a.rows=[],b=b.track(),w._handles=[b.tracking,e._observeCollection(b,w,a)]);return"start"in a?b.fetchRange({start:a.start,end:a.start+
a.count}):b.fetch()};"level"in b&&(w.level=C.level=b.level+1);if(this.renderQuery)y=this.renderQuery(C,E);else{var H=k.create("div",null,w);y=this._trackError(function(){return e.renderQueryResults(C(E),H,m.mixin({rows:E.rows},"level"in C?{queryLevel:C.level}:null)).then(function(a){k.destroy(H);return a})})}t&&s(w,t,this._onTreeTransitionEnd)}w.hidden=!z;A=w.style;!t||d?(A.display=z?"block":"none",A.height=""):(z?(A.display="block",x=w.scrollHeight,A.height="0px"):(p.add(w,"dgrid-tree-resetting"),
A.height=w.scrollHeight+"px"),setTimeout(function(){p.remove(w,"dgrid-tree-resetting");A.height=z?x?x+"px":"auto":"0px"},0));z?this._expanded[l.id]=!0:delete this._expanded[l.id]}return f(y)}},_configColumns:function(){var a=this.inherited(arguments);this._expanded={};for(var c=0,d=a.length;c<d;c++)if(a[c].renderExpando){this._configureTreeColumn(a[c]);break}return a},insertRow:function(a,c,d,e,f){f=f||{};var g=f.queryLevel="queryLevel"in f?f.queryLevel:"level"in c?c.level:0,k=this.inherited(arguments),
l=this.row(k);(g=this.shouldExpand(l,g,this._expanded[l.id]))&&this.expand(k,!0,!0);(g||!this.collection.mayHaveChildren||this.collection.mayHaveChildren(a))&&p.add(k,"dgrid-row-expandable");return k},removeRow:function(a,c){var d=a.connected,e={};d&&(d._handles&&(l.forEach(d._handles,function(a){a.remove()}),delete d._handles),d._rows&&(e.rows=d._rows),g("\x3e.dgrid-row",d).forEach(function(a){this.removeRow(a,!0,e)},this),d._rows&&(d._rows.length=0,delete d._rows),c||k.destroy(d));this.inherited(arguments)},
_refreshCellFromItem:function(a,c){if(!a.column.renderExpando)return this.inherited(arguments);this.inherited(arguments,[a,c,{queryLevel:g(".dgrid-expando-icon",a.element)[0].level}])},cleanup:function(){this.inherited(arguments);this.collapseOnRefresh&&(this._expanded={})},_destroyColumns:function(){this.inherited(arguments);for(var a=this._treeColumnListeners,c=a.length;c--;)a[c].remove();this._treeColumnListeners=[];this._treeColumn=null},_calcRowHeight:function(a){var c=a.connected;return this.inherited(arguments)+
(c?c.offsetHeight:0)},_configureTreeColumn:function(b){var c=this,d=".dgrid-content .dgrid-column-"+b.id,f;this._treeColumn=b;if(!b._isConfiguredTreeColumn){var g=b.renderCell||this._defaultRenderCell;b._isConfiguredTreeColumn=!0;b.renderCell=function(a,d,e,f){var h=f&&"queryLevel"in f?f.queryLevel:0,k=!c.collection.mayHaveChildren||c.collection.mayHaveChildren(a),l;l=b.renderExpando(h,k,c._expanded[c.collection.getIdentity(a)],a);l.level=h;l.mayHaveChildren=k;(a=g.call(b,a,d,e,f))&&a.nodeType?(e.appendChild(l),
e.appendChild(a)):e.insertBefore(l,e.firstChild)};"function"!==typeof b.renderExpando&&(b.renderExpando=this._defaultRenderExpando)}var k=this._treeColumnListeners;0===k.length&&(k.push(this.on(b.expandOn||".dgrid-expando-icon:click,"+d+":dblclick,"+d+":keydown",function(a){var b=c.row(a);(!c.collection.mayHaveChildren||c.collection.mayHaveChildren(b.data))&&(("keydown"!==a.type||32===a.keyCode)&&!("dblclick"===a.type&&f&&1<f.count&&b.id===f.id&&-1<a.target.className.indexOf("dgrid-expando-icon")))&&
c.expand(b);-1<a.target.className.indexOf("dgrid-expando-icon")&&(f&&f.id===c.row(a).id?f.count++:f={id:c.row(a).id,count:1})})),a("touch")&&k.push(this.on(e.selector(d,e.dbltap),function(){c.expand(this)})))},_defaultRenderExpando:function(a,c,d){var e=this.grid.isRTL?"right":"left",f="dgrid-expando-icon";c&&(f+=" ui-icon ui-icon-triangle-1-"+(d?"se":"e"));return k.create("div",{className:f,innerHTML:"\x26nbsp;",style:"margin-"+e+": "+a*this.grid.treeIndentWidth+"px; float: "+e+";"})},_onNotification:function(a,
c){"delete"===c.type&&delete this._expanded[c.id];this.inherited(arguments)},_onTreeTransitionEnd:function(a){var c=this,d=this.style.height;d&&(this.style.display="0px"===d?"none":"block");a&&(p.add(this,"dgrid-tree-resetting"),setTimeout(function(){p.remove(c,"dgrid-tree-resetting")},0));this.style.height=""}})})},"dgrid/util/has-css3":function(){define(["dojo/has"],function(d){function m(d,k){var p=d.style,m;if(k in p)return!0;k=k.slice(0,1).toUpperCase()+k.slice(1);for(m=l.length;m--;)if(l[m]+
k in p)return l[m];return!1}var l=["ms","O","Moz","Webkit"];d.add("css-transitions",function(d,k,l){return m(l,"transitionProperty")});d.add("css-transforms",function(d,k,l){return m(l,"transform")});d.add("css-transforms3d",function(d,k,l){return m(l,"perspective")});d.add("transitionend",function(){var l=d("css-transitions");return!l?!1:!0===l?"transitionend":{ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[l]});return d})},"dstore/RequestMemory":function(){define(["dojo/_base/declare",
"./Request","./Cache"],function(d,m,l){return d([m,l],{postscript:function(){this.inherited(arguments);this.fetch()},isValidFetchCache:!0})})},"dstore/Cache":function(){define("dojo/_base/array dojo/when dojo/_base/declare dojo/_base/lang ./Store ./Memory ./QueryResults".split(" "),function(d,m,l,q,k,p,s){function g(a){return function(){var d=this.inherited(arguments),b=this.cachingCollection||this.cachingStore;d.cachingCollection=b[a].apply(b,arguments);d.isValidFetchCache=!0===this.canCacheQuery||
this.canCacheQuery(a,arguments);return d}}function f(a){a.cachingStore||(a.cachingStore=new p);a.cachingStore.Model=a.Model;a.cachingStore.idProperty=a.idProperty}var a={cachingStore:null,constructor:function(){f(this)},canCacheQuery:function(a,d){return!1},isAvailableInCache:function(){return this.isValidFetchCache&&(this.allLoaded||this.fetchRequest)||this._parent&&this._parent.isAvailableInCache()},fetch:function(){return this._fetch(arguments)},fetchRange:function(){return this._fetch(arguments,
!0)},_fetch:function(a,e){var b=this.cachingStore,f=this.cachingCollection||b,g=this,h=this.isAvailableInCache();if(h)return new s(m(h,function(){return g.isAvailableInCache()?e?f.fetchRange(a[0]):f.fetch():g.inherited(a)}));h=this.fetchRequest=this.inherited(a);m(h,function(a){var c=!e;g.fetchRequest=null;d.forEach(a,function(a){!g.isLoaded||g.isLoaded(a)?b.put(a):c=!1});c&&(g.allLoaded=!0);return a});return h},isValidFetchCache:!1,get:function(a,d){var b=this.cachingStore,f=this.getInherited(arguments),
g=this;return m(this.fetchRequest,function(){return m(b.get(a),function(h){if(void 0!==h)return h;if(f)return m(f.call(g,a,d),function(d){d&&b.put(d,{id:a});return d})})})},add:function(a,d){var b=this.cachingStore;return m(this.inherited(arguments),function(f){var g=b.put(a&&"object"===typeof f?f:a,d);return f||g})},put:function(a,d){var b=this.cachingStore;b.remove(d&&d.id||this.getIdentity(a));return m(this.inherited(arguments),function(f){var g=b.put(a&&"object"===typeof f?f:a,d);return f||g})},
remove:function(a,d){var b=this.cachingStore;return m(this.inherited(arguments),function(f){return m(b.remove(a,d),function(){return f})})},evict:function(a){this.allLoaded=!1;return this.cachingStore.remove(a)},invalidate:function(){this.allLoaded=!1},_createSubCollection:function(){var a=this.inherited(arguments);a._parent=this;return a},sort:g("sort"),filter:g("filter"),_getQuerierFactory:function(a){var d=this.cachingStore;return this.inherited(arguments)||q.hitch(d,d._getQuerierFactory(a))}};
k=l(null,a);k.create=function(c,d){c=l.safeMixin(q.delegate(c),a);l.safeMixin(c,d);f(c);return c};return k})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color ./has!dojo-firebug?./_firebug/firebug ./_base/browser ./_base/loader".split(" "),function(d,m,l,q,k,p,s,g){s.isDebug&&l(["./_firebug/firebug"]);var f=s.require;f&&(f=p.map(k.isArray(f)?f:[f],function(a){return a.replace(/\./g,
"/")}),d.isAsync?l(f):g(1,function(){l(f)}));return d})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(d,m,l,q,k){var p=0,s=[],g=0;m=function(){p=1;d._postLoad=d.config.afterOnLoad=!0;f()};var f=function(){if(!g){for(g=1;p&&(!q||0==q._Q.length)&&(l.idle?l.idle():1)&&s.length;){var a=s.shift();try{a()}catch(b){if(b.info=b.message,l.signal)l.signal("error",b);else throw b;}}g=0}};l.on&&l.on("idle",f);q&&(q._onQEmpty=f);var a=d.ready=d.addOnLoad=
function(a,b,c){var g=k._toArray(arguments);"number"!=typeof a?(c=b,b=a,a=1E3):g.shift();c=c?k.hitch.apply(d,g):function(){b()};c.priority=a;for(g=0;g<s.length&&a>=s[g].priority;g++);s.splice(g,0,c);f()},c=d.config.addOnLoad;if(c)a[k.isArray(c)?"apply":"call"](d,c);d.config.parseOnLoad&&!d.isAsync&&a(99,function(){d.parser||(d.deprecated("Add explicit require(['dojo/parser']);","","2.0"),l(["dojo/parser"]))});q?q(m):m();return a})},"dojo/domReady":function(){define(["./has"],function(d){function m(a){f.push(a);
g&&l()}function l(){if(!a){for(a=!0;f.length;)try{f.shift()(k)}catch(b){console.error(b,"in domReady callback",b.stack)}a=!1;m._onQEmpty()}}var q=function(){return this}(),k=document,p={loaded:1,complete:1},s="string"!=typeof k.readyState,g=!!p[k.readyState],f=[],a;m.load=function(a,b,c){m(c)};m._Q=f;m._onQEmpty=function(){};s&&(k.readyState="loading");if(!g){var c=[],e=function(a){a=a||q.event;g||"readystatechange"==a.type&&!p[k.readyState]||(s&&(k.readyState="complete"),g=1,l())},b=function(a,b){a.addEventListener(b,
e,!1);f.push(function(){a.removeEventListener(b,e,!1)})};if(!d("dom-addeventlistener")){var b=function(a,b){b="on"+b;a.attachEvent(b,e);f.push(function(){a.detachEvent(b,e)})},n=k.createElement("div");try{n.doScroll&&null===q.frameElement&&c.push(function(){try{return n.doScroll("left"),1}catch(a){}})}catch(r){}}b(k,"DOMContentLoaded");b(q,"load");"onreadystatechange"in k?b(k,"readystatechange"):s||c.push(function(){return p[k.readyState]});if(c.length){var h=function(){if(!g){for(var a=c.length;a--;)if(c[a]()){e("poller");
return}setTimeout(h,30)}};h()}}return m})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(d,m,l,q){var k=d.Color=function(d){d&&this.setColor(d)};k.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:q.transparentColor||
[0,0,0,0]};m.extend(k,{r:255,g:255,b:255,a:1,_set:function(d,k,g,f){this.r=d;this.g=k;this.b=g;this.a=f},setColor:function(d){m.isString(d)?k.fromString(d,this):m.isArray(d)?k.fromArray(d,this):(this._set(d.r,d.g,d.b,d.a),d instanceof k||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+l.map(["r","g","b"],function(d){d=this[d].toString(16);return 2>d.length?
"0"+d:d},this).join("")},toCss:function(d){var k=this.r+", "+this.g+", "+this.b;return(d?"rgba("+k+", "+this.a:"rgb("+k)+")"},toString:function(){return this.toCss(!0)}});k.blendColors=d.blendColors=function(d,m,g,f){var a=f||new k;l.forEach(["r","g","b","a"],function(c){a[c]=d[c]+(m[c]-d[c])*g;"a"!=c&&(a[c]=Math.round(a[c]))});return a.sanitize()};k.fromRgb=d.colorFromRgb=function(d,l){var g=d.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return g&&k.fromArray(g[1].split(/\s*,\s*/),l)};k.fromHex=
d.colorFromHex=function(d,m){var g=m||new k,f=4==d.length?4:8,a=(1<<f)-1;d=Number("0x"+d.substr(1));if(isNaN(d))return null;l.forEach(["b","g","r"],function(c){var e=d&a;d>>=f;g[c]=4==f?17*e:e});g.a=1;return g};k.fromArray=d.colorFromArray=function(d,l){var g=l||new k;g._set(Number(d[0]),Number(d[1]),Number(d[2]),Number(d[3]));isNaN(g.a)&&(g.a=1);return g.sanitize()};k.fromString=d.colorFromString=function(d,l){var g=k.named[d];return g&&k.fromArray(g,l)||k.fromRgb(d,l)||k.fromHex(d,l)};return k})},
"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(d){return d})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(d,m,l){var q=window,k={addOnWindowUnload:function(k,s){d.windowUnloaded||l(q,"unload",d.windowUnloaded=function(){});l(q,"unload",m.hitch(k,s))},addOnUnload:function(d,k){l(q,"beforeunload",m.hitch(d,
k))}};d.addOnWindowUnload=k.addOnWindowUnload;d.addOnUnload=k.addOnUnload;return k})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(d,m,l){m=m.NodeList;var q=m.prototype;q.connect=m._adaptAsForEach(function(){return d.connect.apply(this,arguments)});q.coords=m._adaptAsMap(d.coords);m.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");
l.forEach(m.events,function(d){var l="on"+d;q[l]=function(d,g){return this.connect(l,d,g)}});return d.NodeList=m})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(d,m,l,q,k,p,s,g,f){function a(a){return function(b,c,d){return 2==arguments.length?a["string"==typeof c?"get":"set"](b,c):a.set(b,c,d)}}var c=function(a){return 1==a.length&&"string"==typeof a[0]},e=function(a){var b=
a.parentNode;b&&b.removeChild(a)},b=m.NodeList,n=b._adaptWithCondition,r=b._adaptAsForEach,h=b._adaptAsMap;q.extend(b,{_normalize:function(a,b){var c=!0===a.parse;if("string"==typeof a.template){var e=a.templateFunc||d.string&&d.string.substitute;a=e?e(a.template,a):a}e=typeof a;"string"==e||"number"==e?(a=p.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?q._toArray(a.childNodes):[a]):q.isArrayLike(a)?q.isArray(a)||(a=q._toArray(a)):a=[a];c&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},
_place:function(a,b,c,e){if(!(1!=b.nodeType&&"only"==c))for(var f,g=a.length,h=g-1;0<=h;h--){var k=e?this._cloneNode(a[h]):a[h];if(a._runParse&&d.parser&&d.parser.parse){f||(f=b.ownerDocument.createElement("div"));f.appendChild(k);d.parser.parse(f);for(k=f.firstChild;f.firstChild;)f.removeChild(f.firstChild)}h==g-1?p.place(k,b,c):b.parentNode.insertBefore(k,b);b=k}},position:h(s.position),attr:n(a(g),c),style:n(a(f),c),addClass:r(k.add),removeClass:r(k.remove),toggleClass:r(k.toggle),replaceClass:r(k.replace),
empty:r(p.empty),removeAttr:r(g.remove),marginBox:h(s.getMarginBox),place:function(a,b){var c=m(a)[0];return this.forEach(function(a){p.place(a,c,b)})},orphan:function(a){return(a?m._filterResult(this,a):this).forEach(e)},adopt:function(a,b){return m(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var c=new b;this.map(function(b){m(a,b).forEach(function(a){void 0!==a&&c.push(a)})});return c._stash(this)},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=
m._filterResult(this,b[0]);if(1==b.length)return c._stash(this);d=1}return this._wrap(l.filter(c,b[d],b[d+1]),this)},addContent:function(a,b){a=this._normalize(a,this[0]);for(var c=0,d;d=this[c];c++)a.length?this._place(a,d,b,0<c):p.empty(d);return this}});return b})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(d,m,l,q,k,p,s,g,f){var a=l.mixin,c={},e=c._Line=function(a,b){this.start=a;this.end=b};e.prototype.getValue=
function(a){return(this.end-this.start)*a+this.start};var b=c.Animation=function(b){a(this,b);l.isArray(this.curve)&&(this.curve=new e(this.curve[0],this.curve[1]))};b.prototype=new q;l.extend(b,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var c=b||[];if(this[a])if(m.debugAtAllCosts)this[a].apply(this,c);else try{this[a].apply(this,c)}catch(d){console.error("exception in animation handler for:",
a),console.error(d)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var c=a||this.delay,d=l.hitch(this,"_play",b);if(0<c)return this._delayTimer=setTimeout(d,c),this;d();return this},_play:function(a){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);
this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=
a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=
a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var n=0,r=null,h={run:function(){}};
l.extend(b,{_startTimer:function(){this._timer||(this._timer=p.after(h,"run",l.hitch(this,"_cycle"),!0),n++);r||(r=setInterval(l.hitch(h,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,n--);0>=n&&(clearInterval(r),r=null,n=0)}});var u=s("ie")?function(a){var b=a.style;!b.width.length&&"auto"==f.get(a,"width")&&(b.width="auto")}:function(){};c._fade=function(b){b.node=g.byId(b.node);var d=a({properties:{}},b);b=d.properties.opacity={};b.start=!("start"in
d)?function(){return+f.get(d.node,"opacity")||0}:d.start;b.end=d.end;b=c.animateProperty(d);p.after(b,"beforeBegin",l.partial(u,d.node),!0);return b};c.fadeIn=function(b){return c._fade(a({end:1},b))};c.fadeOut=function(b){return c._fade(a({end:0},b))};c._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var v=function(a){this._properties=a;for(var b in a){var c=a[b];c.start instanceof k&&(c.tempColor=new k)}};v.prototype.getValue=function(a){var b={},c;for(c in this._properties){var d=
this._properties[c],e=d.start;e instanceof k?b[c]=k.blendColors(e,d.end,a,d.tempColor).toCss():l.isArray(e)||(b[c]=(d.end-e)*a+e+("opacity"!=c?d.units||"px":0))}return b};c.animateProperty=function(c){var e=c.node=g.byId(c.node);c.easing||(c.easing=d._defaultEasing);c=new b(c);p.after(c,"beforeBegin",l.hitch(c,function(){var b={},c;for(c in this.properties){if("width"==c||"height"==c)this.node.display="block";var d=this.properties[c];l.isFunction(d)&&(d=d(e));d=b[c]=a({},l.isObject(d)?d:{end:d});
l.isFunction(d.start)&&(d.start=d.start(e));l.isFunction(d.end)&&(d.end=d.end(e));var g=0<=c.toLowerCase().indexOf("color"),h=function(a,b){var c={height:a.offsetHeight,width:a.offsetWidth}[b];if(void 0!==c)return c;c=f.get(a,b);return"opacity"==b?+c:g?c:parseFloat(c)};"end"in d?"start"in d||(d.start=h(e,c)):d.end=h(e,c);g?(d.start=new k(d.start),d.end=new k(d.end)):d.start="opacity"==c?+d.start:parseFloat(d.start)}this.curve=new v(b)}),!0);p.after(c,"onAnimate",l.hitch(f,"set",c.node),!0);return c};
c.anim=function(a,d,e,f,g,h){return c.animateProperty({node:a,duration:e||b.prototype.duration,properties:d,easing:f,onEnd:g}).play(h||0)};a(d,c);d._Animation=b;return c})},"dojo/_base/loader":function(){define("./kernel ../has require module ../json ./lang ./array".split(" "),function(d,m,l,q,k,p,s){var g=function(a){return a.replace(/\./g,"/")},f=/\/\/>>built/,a=[],c=[],e=function(d,e,f){a.push(f);s.forEach(d.split(","),function(a){a=I(a,e.module);c.push(a);M(a)});b()},b=function(){var b,c;for(c in H)if(b=
H[c],void 0===b.noReqPluginCheck&&(b.noReqPluginCheck=/loadInit\!/.test(c)||/require\!/.test(c)?1:0),!b.executed&&!b.noReqPluginCheck&&b.injected==z)return;R(function(){var b=a;a=[];s.forEach(b,function(a){a(1)})})},n=function(a,b,c){var e=/\(|\)/g,f=1;for(e.lastIndex=b;(b=e.exec(a))&&!(f=")"==b[0]?f-1:f+1,0==f););if(0!=f)throw"unmatched paren around character "+e.lastIndex+" in: "+a;return[d.trim(a.substring(c,e.lastIndex))+";\n",e.lastIndex]},r=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,h=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,
u=/(^|\s)(require|define)\s*\(/m,v=function(a,b){var c,d,e,f=[],g=[];c=[];for(b=b||a.replace(r,function(a){h.lastIndex=u.lastIndex=0;return h.test(a)||u.test(a)?"":a});c=h.exec(b);)d=h.lastIndex,e=d-c[0].length,d=n(b,d,e),"loadInit"==c[2]?f.push(d[0]):g.push(d[0]),h.lastIndex=d[1];c=f.concat(g);return c.length||!u.test(b)?[a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 \x26\x26 dojo.loadInit("),c.join(""),c]:0},t=l.initSyncLoader(e,b,function(a,b){var c,d,e=[],g=[];if(f.test(b)||!(c=v(b)))return 0;d=
a.mid+"-*loadInit";for(var h in I("dojo",a).result.scopeMap)e.push(h),g.push('"'+h+'"');return"// xdomain rewrite of "+a.mid+"\ndefine('"+d+"',{\n\tnames:"+k.stringify(e)+",\n\tdef:function("+e.join(",")+"){"+c[1]+"}});\n\ndefine("+k.stringify(e.concat(["dojo/loadInit!"+d]))+", function("+e.join(",")+"){\n"+c[0]+"});"}),y=t.sync,z=t.requested,w=t.arrived,A=t.nonmodule,x=t.executing,E=t.executed,C=t.syncExecStack,H=t.modules,S=t.execQ,I=t.getModule,M=t.injectModule,B=t.setArrived,J=t.signal,Q=t.finishExec,
G=t.execModule,F=t.getLegacyMode,R=t.guardCheckComplete,e=t.dojoRequirePlugin;d.provide=function(a){var b=C[0],c=p.mixin(I(g(a),l.module),{executed:x,result:p.getObject(a,!0)});B(c);b&&(b.provides||(b.provides=[])).push(function(){c.result=p.getObject(a);delete c.provides;c.executed!==E&&Q(c)});return c.result};m.add("config-publishRequireResult",1,0,0);d.require=function(a,b){var c=function(a,b){var c=I(g(a),l.module);if(C.length&&C[0].finish)C[0].finish.push(a);else{if(c.executed)return c.result;
b&&(c.result=A);var d=F();M(c);d=F();c.executed!==E&&c.injected===w&&t.guardCheckComplete(function(){G(c)});if(c.executed)return c.result;d==y?c.cjs?S.unshift(c):C.length&&(C[0].finish=[a]):S.push(c)}}(a,b);m("config-publishRequireResult")&&(!p.exists(a)&&void 0!==c)&&p.setObject(a,c);return c};d.loadInit=function(a){a()};d.registerModulePath=function(a,b){var c={};c[a.replace(/\./g,"/")]=b;l({paths:c})};d.platformRequire=function(a){a=(a.common||[]).concat(a[d._name]||a["default"]||[]);for(var b;a.length;)p.isArray(b=
a.shift())?d.require.apply(d,b):d.require(b)};d.requireIf=d.requireAfterIf=function(a,b,c){a&&d.require(b,c)};d.requireLocalization=function(a,b,c){l(["../i18n"],function(d){d.getLocalization(a,b,c)})};return{extractLegacyApiApplications:v,require:e,loadInit:function(a,b,c){b([a],function(a){b(a.names,function(){for(var f="",h=[],k=0;k<arguments.length;k++)f+="var "+a.names[k]+"\x3d arguments["+k+"]; ",h.push(arguments[k]);eval(f);var l=b.module,m=[],n,f={provide:function(a){a=g(a);a=I(a,l);a!==l&&
B(a)},require:function(a,b){a=g(a);b&&(I(a,l).result=A);m.push(a)},requireLocalization:function(a,b,c){n||(n=["dojo/i18n"]);c=(c||d.locale).toLowerCase();a=g(a)+"/nls/"+(/root/i.test(c)?"":c+"/")+g(b);I(a,l).isXd&&n.push("dojo/i18n!"+a)},loadInit:function(a){a()}},k={},p;try{for(p in f)k[p]=d[p],d[p]=f[p];a.def.apply(null,h)}catch(r){J("error",[{src:q.id,id:"failedDojoLoadInit"},r])}finally{for(p in f)d[p]=k[p]}n&&(m=m.concat(n));m.length?e(m.join(","),b,c):c()})})}}})},"dgrid/util/touch":function(){define(["dojo/on",
"dojo/query"],function(d,m){function l(k,l,m,g){if(!(1<m.targetTouches.length)){var f=m.changedTouches[0],a=f.screenX,c=f.screenY;g&&m.preventDefault();var e=d(k,"touchend",function(b){var d=b.changedTouches[0];b.targetTouches.length||(Math.abs(d.screenX-a)<q.tapRadius&&Math.abs(d.screenY-c)<q.tapRadius&&(g&&b.preventDefault(),l.call(this,b)),e.remove())})}}var q={tapRadius:10,dbltapTime:250,selector:function(k,l,q){return function(g,f){var a=l.bubble;a?l=a:!1!==q&&(q=!0);return d(g,l,function(a){var d=
a.target;3===d.nodeType&&(d=d.parentNode);for(;!m.matches(d,k,g);)if(d===g||!q||!(d=d.parentNode))return;return f.call(d,a)})}},countCurrentTouches:function(d,l){if(!("touches"in d))return-1;var m,g,f;for(g=m=0;f=d.touches[m];++m)l.contains(f.target)&&++g;return g},tap:function(k,m){return d(k,"touchstart",function(d){l(k,m,d)})},dbltap:function(k,m){var s,g;return d(k,"touchstart",function(d){s?l(k,function(a){if(s){var c=a.changedTouches[0];Math.abs(c.screenX-s.screenX)<q.tapRadius&&Math.abs(c.screenY-
s.screenY)<q.tapRadius&&(g&&clearTimeout(g),s=g=null,m.call(this,a))}},d,!0):l(k,function(a){s=a.changedTouches[0];g=setTimeout(function(){s=g=null},q.dbltapTime)},d)})}};return q})},"*now":function(d){d(["dojo/i18n!*preload*dojo/nls/dojo*[]"])}}});(function(){var d=this.require;d({cache:{}});!d.async&&d(["dojo"]);d.boot&&d.apply(null,d.boot)})();
//# sourceMappingURL=dojo.js.map