//>>built
(function(f,m){var k,l=function(){},j=function(a){for(var b in a)return 0;return 1},e={}.toString,h=function(a){return"[object Function]"==e.call(a)},i=function(a){return"[object String]"==e.call(a)},c=function(a){return"[object Array]"==e.call(a)},a=function(a,b){if(a)for(var d=0;d<a.length;)b(a[d++])},g=function(a,b){for(var d in b)a[d]=b[d];return a},d=function(a,b){return g(Error(a),{src:"dojoLoader",info:b})},b=1,n=function(){return"_"+b++},o=function(a,b,d){return W(a,b,d,0,o)},q=this,t=q.document,
s=t&&t.createElement("DiV"),r=o.has=function(a){return h(p[a])?p[a]=p[a](q,t,s):p[a]},p=r.cache=m.hasCache;r.add=function(a,b,d,g){(void 0===p[a]||g)&&(p[a]=b);return d&&r(a)};for(var v in f.has)r.add(v,f.has[v],0,1);o.async=1;var w=new Function("return eval(arguments[0]);");o.eval=function(a,b){return w(a+"\r\n//# sourceURL="+b)};var u={},B=o.signal=function(b,d){var g=u[b];a(g&&g.slice(0),function(a){a.apply(null,c(d)?d:[d])})},N=o.on=function(a,b){var d=u[a]||(u[a]=[]);d.push(b);return{remove:function(){for(var a=
0;a<d.length;a++)if(d[a]===b){d.splice(a,1);break}}}},P=[],L={},E=[],M={},Q=o.map={},A=[],z={},x="",y={},K={};v={};var H=function(a){var b,d,g,c;for(b in K)d=K[b],(g=b.match(/^url\:(.+)/))?y["url:"+ua(g[1],a)]=d:"*now"==b?c=d:"*noref"!=b&&(g=aa(b,a,!0),y[g.mid]=y["url:"+g.url]=d);c&&c(ia(a));K={}},D=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},G=function(a,b){b.splice(0,b.length);for(var d in a)b.push([d,a[d],RegExp("^"+D(d)+"(/|$)"),d.length]);b.sort(function(a,
b){return b[3]-a[3]});return b},O=function(a){var b=a.name;b||(b=a,a={name:b});a=g({main:"main"},a);a.location=a.location?a.location:b;if(a.packageMap)Q[b]=a.packageMap;if(!a.main.indexOf("./"))a.main=a.main.substring(2);M[b]=a},F=[],I=function(b,d,c){for(var n in b){if("waitSeconds"==n)o.waitms=1E3*(b[n]||0);"cacheBust"==n&&(x=b[n]?i(b[n])?b[n]:(new Date).getTime()+"":"");if("baseUrl"==n||"combo"==n)o[n]=b[n];b[n]!==p&&(o.rawConfig[n]=b[n],"has"!=n&&r.add("config-"+n,b[n],0,d))}if(!o.baseUrl)o.baseUrl=
"./";/\/$/.test(o.baseUrl)||(o.baseUrl+="/");for(n in b.has)r.add(n,b.has[n],0,d);a(b.packages,O);for(var e in b.packagePaths)a(b.packagePaths[e],function(a){var b=e+"/"+a;i(a)&&(a={name:a});a.location=b;O(a)});G(g(Q,b.map),A);a(A,function(a){a[1]=G(a[1],[]);if("*"==a[0])A.star=a});G(g(L,b.paths),E);a(b.aliases,function(a){i(a[0])&&(a[0]=RegExp("^"+D(a[0])+"$"));P.push(a)});if(d)F.push({config:b.config});else for(n in b.config)d=V(n,c),d.config=g(d.config||{},b.config[n]);if(b.cache)H(),K=b.cache,
b.cache["*noref"]&&H();B("config",[b,o.rawConfig])};r("dojo-cdn");var T=t.getElementsByTagName("script");k=0;for(var J,C,X,R;k<T.length;)if(J=T[k++],(X=J.getAttribute("src"))&&(R=X.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){C=R[3]||"";m.baseUrl=m.baseUrl||C;(X=J.getAttribute("data-dojo-config")||J.getAttribute("djConfig"))&&(v=o.eval("({ "+X+" })","data-dojo-config"));break}o.rawConfig={};I(m,1);if(r("dojo-cdn"))(M.dojo.location=C)&&(C+="/"),M.dijit.location=C+"../dijit/",M.dojox.location=C+"../dojox/";
I(f,1);I(v,1);var Y=function(b){ja(function(){a(b.deps,va)})},W=function(a,b,e,h,f){var j;if(i(a)){if((j=V(a,h,!0))&&j.executed)return j.result;throw d("undefinedModule",a);}c(a)||(I(a,0,h),a=b,b=e);if(c(a))if(a.length){for(var e="require*"+n(),q,k=[],s=0;s<a.length;)q=a[s++],k.push(V(q,h));j=g(ba("",e,0,""),{injected:2,deps:k,def:b||l,require:h?h.require:o,gc:1});z[j.mid]=j;Y(j);var m=$&&0!="sync";ja(function(){ka(j,m)});j.executed||U.push(j);ca()}else b&&b();return f},ia=function(a){if(!a)return o;
var b=a.require;if(!b)b=function(d,g,c){return W(d,g,c,a,b)},a.require=g(b,o),b.module=a,b.toUrl=function(b){return ua(b,a)},b.toAbsMid=function(b){return la(b,a)};return b},U=[],da=[],S={},Fa=function(a){a.injected=1;S[a.mid]=1;a.url&&(S[a.url]=a.pack||1);wa()},fa=function(a){a.injected=2;delete S[a.mid];a.url&&delete S[a.url];j(S)&&ea()},Ga=o.idle=function(){return!da.length&&j(S)&&!U.length&&!$},ma=function(a,b){if(b)for(var d=0;d<b.length;d++)if(b[d][2].test(a))return b[d];return 0},xa=function(a){for(var b=
[],d,g,a=a.replace(/\\/g,"/").split("/");a.length;)d=a.shift(),".."==d&&b.length&&".."!=g?(b.pop(),g=b[b.length-1]):"."!=d&&b.push(g=d);return b.join("/")},ba=function(a,b,d,g){return{pid:a,mid:b,pack:d,url:g,executed:0,def:0}},ya=function(b,g,c,n,e,i,l,f){var j,q,o,k;k=/^\./.test(b);if(/(^\/)|(\:)|(\.js$)/.test(b)||k&&!g)return ba(0,b,0,b);b=xa(k?g.mid+"/../"+b:b);if(/^\./.test(b))throw d("irrationalPath",b);g&&(o=ma(g.mid,i));(o=(o=o||i.star)&&ma(b,o[1]))&&(b=o[1]+b.substring(o[3]));g=(R=b.match(/^([^\/]+)(\/(.+))?$/))?
R[1]:"";(j=c[g])?b=g+"/"+(q=R[3]||j.main):g="";var s=0;a(P,function(a){var d=b.match(a[0]);d&&0<d.length&&(s=h(a[1])?b.replace(a[0],a[1]):a[1])});if(s)return ya(s,0,c,n,e,i,l,f);if(c=n[b])return f?ba(c.pid,c.mid,c.pack,c.url):n[b];n=(o=ma(b,l))?o[1]+b.substring(o[3]):g?j.location+"/"+q:r("config-tlmSiblingOfDojo")?"../"+b:b;/(^\/)|(\:)/.test(n)||(n=e+n);return ba(g,b,j,xa(n+".js"))},aa=function(a,b,d){return ya(a,b,M,z,o.baseUrl,d?[]:A,d?[]:E)},za=function(a,b,d){return a.normalize?a.normalize(b,
function(a){return la(a,d)}):la(b,d)},Aa=0,V=function(a,b,d){var g,c;(g=a.match(/^(.+?)\!(.*)$/))?(c=V(g[1],b,d),5===c.executed&&!c.load&&na(c),c.load?(g=za(c,g[2],b),a=c.mid+"!"+(c.dynamic?++Aa+"!":"")+g):(g=g[2],a=c.mid+"!"+ ++Aa+"!waitingForPlugin"),a={plugin:c,mid:a,req:ia(b),prid:g}):a=aa(a,b);return z[a.mid]||!d&&(z[a.mid]=a)},la=o.toAbsMid=function(a,b){return aa(a,b).mid},ua=o.toUrl=function(a,b){var d=aa(a+"/x",b),g=d.url;return Ba(0===d.pid?a:g.substring(0,g.length-5))},Ca={injected:2,executed:5,
def:3,result:3};C=function(a){return z[a]=g({mid:a},Ca)};var Ha=C("require"),Ia=C("exports"),Ja=C("module"),ga={},oa=0,na=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Ka=function(b){var d={};a(b.loadQ,function(a){var c=za(b,a.prid,a.req.module),n=b.dynamic?a.mid.replace(/waitingForPlugin$/,c):b.mid+"!"+c,c=g(g({},a),{mid:n,prid:c,injected:0});z[n]||Da(z[n]=c);d[a.mid]=z[n];fa(a);delete z[a.mid]});b.loadQ=0;var c=function(a){for(var b=a.deps||[],g=
0;g<b.length;g++)(a=d[b[g].mid])&&(b[g]=a)},n;for(n in z)c(z[n]);a(U,c)},pa=function(a){o.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=oa++;a.loadQ&&(na(a),Ka(a));for(k=0;k<U.length;)U[k]===a?U.splice(k,1):k++;/^require\*/.test(a.mid)&&delete z[a.mid]},La=[],ka=function(a,b){if(4===a.executed)return o.trace("loader-circular-dependency",[La.concat(a.mid).join("->")]),!a.def||b?ga:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return ga;var g=a.mid,c=a.deps||[],n,e=[],i=0;for(a.executed=
4;i<c.length;){n=c[i++];n=n===Ha?ia(a):n===Ia?a.cjs.exports:n===Ja?a.cjs:ka(n,b);if(n===ga)return a.executed=0,o.trace("loader-exec-module",["abort",g]),ga;e.push(n)}o.trace("loader-run-factory",[a.mid]);var g=a.def,l;if(r("config-dojo-loader-catches"))try{l=h(g)?g.apply(null,e):g}catch(f){B("error",a.result=d("factoryThrew",[a,f]))}else l=h(g)?g.apply(null,e):g;a.result=void 0===l&&a.cjs?a.cjs.exports:l;pa(a)}return a.result},$=0,ja=function(a){try{$++,a()}finally{$--}Ga()&&B("idle",[])},ca=function(){$||
ja(function(){for(var a,b,d=0;d<U.length;)a=oa,b=U[d],ka(b),a!=oa?d=0:d++})};void 0===r("dojo-loader-eval-hint-url")&&r.add("dojo-loader-eval-hint-url",1);var Ba=function(a){a+="";return a+(x?(/\?/.test(a)?"&":"?")+x:"")},Da=function(a){var b=a.plugin;5===b.executed&&!b.load&&na(b);var d=function(b){a.result=b;fa(a);pa(a);ca()};b.load?b.load(a.prid,a.req,d):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],U.unshift(b),va(b))},Z=0,qa=0,ra=0,Ma=function(a,b){r("config-stripStrict")&&(a=a.replace(/"use strict"/g,
""));ra=1;if(r("config-dojo-loader-catches"))try{a===Z?Z.call(null):o.eval(a,r("dojo-loader-eval-hint-url")?b.url:b.mid)}catch(g){B("error",d("evalModuleThrew",b))}else a===Z?Z.call(null):o.eval(a,r("dojo-loader-eval-hint-url")?b.url:b.mid);ra=0},va=function(a){var b=a.mid,d=a.url;if(!a.executed&&!a.injected&&!(S[b]||a.url&&(a.pack&&S[a.url]===a.pack||1==S[a.url])))if(Fa(a),a.plugin)Da(a);else{var c=function(){Na(a);2!==a.injected&&(fa(a),g(a,Ca),o.trace("loader-define-nonmodule",[a.url]));ca()};
(Z=y[b]||y["url:"+a.url])?(o.trace("loader-inject",["cache",a.mid,d]),Ma(Z,a),c()):(o.trace("loader-inject",["script",a.mid,d]),qa=a,o.injectUrl(Ba(d),c,a),qa=0)}},sa=function(a,b,c){o.trace("loader-define-module",[a.mid,b]);if(2===a.injected)return B("error",d("multipleDefine",a)),a;g(a,{deps:b,def:c,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});for(var n=0;n<b.length;n++)b[n]=V(b[n],a);fa(a);if(!h(c)&&!b.length)a.result=
c,pa(a);return a},Na=function(b,d){for(var g=[],c,n;da.length;)n=da.shift(),d&&(n[0]=d.shift()),c=n[0]&&V(n[0])||b,g.push([c,n[1],n[2]]);H(b);a(g,function(a){Y(sa.apply(null,a))})},ha=0,ea=l,wa=l;ea=function(){ha&&clearTimeout(ha);ha=0};wa=function(){ea();o.waitms&&(ha=window.setTimeout(function(){ea();B("error",d("timeout",S))},o.waitms))};r.add("ie-event-behavior",!!t.attachEvent&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var ta=function(a,b,d,g){if(r("ie-event-behavior"))return a.attachEvent(d,
g),function(){a.detachEvent(d,g)};a.addEventListener(b,g,!1);return function(){a.removeEventListener(b,g,!1)}},Oa=ta(window,"load","onload",function(){o.pageLoaded=1;"complete"!=t.readyState&&(t.readyState="complete");Oa()}),Ea=t.getElementsByTagName("script")[0],Pa=Ea.parentNode;o.injectUrl=function(a,b,g){var g=g.node=t.createElement("script"),c=ta(g,"load","onreadystatechange",function(a){var a=a||window.event,d=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(d.readyState))c(),
n(),b&&b()}),n=ta(g,"error","onerror",function(b){c();n();B("error",d("scriptError",[a,b]))});g.type="text/javascript";g.charset="utf-8";g.src=a;Pa.insertBefore(g,Ea);return g};o.log=l;o.trace=l;C=function(a,b,g){var c=arguments.length,n=["require","exports","module"],e=[0,a,b];1==c?e=[0,h(a)?n:[],a]:2==c&&i(a)?e=[a,h(b)?n:[],b]:3==c&&(e=[a,b,g]);o.trace("loader-define",e.slice(0,2));if((c=e[0]&&V(e[0]))&&!S[c.mid])Y(sa(c,e[1],e[2]));else if(!r("ie-event-behavior")||ra)da.push(e);else{c=c||qa;if(!c)for(a in S)if((n=
z[a])&&n.node&&"interactive"===n.node.readyState){c=n;break}c?(H(c),Y(sa(c,e[1],e[2]))):B("error",d("ieDefineFailed",e[0]));ca()}};C.amd={vendor:"dojotoolkit.org"};g(g(o,m.loaderPatch),f.loaderPatch);N("error",function(a){try{if(console.error(a),a instanceof Error){for(var b in a)console.log(b+":",a[b]);console.log(".")}}catch(d){}});g(o,{uid:n,cache:y,packs:M});if(!q.define)q.define=C,q.require=o,a(F,function(a){I(a)}),N=v.deps||f.deps||m.deps,v=v.callback||f.callback||m.callback,o.boot=N||v?[N||
[],v]:0})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../ninja",name:"ninja"}]});
require({cache:{"dojo/parser":function(){define("require,./_base/kernel,./_base/lang,./_base/array,./_base/config,./_base/html,./_base/window,./_base/url,./_base/json,./aspect,./date/stamp,./Deferred,./has,./query,./on,./ready".split(","),function(f,m,k,l,j,e,h,i,c,a,g,d,b,n,o,q){function t(a){var b=a._nameCaseMap,d=a.prototype;if(!b||b._extendCnt<r){var b=a._nameCaseMap={},g;for(g in d)"_"!==g.charAt(0)&&(b[g.toLowerCase()]=g);b._extendCnt=r}return b}function s(a){var b=a.join();if(!p[b]){for(var d=
[],g=0,c=a.length;g<c;g++){var n=a[g];d[d.length]=p[n]=p[n]||k.getObject(n)||~n.indexOf("/")&&f(n)}a=d.shift();p[b]=d.length?a.createSubclass?a.createSubclass(d):a.extend.apply(a,d):a}return p[b]}var r=0;a.after(k,"extend",function(){r++},!0);var p={},v={_clearCache:function(){r++;p={}},_functionFromScript:function(a,b){var d="",g="",c=a.getAttribute(b+"args")||a.getAttribute("args"),n=a.getAttribute("with"),c=(c||"").split(/\s*,\s*/);n&&n.length&&l.forEach(n.split(/\s*,\s*/),function(a){d+="with("+
a+"){";g+="}"});return new Function(c,d+a.innerHTML+g)},instantiate:function(a,b,d){var b=b||{},d=d||{},g=(d.scope||m._scopeName)+"Type",c="data-"+(d.scope||m._scopeName)+"-",n=c+"type",e=c+"mixins",i=[];l.forEach(a,function(a){var d=g in b?b[g]:a.getAttribute(n)||a.getAttribute(g);if(d){var c=a.getAttribute(e),d=c?[d].concat(c.split(/\s*,\s*/)):[d];i.push({node:a,types:d})}});return this._instantiate(i,b,d)},_instantiate:function(a,b,d){a=l.map(a,function(a){var g=a.ctor||s(a.types);if(!g)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(g,a.node,b,d,a.scripts,a.inherited)},this);!b._started&&!d.noStart&&l.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a},construct:function(d,e,h,f,j,q){var u;var s=d&&d.prototype,f=f||{},r={};f.defaults&&k.mixin(r,f.defaults);q&&k.mixin(r,q);var v;b("dom-attributes-explicit")?v=e.attributes:b("dom-attributes-specified-flag")?v=l.filter(e.attributes,function(a){return a.specified}):(q=(/^input$|^img$/i.test(e.nodeName)?
e:e.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),v=l.map(q.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==e.nodeName&&"value"==a||"enctype"==b?e.getAttribute(b):e.getAttributeNode(b).value}}));var p=f.scope||m._scopeName,q="data-"+p+"-",z={};"dojo"!==p&&(z[q+"props"]="data-dojo-props",z[q+"type"]="data-dojo-type",z[q+"mixins"]="data-dojo-mixins",z[p+"type"]="dojoType",z[q+"id"]="data-dojo-id");
for(var p=0,x,y=[],K,H;x=v[p++];){var D=x.name,G=D.toLowerCase();x=x.value;switch(z[G]||G){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":H=x;break;case "data-dojo-id":case "jsid":K=x;break;case "data-dojo-attach-point":case "dojoattachpoint":r.dojoAttachPoint=x;break;case "data-dojo-attach-event":case "dojoattachevent":r.dojoAttachEvent=x;break;case "class":r["class"]=e.className;break;case "style":r.style=e.style&&e.style.cssText;break;default:if(D in
s||(D=t(d)[G]||D),D in s)switch(typeof s[D]){case "string":r[D]=x;break;case "number":r[D]=x.length?Number(x):NaN;break;case "boolean":r[D]="false"!=x.toLowerCase();break;case "function":r[D]=""===x||-1!=x.search(/[^\w\.]+/i)?new Function(x):k.getObject(x,!1)||new Function(x);y.push(D);break;default:G=s[D],r[D]=G&&"length"in G?x?x.split(/\s*,\s*/):[]:G instanceof Date?""==x?new Date(""):"now"==x?new Date:g.fromISOString(x):G instanceof i?m.baseUrl+x:c.fromJson(x)}else r[D]=x}}for(p=0;p<y.length;p++)v=
y[p].toLowerCase(),e.removeAttribute(v),e[v]=null;if(H)try{H=c.fromJson.call(f.propsThis,"{"+H+"}"),k.mixin(r,H)}catch(O){throw Error(O.toString()+" in data-dojo-props='"+H+"'");}k.mixin(r,h);j||(j=d&&(d._noScript||s._noScript)?[]:n("> script[type^='dojo/']",e));h=[];f=[];H=[];y=[];if(j)for(p=0;p<j.length;p++){var F=j[p];e.removeChild(F);v=F.getAttribute(q+"event")||F.getAttribute("event");z=F.getAttribute(q+"prop");D=F.getAttribute(q+"method");G=F.getAttribute(q+"advice");x=F.getAttribute("type");
F=this._functionFromScript(F,q);v?"dojo/connect"==x?h.push({method:v,func:F}):"dojo/on"==x?y.push({event:v,func:F}):r[v]=F:"dojo/aspect"==x?h.push({method:D,advice:G,func:F}):"dojo/watch"==x?H.push({prop:z,func:F}):f.push(F)}u=(j=d.markupFactory||s.markupFactory)?j(r,e,d):new d(r,e),d=u;K&&k.setObject(K,d);for(p=0;p<h.length;p++)a[h[p].advice||"after"](d,h[p].method,k.hitch(d,h[p].func),!0);for(p=0;p<f.length;p++)f[p].call(d);for(p=0;p<H.length;p++)d.watch(H[p].prop,H[p].func);for(p=0;p<y.length;p++)o(d,
y[p].event,y[p].func);return d},scan:function(a,g){function c(a){if(!a.inherited){a.inherited={};var b=a.node,d=c(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(o)||d.textDir},g;for(g in b)b[g]&&(a.inherited[g]=b[g])}return a.inherited}var n=[],e=[],h={},i=(g.scope||m._scopeName)+"Type",j="data-"+(g.scope||m._scopeName)+"-",q=j+"type",o=j+"textdir",j=j+"mixins",k=a.firstChild,r=g.inherited;if(!r){var t=function(a,b){return a.getAttribute&&
a.getAttribute(b)||a.parentNode&&t(a.parentNode,b)},r={dir:t(a,"dir"),lang:t(a,"lang"),textDir:t(a,o)},p;for(p in r)r[p]||delete r[p]}for(var r={inherited:r},v,D;;)if(k)if(1!=k.nodeType)k=k.nextSibling;else if(v&&"script"==k.nodeName.toLowerCase())(G=k.getAttribute("type"))&&/^dojo\/\w/i.test(G)&&v.push(k),k=k.nextSibling;else if(D)k=k.nextSibling;else{var G=k.getAttribute(q)||k.getAttribute(i);p=k.firstChild;if(!G&&(!p||3==p.nodeType&&!p.nextSibling))k=k.nextSibling;else{D=null;if(G){var O=k.getAttribute(j);
v=O?[G].concat(O.split(/\s*,\s*/)):[G];try{D=s(v)}catch(F){}D||l.forEach(v,function(a){~a.indexOf("/")&&!h[a]&&(h[a]=!0,e[e.length]=a)});O=D&&!D.prototype._noScript?[]:null;r={types:v,ctor:D,parent:r,node:k,scripts:O};r.inherited=c(r);n.push(r)}else r={node:k,scripts:v,parent:r};k=p;v=O;D=D&&D.prototype.stopParser&&!g.template}}else{if(!r||!r.node)break;k=r.node.nextSibling;D=!1;r=r.parent;v=r.scripts}var I=new d;e.length?(b("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+
e.join(", ")),f(e,function(){I.resolve(l.filter(n,function(a){if(!a.ctor)try{a.ctor=s(a.types)}catch(b){}for(var d=a.parent;d&&!d.types;)d=d.parent;var c=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(c&&c.stopParser&&!g.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))})):I.resolve(n);return I.promise},_require:function(a){var a=c.fromJson("{"+a.innerHTML+"}"),b=[],g=[],n=new d,e;for(e in a)b.push(e),g.push(a[e]);f(g,function(){for(var a=0;a<b.length;a++)k.setObject(b[a],
arguments[a]);n.resolve(arguments)});return n.promise},_scanAmd:function(a){var b=new d,g=b.promise;b.resolve(!0);var c=this;n("script[type='dojo/require']",a).forEach(function(a){g=g.then(function(){return c._require(a)});a.parentNode.removeChild(a)});return g},parse:function(a,b){var d;!b&&a&&a.rootNode?(b=a,d=b.rootNode):a&&k.isObject(a)&&!("nodeType"in a)?b=a:d=a;d=d?e.byId(d):h.body();var b=b||{},g=b.template?{template:!0}:{},c=[],n=this,i=this._scanAmd(d,b).then(function(){return n.scan(d,b)}).then(function(a){return c=
c.concat(n._instantiate(a,g,b))}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});k.mixin(c,i);return c}};m.parser=v;j.parseOnLoad&&q(100,v,"parse");return v})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(f,m,k,l){var j,e;j=function(){return this}();var h={},i={},c={config:m,global:j,dijit:h,dojox:i},h={dojo:["dojo",c],dijit:["dijit",h],dojox:["dojox",i]},l=k.map&&k.map[l.id.match(/[^\/]+/)[0]];for(e in l)h[e]?h[e][0]=l[e]:
h[e]=[l[e],{}];for(e in h)l=h[e],l[1]._scopeName=l[0],m.noGlobals||(j[l[0]]=l[1]);c.scopeMap=h;c.baseUrl=c.config.baseUrl=k.baseUrl;c.isAsync=k.async;c.locale=m.locale;j="$Rev: 0d4fc05 $".match(/[0-9a-f]{7,}/);c.version={major:1,minor:8,patch:7,flag:"",revision:j?j[0]:NaN,toString:function(){var a=c.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(c);c.exit=function(){};
"undefined"!=typeof console||(console={});var l="assert,count,debug,dir,dirxml,error,group,groupEnd,info,profile,profileEnd,time,timeEnd,trace,warn,log".split(","),a;for(j=0;a=l[j++];)console[a]||function(){var g=a+"";console[g]="log"in console?function(){var a=Array.prototype.slice.call(arguments);a.unshift(g+":");console.log(a.join(" "))}:function(){};console[g]._fake=!0}();f.add("dojo-debug-messages",!!m.isDebug);c.deprecated=c.experimental=function(){};if(f("dojo-debug-messages"))c.deprecated=
function(a,d,b){a="DEPRECATED: "+a;d&&(a+=" "+d);b&&(a+=" -- will be removed in version: "+b);console.warn(a)},c.experimental=function(a,d){var b="EXPERIMENTAL: "+a+" -- APIs subject to change without notice.";d&&(b+=" "+d);console.warn(b)};if(m.modulePaths){c.deprecated("dojo.modulePaths","use paths configuration");f={};for(e in m.modulePaths)f[e.replace(/\./g,"/")]=m.modulePaths[e];k({paths:f})}c.moduleUrl=function(a,d){c.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var b=null;a&&(b=
k.toUrl(a.replace(/\./g,"/")+(d?"/"+d:"")+"/*.*").replace(/\/\*\.\*/,"")+(d?"":"/"));return b};c._hasResource={};return c})},"dojo/has":function(){define(["require","module"],function(f){var m=f.has||function(){};m.add("dom-addeventlistener",!!document.addEventListener);m.add("touch","ontouchstart"in document||0<window.navigator.msMaxTouchPoints);m.add("device-width",screen.availWidth||innerWidth);f=document.createElement("form");m.add("dom-attributes-explicit",0==f.attributes.length);m.add("dom-attributes-specified-flag",
0<f.attributes.length&&40>f.attributes.length);m.clearElement=function(f){f.innerHTML="";return f};m.normalize=function(f,l){var j=f.match(/[\?:]|[^:\?]*/g),e=0,h=function(i){var c=j[e++];if(":"==c)return 0;if("?"==j[e++]){if(!i&&m(c))return h();h(!0);return h(i)}return c||0};return(f=h())&&l(f)};m.load=function(f,l,j){f?l([f],j):j()};return m})},"dojo/_base/config":function(){define(["../has","require"],function(f,m){var k={},l=m.rawConfig,j;for(j in l)k[j]=l[j];return k})},"dojo/_base/lang":function(){define(["./kernel",
"../has","../sniff"],function(f,m){m.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var k=m("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],l=k.length,j=function(a,g,d){var b,c=0,e=f.global;if(!d)if(a.length){b=a[c++];try{d=f.scopeMap[b]&&f.scopeMap[b][1]}catch(h){}d=d||(b in e?e[b]:g?e[b]={}:void 0)}else return e;for(;d&&(b=a[c++]);)d=b in d?d[b]:g?d[b]={}:void 0;return d},
e=Object.prototype.toString,h=function(a,g,d){return(d||[]).concat(Array.prototype.slice.call(a,g||0))},i=/\{([^\}]+)\}/g,c={_extraNames:k,_mixin:function(a,g,d){var b,c,e,h={};for(b in g)if(c=g[b],!(b in a)||a[b]!==c&&(!(b in h)||h[b]!==c))a[b]=d?d(c):c;if(m("bug-for-in-skips-shadowed")&&g)for(e=0;e<l;++e)if(b=k[e],c=g[b],!(b in a)||a[b]!==c&&(!(b in h)||h[b]!==c))a[b]=d?d(c):c;return a},mixin:function(a,g){a||(a={});for(var d=1,b=arguments.length;d<b;d++)c._mixin(a,arguments[d]);return a},setObject:function(a,
g,d){var b=a.split("."),a=b.pop();return(d=j(b,!0,d))&&a?d[a]=g:void 0},getObject:function(a,g,d){return j(a.split("."),g,d)},exists:function(a,g){return void 0!==c.getObject(a,!1,g)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===e.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||c.isArray(a)||c.isFunction(a))},isArrayLike:function(a){return a&&
void 0!==a&&!c.isString(a)&&!c.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(c.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!c.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(""+a)},extend:function(a,g){for(var d=1,b=arguments.length;d<b;d++)c._mixin(a.prototype,arguments[d]);return a},_hitchArgs:function(a,g){var d=c._toArray(arguments,2),b=c.isString(g);return function(){var n=c._toArray(arguments),e=b?(a||f.global)[g]:g;return e&&e.apply(a||this,d.concat(n))}},
hitch:function(a,g){if(2<arguments.length)return c._hitchArgs.apply(f,arguments);g||(g=a,a=null);if(c.isString(g)){a=a||f.global;if(!a[g])throw['lang.hitch: scope["',g,'"] is null (scope="',a,'")'].join("");return function(){return a[g].apply(a,arguments||[])}}return!a?g:function(){return g.apply(a,arguments||[])}},delegate:function(){function a(){}return function(g,d){a.prototype=g;var b=new a;a.prototype=null;d&&c._mixin(b,d);return b}}(),_toArray:m("ie")?function(){function a(a,d,b){b=b||[];for(d=
d||0;d<a.length;d++)b.push(a[d]);return b}return function(g){return(g.item?a:h).apply(this,arguments)}}():h,partial:function(a){return c.hitch.apply(f,[null].concat(c._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||c.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var g,d,b;if(c.isArray(a)){g=[];for(d=0,b=a.length;d<b;++d)d in a&&g.push(c.clone(a[d]))}else g=a.constructor?
new a.constructor:{};return c._mixin(g,a,c.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,g,d){return a.replace(d||i,c.isFunction(g)?g:function(a,d){return c.getObject(d,!1,g)})}};c.mixin(f,c);return c})},"dojo/sniff":function(){define(["./has"],function(f){var m=navigator,k=m.userAgent,m=m.appVersion,l=parseFloat(m);f.add("air",0<=k.indexOf("AdobeAIR"));f.add("khtml",0<=m.indexOf("Konqueror")?l:void 0);
f.add("webkit",parseFloat(k.split("WebKit/")[1])||void 0);f.add("chrome",parseFloat(k.split("Chrome/")[1])||void 0);f.add("safari",0<=m.indexOf("Safari")&&!f("chrome")?parseFloat(m.split("Version/")[1]):void 0);f.add("mac",0<=m.indexOf("Macintosh"));f.add("quirks","BackCompat"==document.compatMode);f.add("ios",/iPhone|iPod|iPad/.test(k));f.add("android",parseFloat(k.split("Android ")[1])||void 0);f.add("trident",parseFloat(m.split("Trident/")[1])||void 0);if(!f("webkit")){0<=k.indexOf("Opera")&&f.add("opera",
9.8<=l?parseFloat(k.split("Version/")[1])||l:l);0<=k.indexOf("Gecko")&&!f("khtml")&&!f("webkit")&&!f("trident")&&f.add("mozilla",l);f("mozilla")&&f.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0);if(document.all&&!f("opera"))k=parseFloat(m.split("MSIE ")[1])||void 0,(m=document.documentMode)&&5!=m&&Math.floor(k)!=m&&(k=m),f.add("ie",k);f.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return f})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],
function(f,m,k){function l(a){return h[a]=new Function("item","index","array",a)}function j(a){var g=!a;return function(d,b,c){var e=0,i=d&&d.length||0,f;i&&"string"==typeof d&&(d=d.split(""));"string"==typeof b&&(b=h[b]||l(b));if(c)for(;e<i;++e){if(f=!b.call(c,d[e],e,d),a^f)return!f}else for(;e<i;++e)if(f=!b(d[e],e,d),a^f)return!f;return g}}function e(a){var g=1,d=0,b=0;a||(g=d=b=-1);return function(n,e,h,f){if(f&&0<g)return c.lastIndexOf(n,e,h);var f=n&&n.length||0,j=a?f+b:d;h===i?h=a?d:f+b:0>h?
(h=f+h,0>h&&(h=d)):h=h>=f?f+b:h;for(f&&"string"==typeof n&&(n=n.split(""));h!=j;h+=g)if(n[h]==e)return h;return-1}}var h={},i,c={every:j(!1),some:j(!0),indexOf:e(!0),lastIndexOf:e(!1),forEach:function(a,g,d){var b=0,c=a&&a.length||0;c&&"string"==typeof a&&(a=a.split(""));"string"==typeof g&&(g=h[g]||l(g));if(d)for(;b<c;++b)g.call(d,a[b],b,a);else for(;b<c;++b)g(a[b],b,a)},map:function(a,g,d,b){var c=0,e=a&&a.length||0,b=new (b||Array)(e);e&&"string"==typeof a&&(a=a.split(""));"string"==typeof g&&
(g=h[g]||l(g));if(d)for(;c<e;++c)b[c]=g.call(d,a[c],c,a);else for(;c<e;++c)b[c]=g(a[c],c,a);return b},filter:function(a,g,d){var b=0,c=a&&a.length||0,e=[],i;c&&"string"==typeof a&&(a=a.split(""));"string"==typeof g&&(g=h[g]||l(g));if(d)for(;b<c;++b)i=a[b],g.call(d,i,b,a)&&e.push(i);else for(;b<c;++b)i=a[b],g(i,b,a)&&e.push(i);return e},clearCache:function(){h={}}};k.mixin(f,c);return c})},"dojo/_base/html":function(){define("./kernel,../dom,../dom-style,../dom-attr,../dom-prop,../dom-class,../dom-construct,../dom-geometry".split(","),
function(f,m,k,l,j,e,h,i){f.byId=m.byId;f.isDescendant=m.isDescendant;f.setSelectable=m.setSelectable;f.getAttr=l.get;f.setAttr=l.set;f.hasAttr=l.has;f.removeAttr=l.remove;f.getNodeProp=l.getNodeProp;f.attr=function(c,a,g){return 2==arguments.length?l["string"==typeof a?"get":"set"](c,a):l.set(c,a,g)};f.hasClass=e.contains;f.addClass=e.add;f.removeClass=e.remove;f.toggleClass=e.toggle;f.replaceClass=e.replace;f._toDom=f.toDom=h.toDom;f.place=h.place;f.create=h.create;f.empty=function(c){h.empty(c)};
f._destroyElement=f.destroy=function(c){h.destroy(c)};f._getPadExtents=f.getPadExtents=i.getPadExtents;f._getBorderExtents=f.getBorderExtents=i.getBorderExtents;f._getPadBorderExtents=f.getPadBorderExtents=i.getPadBorderExtents;f._getMarginExtents=f.getMarginExtents=i.getMarginExtents;f._getMarginSize=f.getMarginSize=i.getMarginSize;f._getMarginBox=f.getMarginBox=i.getMarginBox;f.setMarginBox=i.setMarginBox;f._getContentBox=f.getContentBox=i.getContentBox;f.setContentSize=i.setContentSize;f._isBodyLtr=
f.isBodyLtr=i.isBodyLtr;f._docScroll=f.docScroll=i.docScroll;f._getIeDocumentElementOffset=f.getIeDocumentElementOffset=i.getIeDocumentElementOffset;f._fixIeBiDiScrollLeft=f.fixIeBiDiScrollLeft=i.fixIeBiDiScrollLeft;f.position=i.position;f.marginBox=function(c,a){return a?i.setMarginBox(c,a):i.getMarginBox(c)};f.contentBox=function(c,a){return a?i.setContentSize(c,a):i.getContentBox(c)};f.coords=function(c,a){f.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");var c=m.byId(c),
g=k.getComputedStyle(c),g=i.getMarginBox(c,g),d=i.position(c,a);g.x=d.x;g.y=d.y;return g};f.getProp=j.get;f.setProp=j.set;f.prop=function(c,a,g){return 2==arguments.length?j["string"==typeof a?"get":"set"](c,a):j.set(c,a,g)};f.getStyle=k.get;f.setStyle=k.set;f.getComputedStyle=k.getComputedStyle;f.__toPixelValue=f.toPixelValue=k.toPixelValue;f.style=function(c,a,g){switch(arguments.length){case 1:return k.get(c);case 2:return k["string"==typeof a?"get":"set"](c,a)}return k.set(c,a,g)};return f})},
"dojo/dom":function(){define(["./sniff","./_base/window"],function(f,m){if(7>=f("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(k){}var l={};l.byId=f("ie")?function(e,h){if("string"!=typeof e)return e;var i=h||m.doc,c=e&&i.getElementById(e);if(c&&(c.attributes.id.value==e||c.id==e))return c;i=i.all[e];if(!i||i.nodeName)i=[i];for(var a=0;c=i[a++];)if(c.attributes&&c.attributes.id&&c.attributes.id.value==e||c.id==e)return c}:function(e,h){return("string"==typeof e?(h||m.doc).getElementById(e):
e)||null};l.isDescendant=function(e,h){try{e=l.byId(e);for(h=l.byId(h);e;){if(e==h)return!0;e=e.parentNode}}catch(i){}return!1};f.add("css-user-select",function(e,h,i){if(!i)return!1;var e=i.style,h=["Khtml","O","Moz","Webkit"],i=h.length,c="userSelect";do if("undefined"!==typeof e[c])return c;while(i--&&(c=h[i]+"UserSelect"));return!1});var j=f("css-user-select");l.setSelectable=j?function(e,h){l.byId(e).style[j]=h?"":"none"}:function(e,h){var e=l.byId(e),i=e.getElementsByTagName("*"),c=i.length;
if(h)for(e.removeAttribute("unselectable");c--;)i[c].removeAttribute("unselectable");else for(e.setAttribute("unselectable","on");c--;)i[c].setAttribute("unselectable","on")};return l})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(f,m,k){var l={global:f.global,doc:f.global.document||null,body:function(j){j=j||f.doc;return j.body||j.getElementsByTagName("body")[0]},setContext:function(j,e){f.global=l.global=j;f.doc=l.doc=e},withGlobal:function(j,e,h,i){var c=f.global;
try{return f.global=l.global=j,l.withDoc.call(null,j.document,e,h,i)}finally{f.global=l.global=c}},withDoc:function(j,e,h,i){var c=l.doc,a=k("quirks"),g=k("ie"),d,b,n;try{f.doc=l.doc=j;f.isQuirks=k.add("quirks","BackCompat"==f.doc.compatMode,!0,!0);if(k("ie")&&(n=j.parentWindow)&&n.navigator)d=parseFloat(n.navigator.appVersion.split("MSIE ")[1])||void 0,(b=j.documentMode)&&5!=b&&Math.floor(d)!=b&&(d=b),f.isIE=k.add("ie",d,!0,!0);h&&"string"==typeof e&&(e=h[e]);return e.apply(h,i||[])}finally{f.doc=
l.doc=c,f.isQuirks=k.add("quirks",a,!0,!0),f.isIE=k.add("ie",g,!0,!0)}}};m.mixin(f,l);return l})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(f,m){function k(b,d,c){d=d.toLowerCase();if(f("ie")||f("trident")){if("auto"==c){if("height"==d)return b.offsetHeight;if("width"==d)return b.offsetWidth}if("fontweight"==d)switch(c){case 700:return"bold";default:return"normal"}}d in a||(a[d]=g.test(d));return a[d]?e(b,c):c}var l,j={};l=f("webkit")?function(a){var d;if(1==a.nodeType){var c=
a.ownerDocument.defaultView;d=c.getComputedStyle(a,null);if(!d&&a.style)a.style.display="",d=c.getComputedStyle(a,null)}return d||{}}:f("ie")&&(9>f("ie")||f("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};j.getComputedStyle=l;var e;e=f("ie")?function(a,d){if(!d)return 0;if("medium"==d)return 4;if(d.slice&&"px"==d.slice(-2))return parseFloat(d);var c=a.style,g=a.runtimeStyle,e=c.left,
h=g.left;g.left=a.currentStyle.left;try{c.left=d,d=c.pixelLeft}catch(i){d=0}c.left=e;g.left=h;return d}:function(a,d){return parseFloat(d)||0};j.toPixelValue=e;var h=function(a,d){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return d?{}:null}},i=9>f("ie")||10>f("ie")&&f("quirks")?function(a){try{return h(a).Opacity/100}catch(d){return 1}}:function(a){return l(a).opacity},c=9>f("ie")||10>f("ie")&&f("quirks")?function(a,d){var g=100*d,e=1==d;a.style.zoom=e?"":1;if(h(a))h(a,
1).Opacity=g;else{if(e)return d;a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+g+")"}h(a,1).Enabled=!e;if("tr"==a.tagName.toLowerCase())for(g=a.firstChild;g;g=g.nextSibling)"td"==g.tagName.toLowerCase()&&c(g,d);return d}:function(a,d){return a.style.opacity=d},a={left:!0,top:!0},g=/margin|padding|width|height|max|min|offset/,d={cssFloat:1,styleFloat:1,"float":1};j.get=function(a,c){var g=m.byId(a),e=arguments.length;if(2==e&&"opacity"==c)return i(g);var c=d[c]?"cssFloat"in g.style?
"cssFloat":"styleFloat":c,h=j.getComputedStyle(g);return 1==e?h:k(g,c,h[c]||g.style[c])};j.set=function(a,g,e){var h=m.byId(a),i=arguments.length,f="opacity"==g,g=d[g]?"cssFloat"in h.style?"cssFloat":"styleFloat":g;if(3==i)return f?c(h,e):h.style[g]=e;for(var l in g)j.set(a,l,g[l]);return j.getComputedStyle(h)};return j})},"dojo/dom-attr":function(){define("exports,./sniff,./_base/lang,./dom,./dom-style,./dom-prop".split(","),function(f,m,k,l,j,e){function h(a,g){var d=a.getAttributeNode&&a.getAttributeNode(g);
return d&&d.specified}var i={innerHTML:1,className:1,htmlFor:m("ie"),value:1},c={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};f.has=function(a,g){var d=g.toLowerCase();return i[e.names[d]||g]||h(l.byId(a),c[d]||g)};f.get=function(a,g){var a=l.byId(a),d=g.toLowerCase(),b=e.names[d]||g,n=a[b];if(i[b]&&"undefined"!=typeof n||"href"!=b&&("boolean"==typeof n||k.isFunction(n)))return n;d=c[d]||g;return h(a,d)?a.getAttribute(d):null};f.set=function(a,g,d){a=l.byId(a);if(2==arguments.length){for(var b in g)f.set(a,
b,g[b]);return a}b=g.toLowerCase();var h=e.names[b]||g,o=i[h];if("style"==h&&"string"!=typeof d)return j.set(a,d),a;if(o||"boolean"==typeof d||k.isFunction(d))return e.set(a,g,d);a.setAttribute(c[b]||g,d);return a};f.remove=function(a,g){l.byId(a).removeAttribute(c[g.toLowerCase()]||g)};f.getNodeProp=function(a,g){var a=l.byId(a),d=g.toLowerCase(),b=e.names[d]||g;if(b in a&&"href"!=b)return a[b];d=c[d]||g;return h(a,d)?a.getAttribute(d):null}})},"dojo/dom-prop":function(){define("exports,./_base/kernel,./sniff,./_base/lang,./dom,./dom-style,./dom-construct,./_base/connect".split(","),
function(f,m,k,l,j,e,h,i){var c={},a=0,g=m._scopeName+"attrid";f.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};f.get=function(a,b){var a=j.byId(a),g=b.toLowerCase();return a[f.names[g]||b]};f.set=function(d,b,n){d=j.byId(d);if(2==arguments.length&&"string"!=typeof b){for(var o in b)f.set(d,o,b[o]);return d}o=b.toLowerCase();o=f.names[o]||b;if("style"==o&&"string"!=typeof n)return e.set(d,
n),d;if("innerHTML"==o)return k("ie")&&d.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(h.empty(d),d.appendChild(h.toDom(n,d.ownerDocument))):d[o]=n,d;if(l.isFunction(n)){var q=d[g];q||(q=a++,d[g]=q);c[q]||(c[q]={});var m=c[q][o];if(m)i.disconnect(m);else try{delete d[o]}catch(s){}n?c[q][o]=i.connect(d,o,n):d[o]=null;return d}d[o]=n;return d}})},"dojo/dom-construct":function(){define("exports,./_base/kernel,./sniff,./_base/window,./dom,./dom-attr,./on".split(","),
function(f,m,k,l,j,e){function h(a,b){var d=b.parentNode;d&&d.insertBefore(a,b)}function i(a){if(a.canHaveChildren)try{a.innerHTML="";return}catch(b){}for(var d;d=a.lastChild;)c(d,a)}function c(a,b){a.firstChild&&i(a);b&&(k("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}var a={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],
col:["table","colgroup"],li:["ul"]},g=/<\s*([\w\:]+)/,d={},b=0,n="__"+m._scopeName+"ToDomId",o;for(o in a)if(a.hasOwnProperty(o))m=a[o],m.pre="option"==o?'<select multiple="multiple">':"<"+m.join("><")+">",m.post="</"+m.reverse().join("></")+">";f.toDom=function(c,e){var e=e||l.doc,h=e[n];h||(e[n]=h=++b+"",d[h]=e.createElement("div"));var c=c+"",i=c.match(g),f=i?i[1].toLowerCase():"",h=d[h];if(i&&a[f]){i=a[f];h.innerHTML=i.pre+c+i.post;for(i=i.length;i;--i)h=h.firstChild}else h.innerHTML=c;if(1==
h.childNodes.length)return h.removeChild(h.firstChild);for(f=e.createDocumentFragment();i=h.firstChild;)f.appendChild(i);return f};f.place=function(a,b,d){b=j.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?f.toDom(a,b.ownerDocument):j.byId(a));if("number"==typeof d){var c=b.childNodes;!c.length||c.length<=d?b.appendChild(a):h(a,c[0>d?0:d])}else switch(d){case "before":h(a,b);break;case "after":d=a;(c=b.parentNode)&&(c.lastChild==b?c.appendChild(d):c.insertBefore(d,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,
b);break;case "only":f.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){h(a,b.firstChild);break}default:b.appendChild(a)}return a};f.create=function(a,b,d,c){var g=l.doc;if(d)d=j.byId(d),g=d.ownerDocument;"string"==typeof a&&(a=g.createElement(a));b&&e.set(a,b);d&&f.place(a,d,c);return a};f.empty=function(a){i(j.byId(a))};f.destroy=function(a){(a=j.byId(a))&&c(a,a.parentNode)}})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(f,
m,k){function l(a,b,g,e,h){if(e=b.match(/(.*):(.*)/))return b=e[2],e=e[1],i.selector(e,b).call(h,a,g);k("touch")&&(c.test(b)&&(g=u(g)),!k("event-orientationchange")&&"orientationchange"==b&&(b="resize",a=window,g=u(g)));n&&(g=n(g));if(a.addEventListener){var f=b in d,j=f?d[b]:b;a.addEventListener(j,g,f);return{remove:function(){a.removeEventListener(j,g,f)}}}if(s&&a.attachEvent)return s(a,"on"+b,g);throw Error("Target must be an event emitter");}function j(){this.cancelable=!1}function e(){this.bubbles=
!1}var h=window.ScriptEngineMajorVersion;k.add("jscript",h&&h()+ScriptEngineMinorVersion()/10);k.add("event-orientationchange",k("touch")&&!k("android"));k.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);k.add("event-focusin",function(a,b,d){return"onfocusin"in d});k("touch")&&k.add("touch-can-modify-event-delegate",function(){var a=function(){};a.prototype=document.createEvent("MouseEvents");try{var b=new a;b.target=
null;return null===b.target}catch(d){return!1}});var i=function(a,b,d,g){return"function"==typeof a.on&&"function"!=typeof b&&!a.nodeType?a.on(b,d):i.parse(a,b,d,l,g,this)};i.pausable=function(a,b,d,g){var c,a=i(a,b,function(){if(!c)return d.apply(this,arguments)},g);a.pause=function(){c=!0};a.resume=function(){c=!1};return a};i.once=function(a,b,d){var g=i(a,b,function(){g.remove();return d.apply(this,arguments)});return g};i.parse=function(a,b,d,g,c,e){if(b.call)return b.call(e,a,d);if(-1<b.indexOf(",")){for(var b=
b.split(/\s*,\s*/),h=[],i=0,n;n=b[i++];)h.push(g(a,n,d,c,e));h.remove=function(){for(var a=0;a<h.length;a++)h[a].remove()};return h}return g(a,b,d,c,e)};var c=/^touch/;i.selector=function(a,b,d){return function(g,c){function e(b){for(h=h&&h.matches?h:m.query;!h.matches(b,a,g);)if(b==g||!1===d||!(b=b.parentNode)||1!=b.nodeType)return;return b}var h="function"==typeof a?{matches:a}:this,n=b.bubble;return n?i(g,n(e),c):i(g,b,function(a){var b=e(a.target);if(b)return c.call(b,a)})}};var a=[].slice,g=
i.emit=function(b,d,g){var c=a.call(arguments,2),h="on"+d;if("parentNode"in b){var i=c[0]={},n;for(n in g)i[n]=g[n];i.preventDefault=j;i.stopPropagation=e;i.target=b;i.type=d;g=i}do b[h]&&b[h].apply(b,c);while(g&&g.bubbles&&(b=b.parentNode));return g&&g.cancelable&&g},d=k("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!k("event-stopimmediatepropagation"))var b=function(){this.modified=this.immediatelyStopped=!0},n=function(a){return function(d){if(!d.immediatelyStopped)return d.stopImmediatePropagation=
b,a.apply(this,arguments)}};if(k("dom-addeventlistener"))i.emit=function(a,b,d){if(a.dispatchEvent&&document.createEvent){var c=(a.ownerDocument||document).createEvent("HTMLEvents");c.initEvent(b,!!d.bubbles,!!d.cancelable);for(var e in d)e in c||(c[e]=d[e]);return a.dispatchEvent(c)&&c}return g.apply(i,arguments)};else{i._fixEvent=function(a,b){if(!a)a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event;if(!a)return a;o&&a.type==o.type&&(a=o);if(!a.target){a.target=a.srcElement;a.currentTarget=
b||a.srcElement;if("mouseover"==a.type)a.relatedTarget=a.fromElement;if("mouseout"==a.type)a.relatedTarget=a.toElement;if(!a.stopPropagation)a.stopPropagation=r,a.preventDefault=p;switch(a.type){case "keypress":var d="charCode"in a?a.charCode:a.keyCode;10==d?(d=0,a.keyCode=13):13==d||27==d?d=0:3==d&&(d=99);a.charCode=d;d=a;d.keyChar=d.charCode?String.fromCharCode(d.charCode):"";d.charOrCode=d.keyChar||d.keyCode}}return a};var o,q=function(a){this.handle=a};q.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};
var t=function(a){return function(b){var b=i._fixEvent(b,this),d=a.call(this,b);b.modified&&(o||setTimeout(function(){o=null}),o=b);return d}},s=function(a,b,d){d=t(d);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>k("jscript"))&&!k("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var g=a[b];if(!g||!g.listeners){var c=g,g=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
g.listeners=[];a[b]=g;g.global=this;c&&g.listeners.push(_dojoIEListeners_.push(c)-1)}g.listeners.push(a=g.global._dojoIEListeners_.push(d)-1);return new q(a)}return f.after(a,b,d,!0)},r=function(){this.cancelBubble=!0},p=i._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1}}if(k("touch"))var v=function(){},w=window.orientation,u=function(a){return function(b){var d=b.corrected;if(!d){var g=b.type;try{delete b.type}catch(c){}if(b.type){if(k("touch-can-modify-event-delegate"))v.prototype=
b,d=new v;else{var d={},e;for(e in b)d[e]=b[e]}d.preventDefault=function(){b.preventDefault()};d.stopPropagation=function(){b.stopPropagation()}}else d=b,d.type=g;b.corrected=d;if("resize"==g){if(w==window.orientation)return null;w=window.orientation;d.type="orientationchange";return a.call(this,d)}if(!("rotation"in d))d.rotation=0,d.scale=1;var g=d.changedTouches[0],h;for(h in g)delete d[h],d[h]=g[h]}return a.call(this,d)}};return i})},"dojo/_base/connect":function(){define("./kernel,../on,../topic,../aspect,./event,../mouse,./sniff,./lang,../keys".split(","),
function(f,m,k,l,j,e,h,i){function c(a,b,d,g,c){g=i.hitch(d,g);if(!a||!a.addEventListener&&!a.attachEvent)return l.after(a||f.global,b,g,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));if(!a)a=f.global;if(!c)switch(b){case "keypress":b=n;break;case "mouseenter":b=e.enter;break;case "mouseleave":b=e.leave}return m(a,b,g,c)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}h.add("events-keypress-typed",function(){var a={charCode:0};
try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!h("opera")});var g={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},d=h("mac")?"metaKey":"ctrlKey",b=function(b,d){var g=i.mixin({},b,d);a(g);g.preventDefault=function(){b.preventDefault()};g.stopPropagation=function(){b.stopPropagation()};return g},n;n=h("events-keypress-typed")?function(a,
d){var c=m(a,"keydown",function(a){var c=a.keyCode,e=13!=c&&32!=c&&(27!=c||!h("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(e||a.ctrlKey){e=e?0:c;if(a.ctrlKey){if(3==c||13==c)return d.call(a.currentTarget,a);e=95<e&&106>e?e-48:!a.shiftKey&&65<=e&&90>=e?e+32:g[e]||e}c=b(a,{type:"keypress",faux:!0,charCode:e});d.call(a.currentTarget,c);if(h("ie"))try{a.keyCode=c.keyCode}catch(i){}}}),e=m(a,"keypress",function(a){var g=a.charCode,a=b(a,{charCode:32<=g?g:0,faux:!0});return d.call(this,
a)});return{remove:function(){c.remove();e.remove()}}}:h("opera")?function(a,d){return m(a,"keypress",function(a){var g=a.which;3==g&&(g=99);g=32>g&&!a.shiftKey?0:g;a.ctrlKey&&!a.shiftKey&&65<=g&&90>=g&&(g+=32);return d.call(this,b(a,{charCode:g}))})}:function(b,d){return m(b,"keypress",function(b){a(b);return d.call(this,b)})};var o={_keypress:n,connect:function(a,b,d,g,e){var h=arguments,i=[],n=0;i.push("string"==typeof h[0]?null:h[n++],h[n++]);var f=h[n+1];i.push("string"==typeof f||"function"==
typeof f?h[n++]:null,h[n++]);for(f=h.length;n<f;n++)i.push(h[n]);return c.apply(this,i)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,d){return k.subscribe(a,i.hitch(b,d))},publish:function(a,b){return k.publish.apply(k,[a].concat(b))},connectPublisher:function(a,b,d){var g=function(){o.publish(a,arguments)};return d?o.connect(b,d,g):o.connect(b,g)},isCopyKey:function(a){return a[d]}};o.unsubscribe=o.disconnect;i.mixin(f,o);return o})},"dojo/topic":function(){define(["./Evented"],
function(f){var m=new f;return{publish:function(f,l){return m.emit.apply(m,arguments)},subscribe:function(f,l){return m.on.apply(m,arguments)}}})},"dojo/Evented":function(){define("dojo/Evented",["./aspect","./on"],function(f,m){function k(){}var l=f.after;k.prototype={on:function(f,e){return m.parse(this,f,e,function(h,i){return l(h,"on"+i,e,!0)})},emit:function(f,e){var h=[this];h.push.apply(h,arguments);return m.emit.apply(m,h)}};return k})},"dojo/aspect":function(){define("dojo/aspect",[],function(){function f(e,
c,a,g){var d=e[c],b="around"==c,h;if(b){var f=a(function(){return d.advice(this,arguments)});h={remove:function(){f&&(f=e=a=null)},advice:function(a,b){return f?f.apply(a,b):d.advice(a,b)}}}else h={remove:function(){if(h.advice){var b=h.previous,d=h.next;if(!d&&!b)delete e[c];else if(b?b.next=d:e[c]=d,d)d.previous=b;e=a=h.advice=null}},id:l++,advice:a,receiveArguments:g};if(d&&!b)if("after"==c){for(;d.next&&(d=d.next););d.next=h;h.previous=d}else{if("before"==c)e[c]=h,h.next=d,d.previous=h}else e[c]=
h;return h}function m(e){return function(c,a,g,d){var b=c[a],h;if(!b||b.target!=c){c[a]=h=function(){for(var a=l,b=arguments,d=h.before;d;)b=d.advice.apply(this,b)||b,d=d.next;if(h.around)var g=h.around.advice(this,b);for(d=h.after;d&&d.id<a;){if(d.receiveArguments)var c=d.advice.apply(this,b),g=c===k?g:c;else g=d.advice.call(this,g,b);d=d.next}return g};if(b)h.around={advice:function(a,d){return b.apply(a,d)}};h.target=c}c=f(h||b,e,g,d);g=null;return c}}var k,l=0,j=m("after"),e=m("before"),h=m("around");
return{before:e,around:h,after:j}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(f,m,k,l){if(m._fixEvent){var j=m._fixEvent;m._fixEvent=function(e,i){(e=j(e,i))&&l.normalizeEvent(e);return e}}var e={fix:function(e,i){return m._fixEvent?m._fixEvent(e,i):e},stop:function(e){k("dom-addeventlistener")||e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e=e||window.event,e.cancelBubble=!0,m._preventDefault.call(e))}};f.fixEvent=e.fix;f.stopEvent=
e.stop;return e})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(f,m,k,l){function j(a,g,d,b,c,e){e=e||"px";a=a.style;if(!isNaN(g))a.left=g+e;if(!isNaN(d))a.top=d+e;if(0<=b)a.width=b+e;if(0<=c)a.height=c+e}function e(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function h(a){return"border-box"==i.boxModel||"table"==a.tagName.toLowerCase()||e(a)}var i={boxModel:"content-box"};
if(f("ie"))i.boxModel="BackCompat"==document.compatMode?"border-box":"content-box";i.getPadExtents=function(a,g){var a=k.byId(a),d=g||l.getComputedStyle(a),b=l.toPixelValue,c=b(a,d.paddingLeft),e=b(a,d.paddingTop),h=b(a,d.paddingRight),d=b(a,d.paddingBottom);return{l:c,t:e,r:h,b:d,w:c+h,h:e+d}};i.getBorderExtents=function(a,g){var a=k.byId(a),d=l.toPixelValue,b=g||l.getComputedStyle(a),c="none"!=b.borderLeftStyle?d(a,b.borderLeftWidth):0,e="none"!=b.borderTopStyle?d(a,b.borderTopWidth):0,h="none"!=
b.borderRightStyle?d(a,b.borderRightWidth):0,d="none"!=b.borderBottomStyle?d(a,b.borderBottomWidth):0;return{l:c,t:e,r:h,b:d,w:c+h,h:e+d}};i.getPadBorderExtents=function(a,g){var a=k.byId(a),d=g||l.getComputedStyle(a),b=i.getPadExtents(a,d),d=i.getBorderExtents(a,d);return{l:b.l+d.l,t:b.t+d.t,r:b.r+d.r,b:b.b+d.b,w:b.w+d.w,h:b.h+d.h}};i.getMarginExtents=function(a,g){var a=k.byId(a),d=g||l.getComputedStyle(a),b=l.toPixelValue,c=b(a,d.marginLeft),e=b(a,d.marginTop),h=b(a,d.marginRight),d=b(a,d.marginBottom);
return{l:c,t:e,r:h,b:d,w:c+h,h:e+d}};i.getMarginBox=function(a,g){var a=k.byId(a),d=g||l.getComputedStyle(a),b=i.getMarginExtents(a,d),c=a.offsetLeft-b.l,e=a.offsetTop-b.t,h=a.parentNode,j=l.toPixelValue;if(f("mozilla")){var m=parseFloat(d.left),d=parseFloat(d.top);!isNaN(m)&&!isNaN(d)?(c=m,e=d):h&&h.style&&(h=l.getComputedStyle(h),"visible"!=h.overflow&&(c+="none"!=h.borderLeftStyle?j(a,h.borderLeftWidth):0,e+="none"!=h.borderTopStyle?j(a,h.borderTopWidth):0))}else if((f("opera")||8==f("ie")&&!f("quirks"))&&
h)h=l.getComputedStyle(h),c-="none"!=h.borderLeftStyle?j(a,h.borderLeftWidth):0,e-="none"!=h.borderTopStyle?j(a,h.borderTopWidth):0;return{l:c,t:e,w:a.offsetWidth+b.w,h:a.offsetHeight+b.h}};i.getContentBox=function(a,g){var a=k.byId(a),d=g||l.getComputedStyle(a),b=a.clientWidth,c=i.getPadExtents(a,d),e=i.getBorderExtents(a,d);b?(d=a.clientHeight,e.w=e.h=0):(b=a.offsetWidth,d=a.offsetHeight);f("opera")&&(c.l+=e.l,c.t+=e.t);return{l:c.l,t:c.t,w:b-c.w-e.w,h:d-c.h-e.h}};i.setContentSize=function(a,g,
d){var a=k.byId(a),b=g.w,g=g.h;h(a)&&(d=i.getPadBorderExtents(a,d),0<=b&&(b+=d.w),0<=g&&(g+=d.h));j(a,NaN,NaN,b,g)};var c={l:0,t:0,w:0,h:0};i.setMarginBox=function(a,g,d){var a=k.byId(a),b=d||l.getComputedStyle(a),d=g.w,n=g.h,o=h(a)?c:i.getPadBorderExtents(a,b),b=i.getMarginExtents(a,b);if(f("webkit")&&e(a)){var m=a.style;if(0<=d&&!m.width)m.width="4px";if(0<=n&&!m.height)m.height="4px"}0<=d&&(d=Math.max(d-o.w-b.w,0));0<=n&&(n=Math.max(n-o.h-b.h,0));j(a,g.l,g.t,d,n)};i.isBodyLtr=function(a){a=a||
m.doc;return"ltr"==(m.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};i.docScroll=function(a){var a=a||m.doc,g=m.doc.parentWindow||m.doc.defaultView;return"pageXOffset"in g?{x:g.pageXOffset,y:g.pageYOffset}:(g=f("quirks")?m.body(a):a.documentElement)&&{x:i.fixIeBiDiScrollLeft(g.scrollLeft||0,a),y:g.scrollTop||0}};if(f("ie"))i.getIeDocumentElementOffset=function(a){a=a||m.doc;a=a.documentElement;if(8>f("ie")){var g=a.getBoundingClientRect(),d=g.left,g=g.top;7>f("ie")&&(d+=a.clientLeft,g+=
a.clientTop);return{x:0>d?0:d,y:0>g?0:g}}return{x:0,y:0}};i.fixIeBiDiScrollLeft=function(a,g){var g=g||m.doc,d=f("ie");if(d&&!i.isBodyLtr(g)){var b=f("quirks"),c=b?m.body(g):g.documentElement,e=m.global;6==d&&!b&&e.frameElement&&c.scrollHeight>c.clientHeight&&(a+=c.clientLeft);return 8>d||b?a+c.clientWidth-c.scrollWidth:-a}return a};i.position=function(a,c){var a=k.byId(a),d=m.body(a.ownerDocument),b=a.getBoundingClientRect(),b={x:b.left,y:b.top,w:b.right-b.left,h:b.bottom-b.top};if(9>f("ie")){var e=
i.getIeDocumentElementOffset(a.ownerDocument);b.x-=e.x+(f("quirks")?d.clientLeft+d.offsetLeft:0);b.y-=e.y+(f("quirks")?d.clientTop+d.offsetTop:0)}c&&(d=i.docScroll(a.ownerDocument),b.x+=d.x,b.y+=d.y);return b};i.getMarginSize=function(a,c){var a=k.byId(a),d=i.getMarginExtents(a,c||l.getComputedStyle(a)),b=a.getBoundingClientRect();return{w:b.right-b.left+d.w,h:b.bottom-b.top+d.h}};i.normalizeEvent=function(a){if(!("layerX"in a))a.layerX=a.offsetX,a.layerY=a.offsetY;if(!f("dom-addeventlistener")){var c=
a.target,c=c&&c.ownerDocument||document,d=f("quirks")?c.body:c.documentElement,b=i.getIeDocumentElementOffset(c);a.pageX=a.clientX+i.fixIeBiDiScrollLeft(d.scrollLeft||0,c)-b.x;a.pageY=a.clientY+(d.scrollTop||0)-b.y}};return i})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(f,m,k,l,j){function e(h,i){var c=function(a,c){return m(a,h,function(d){if(i)return i(d,c);if(!l.isDescendant(d.relatedTarget,a))return c.call(this,d)})};c.bubble=function(a){return e(h,
function(c,d){var b=a(c.target),e=c.relatedTarget;if(b&&b!=(e&&1==e.nodeType&&a(e)))return d.call(b,c)})};return c}k.add("dom-quirks",j.doc&&"BackCompat"==j.doc.compatMode);k.add("events-mouseenter",j.doc&&"onmouseenter"in j.doc.createElement("div"));k.add("events-mousewheel",j.doc&&"onmousewheel"in j.doc);j=k("dom-quirks")&&k("ie")||!k("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,i){return e.button&i},isLeft:function(e){return e.button&1},isMiddle:function(e){return e.button&
4},isRight:function(e){return e.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,i){return e.button==i},isLeft:function(e){return 0==e.button},isMiddle:function(e){return 1==e.button},isRight:function(e){return 2==e.button}};f.mouseButtons=j;f=k("events-mousewheel")?"mousewheel":function(e,i){return m(e,"DOMMouseScroll",function(c){c.wheelDelta=-c.detail;i.call(this,c)})};return{_eventHandler:e,enter:e("mouseover"),leave:e("mouseout"),wheel:f,isLeft:j.isLeft,isMiddle:j.isMiddle,isRight:j.isRight}})},
"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(f,m,k){f._name="browser";m.mixin(f,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:k("khtml"),isWebKit:k("webkit"),isMozilla:k("mozilla"),isMoz:k("mozilla"),isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:k("android"),isWii:k("wii"),isQuirks:k("quirks"),isAir:k("air")});f.locale=f.locale||(k("ie")?navigator.userLanguage:navigator.language).toLowerCase();return k})},"dojo/keys":function(){define(["./_base/kernel",
"./sniff"],function(f,m){return f.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:m("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,
NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:m("mac")&&!m("air")?m("safari")?91:224:17}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(f,m,k){function l(c){if("string"==typeof c||c instanceof String){if(c&&!e.test(c))return h[0]=c,h;c=c.split(e);c.length&&
!c[0]&&c.shift();c.length&&!c[c.length-1]&&c.pop();return c}return!c?[]:m.filter(c,function(a){return a})}var j,e=/\s+/,h=[""],i={};return j={contains:function(c,a){return 0<=(" "+k.byId(c).className+" ").indexOf(" "+a+" ")},add:function(c,a){var c=k.byId(c),a=l(a),g=c.className,d,g=g?" "+g+" ":" ";d=g.length;for(var b=0,e=a.length,h;b<e;++b)(h=a[b])&&0>g.indexOf(" "+h+" ")&&(g+=h+" ");d<g.length&&(c.className=g.substr(1,g.length-2))},remove:function(c,a){var c=k.byId(c),g;if(void 0!==a){a=l(a);g=
" "+c.className+" ";for(var d=0,b=a.length;d<b;++d)g=g.replace(" "+a[d]+" "," ");g=f.trim(g)}else g="";c.className!=g&&(c.className=g)},replace:function(c,a,g){c=k.byId(c);i.className=c.className;j.remove(i,g);j.add(i,a);c.className!==i.className&&(c.className=i.className)},toggle:function(c,a,g){c=k.byId(c);if(void 0===g)for(var a=l(a),d=0,b=a.length,e;d<b;++d)e=a[d],j[j.contains(c,e)?"remove":"add"](c,e);else j[g?"add":"remove"](c,a);return g}}})},"dojo/_base/url":function(){define(["./kernel"],
function(f){var m=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,k=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,l=function(){for(var f=arguments,e=[f[0]],h=1;h<f.length;h++)if(f[h]){var i=new l(f[h]+""),e=new l(e[0]+"");if(""==i.path&&!i.scheme&&!i.authority&&!i.query){if(null!=i.fragment)e.fragment=i.fragment;i=e}else if(!i.scheme&&(i.scheme=e.scheme,!i.authority&&(i.authority=e.authority,"/"!=i.path.charAt(0)))){for(var e=(e.path.substring(0,e.path.lastIndexOf("/")+
1)+i.path).split("/"),c=0;c<e.length;c++)"."==e[c]?c==e.length-1?e[c]="":(e.splice(c,1),c--):0<c&&!(1==c&&""==e[0])&&".."==e[c]&&".."!=e[c-1]&&(c==e.length-1?(e.splice(c,1),e[c-1]=""):(e.splice(c-1,2),c-=2));i.path=e.join("/")}e=[];i.scheme&&e.push(i.scheme,":");i.authority&&e.push("//",i.authority);e.push(i.path);i.query&&e.push("?",i.query);i.fragment&&e.push("#",i.fragment)}this.uri=e.join("");f=this.uri.match(m);this.scheme=f[2]||(f[1]?"":null);this.authority=f[4]||(f[3]?"":null);this.path=f[5];
this.query=f[7]||(f[6]?"":null);this.fragment=f[9]||(f[8]?"":null);if(null!=this.authority)f=this.authority.match(k),this.user=f[3]||null,this.password=f[4]||null,this.host=f[6]||f[7],this.port=f[9]||null};l.prototype.toString=function(){return this.uri};return f._Url=l})},"dojo/_base/json":function(){define(["./kernel","../json"],function(f,m){f.fromJson=function(f){return eval("("+f+")")};f._escapeString=m.stringify;f.toJsonIndentStr="\t";f.toJson=function(k,l){return m.stringify(k,function(f,e){if(e){var h=
e.__json__||e.json;if("function"==typeof h)return h.call(e)}return e},l&&f.toJsonIndentStr)};return f})},"dojo/json":function(){define(["./has"],function(f){var m="undefined"!=typeof JSON;f.add("json-parse",m);f.add("json-stringify",m&&'{"a":1}'==JSON.stringify({a:0},function(f,j){return j||1}));if(f("json-stringify"))return JSON;var k=function(f){return('"'+f.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,
"\\r")};return{parse:f("json-parse")?JSON.parse:function(f,j){if(j&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(f))throw new SyntaxError("Invalid characters in JSON");return eval("("+f+")")},stringify:function(f,j,e){function h(c,a,g){j&&(c=j(g,c));var d;d=typeof c;if("number"==d)return isFinite(c)?c+"":"null";if("boolean"==d)return c+"";if(null===c)return"null";if("string"==typeof c)return k(c);if("function"==d||"undefined"==d)return i;
if("function"==typeof c.toJSON)return h(c.toJSON(g),a,g);if(c instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,b,d){a=c["getUTC"+b]()+(d?1:0);return 10>a?"0"+a:a});if(c.valueOf()!==c)return h(c.valueOf(),a,g);var b=e?a+e:"",f=e?" ":"",l=e?"\n":"";if(c instanceof Array){for(var f=c.length,m=[],g=0;g<f;g++)d=h(c[g],b,g),"string"!=typeof d&&(d="null"),m.push(l+b+d);return"["+m.join(",")+l+a+"]"}m=[];for(g in c){var t;if(c.hasOwnProperty(g)){if("number"==
typeof g)t='"'+g+'"';else if("string"==typeof g)t=k(g);else continue;d=h(c[g],b,g);"string"==typeof d&&m.push(l+b+t+":"+f+d)}}return"{"+m.join(",")+l+a+"}"}var i;"string"==typeof j&&(e=j,j=null);return h(f,"","")}}})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(f,m){var k={};f.setObject("dojo.date.stamp",k);k.fromISOString=function(f,j){if(!k._isoRegExp)k._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;
var e=k._isoRegExp.exec(f),h=null;if(e){e.shift();e[1]&&e[1]--;e[6]&&(e[6]*=1E3);j&&(j=new Date(j),m.forEach(m.map("FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds".split(","),function(a){return j["get"+a]()}),function(a,c){e[c]=e[c]||a}));h=new Date(e[0]||1970,e[1]||0,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0);100>e[0]&&h.setFullYear(e[0]||1970);var i=0,c=e[7]&&e[7].charAt(0);"Z"!=c&&(i=60*(e[8]||0)+(Number(e[9])||0),"-"!=c&&(i*=-1));c&&(i-=h.getTimezoneOffset());i&&h.setTime(h.getTime()+6E4*
i)}return h};k.toISOString=function(f,j){var e=function(a){return 10>a?"0"+a:a},j=j||{},h=[],i=j.zulu?"getUTC":"get",c="";"time"!=j.selector&&(c=f[i+"FullYear"](),c=["0000".substr((c+"").length)+c,e(f[i+"Month"]()+1),e(f[i+"Date"]())].join("-"));h.push(c);if("date"!=j.selector){c=[e(f[i+"Hours"]()),e(f[i+"Minutes"]()),e(f[i+"Seconds"]())].join(":");i=f[i+"Milliseconds"]();j.milliseconds&&(c+="."+(100>i?"0":"")+e(i));if(j.zulu)c+="Z";else if("time"!=j.selector)var i=f.getTimezoneOffset(),a=Math.abs(i),
c=c+((0<i?"-":"+")+e(Math.floor(a/60))+":"+e(a%60));h.push(c)}return h.join("T")};return k})},"dojo/Deferred":function(){define("dojo/Deferred",["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(f,m,k,l,j){var e=Object.freeze||function(){},h=function(a,b,c,e,h){2===b&&g.instrumentRejected&&0===a.length&&g.instrumentRejected(c,!1,e,h);for(h=0;h<a.length;h++)i(a[h],b,c,e)},i=function(d,b,e,h){var f=d[b],i=d.deferred;if(f)try{var l=f(e);if(0===b)"undefined"!==
typeof l&&a(i,b,l);else{if(l&&"function"===typeof l.then){d.cancel=l.cancel;l.then(c(i,1),c(i,2),c(i,0));return}a(i,1,l)}}catch(j){a(i,2,j)}else a(i,b,e);2===b&&g.instrumentRejected&&g.instrumentRejected(e,!!f,h,i.promise)},c=function(d,b){return function(c){a(d,b,c)}},a=function(a,b,c){if(!a.isCanceled())switch(b){case 0:a.progress(c);break;case 1:a.resolve(c);break;case 2:a.reject(c)}},g=function(a){var b=this.promise=new l,c=this,f,j,m,s=!1,r=[];Error.captureStackTrace&&(Error.captureStackTrace(c,
g),Error.captureStackTrace(b,g));this.isResolved=b.isResolved=function(){return 1===f};this.isRejected=b.isRejected=function(){return 2===f};this.isFulfilled=b.isFulfilled=function(){return!!f};this.isCanceled=b.isCanceled=function(){return s};this.progress=function(a,d){if(f){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}h(r,0,a,null,c);return b};this.resolve=function(a,d){if(f){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}h(r,f=1,j=a,
null,c);r=null;return b};var p=this.reject=function(a,d){if(f){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}Error.captureStackTrace&&Error.captureStackTrace(m={},p);h(r,f=2,j=a,m,c);r=null;return b};this.then=b.then=function(a,d,c){var e=[c,a,d];e.cancel=b.cancel;e.deferred=new g(function(a){return e.cancel&&e.cancel(a)});f&&!r?i(e,f,j,m):r.push(e);return e.deferred.promise};this.cancel=b.cancel=function(b,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");
}else{if(a)var g=a(b),b="undefined"===typeof g?b:g;s=!0;if(f){if(2===f&&j===b)return b}else return"undefined"===typeof b&&(b=new k),p(b),b}};e(b)};g.prototype.toString=function(){return"[object Deferred]"};j&&j(g);return g})},"dojo/errors/CancelError":function(){define(["./create"],function(f){return f("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],function(f){return function(m,k,l,j){var l=l||Error,e=function(h){if(l===Error){Error.captureStackTrace&&
Error.captureStackTrace(this,e);var f=Error.call(this,h),c;for(c in f)f.hasOwnProperty(c)&&(this[c]=f[c]);this.message=h;this.stack=f.stack}else l.apply(this,arguments);k&&k.apply(this,arguments)};e.prototype=f.delegate(l.prototype,j);e.prototype.name=m;return e.prototype.constructor=e}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(f){function m(){throw new TypeError("abstract");}return f.extend(function(){},{then:function(){m()},cancel:function(){m()},isResolved:function(){m()},
isRejected:function(){m()},isFulfilled:function(){m()},isCanceled:function(){m()},always:function(f){return this.then(f,f)},otherwise:function(f){return this.then(null,f)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(f,m,k,l){function j(a,b,c){var g="";a&&a.stack&&(g+=a.stack);b&&b.stack&&(g+="\n    ----------------------------------------\n    rejected"+
b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(g+="\n    ----------------------------------------\n"+c.stack);console.error(a,g)}function e(a,b,c,g){b||j(a,c,g)}function h(d,b,e,h){b?l.some(c,function(a,b){if(a.error===d)return c.splice(b,1),!0}):l.some(c,function(a){return a.error===d})||c.push({error:d,rejection:e,deferred:h,timestamp:(new Date).getTime()});a||(a=setTimeout(i,g))}function i(){var d=(new Date).getTime(),b=d-g;c=l.filter(c,function(a){return a.timestamp<
b?(j(a.error,a.rejection,a.deferred),!1):!0});a=c.length?setTimeout(i,c[0].timestamp+g-d):!1}m.add("config-useDeferredInstrumentation","report-unhandled-rejections");var c=[],a=!1,g=1E3;return function(a){var b=m("config-useDeferredInstrumentation");if(b){f.on("resolved",k.hitch(console,"log","resolved"));f.on("rejected",k.hitch(console,"log","rejected"));f.on("progress",k.hitch(console,"log","progress"));var c=[];"string"===typeof b&&(c=b.split(","),b=c.shift());if("report-rejections"===b)a.instrumentRejected=
e;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=h,g=parseInt(c[0],10)||g;else throw Error("Unsupported instrumentation usage <"+b+">");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(f,m,k){function l(h){setTimeout(function(){e.apply(j,h)},0)}var j=new k,e=j.emit;j.emit=null;m.prototype.trace=function(){var e=f._toArray(arguments);this.then(function(f){l(["resolved",f].concat(e))},function(f){l(["rejected",f].concat(e))},
function(f){l(["progress",f].concat(e))});return this};m.prototype.traceRejected=function(){var e=f._toArray(arguments);this.otherwise(function(f){l(["rejected",f].concat(e))});return this};return j})},"dojo/query":function(){define("./_base/kernel,./has,./dom,./on,./_base/array,./_base/lang,./selector/_loader,./selector/_loader!default".split(","),function(f,m,k,l,j,e,h,i){function c(a,b){var d=function(d,c){if("string"==typeof c&&(c=k.byId(c),!c))return new b([]);var g="string"==typeof d?a(d,c):
d?d.orphan?d:[d]:[];return g.orphan?g:new b(g)};d.matches=a.match||function(a,b,c){return 0<d.filter([a],b,c).length};d.filter=a.filter||function(a,b,c){return d(b,c).filter(function(b){return-1<j.indexOf(a,b)})};if("function"!=typeof a)var c=a.search,a=function(a,b){return c(b||document,a)};return d}m.add("array-extensible",function(){return 1==e.delegate([],{length:1}).length&&!m("bug-for-in-skips-shadowed")});var a=Array.prototype,g=a.slice,d=a.concat,b=j.forEach,n=function(a,b,d){b=[0].concat(g.call(b,
0));d=d||f.global;return function(c){b[0]=c;return a.apply(d,b)}},o=function(a){var b=this instanceof q&&m("array-extensible");"number"==typeof a&&(a=Array(a));var d=a&&"length"in a?a:arguments;if(b||!d.sort){for(var c=b?this:[],g=c.length=d.length,h=0;h<g;h++)c[h]=d[h];if(b)return c;d=c}e._mixin(d,t);d._NodeListCtor=function(a){return q(a)};return d},q=o,t=q.prototype=m("array-extensible")?[]:{};q._wrap=t._wrap=function(a,b,d){a=new (d||this._NodeListCtor||q)(a);return b?a._stash(b):a};q._adaptAsMap=
function(a,b){return function(){return this.map(n(a,arguments,b))}};q._adaptAsForEach=function(a,b){return function(){this.forEach(n(a,arguments,b));return this}};q._adaptAsFilter=function(a,b){return function(){return this.filter(n(a,arguments,b))}};q._adaptWithCondition=function(a,b,d){return function(){var c=arguments,g=n(a,c,d);if(b.call(d||f.global,c))return this.map(g);this.forEach(g);return this}};b(["slice","splice"],function(b){var d=a[b];t[b]=function(){return this._wrap(d.apply(this,arguments),
"slice"==b?this:null)}});b(["indexOf","lastIndexOf","every","some"],function(a){var b=j[a];t[a]=function(){return b.apply(f,[this].concat(g.call(arguments,0)))}});e.extend(o,{constructor:q,_NodeListCtor:q,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var d=this.map(function(d){return l(d,a,b)});d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},
concat:function(a){var b=g.call(this,0),c=j.map(arguments,function(a){return g.call(a,0)});return this._wrap(d.apply(b,c),this)},map:function(a,b){return this._wrap(j.map(this,a,b),this)},forEach:function(a,d){b(this,a,d);return this},filter:function(a){var b=arguments,d=this,c=0;if("string"==typeof a){d=s._filterResult(this,b[0]);if(1==b.length)return d._stash(this);c=1}return this._wrap(j.filter(d,b[c],b[c+1]),this)},instantiate:function(a,b){var d=e.isFunction(a)?a:e.getObject(a),b=b||{};return this.forEach(function(a){new d(b,
a)})},at:function(){var a=new this._NodeListCtor(0);b(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var s=c(i,o);f.query=c(i,function(a){return o(a)});s.load=function(a,b,d){h.load(a,b,function(a){d(c(a,o))})};f._filterQueryResult=s._filterResult=function(a,b,d){return new o(s.filter(a,b,d))};f.NodeList=s.NodeList=o;return s})},"dojo/selector/_loader":function(){define(["../has","require"],function(f,m){var k=document.createElement("div");f.add("dom-qsa2.1",
!!k.querySelectorAll);f.add("dom-qsa3",function(){try{return k.innerHTML="<p class='TEST'></p>",1==k.querySelectorAll(".TEST:empty").length}catch(f){}});var l;return{load:function(j,e,h){var i=m,j="default"==j?f("config-selectorEngine")||"css3":j,j="css2"==j||"lite"==j?"./lite":"css2.1"==j?f("dom-qsa2.1")?"./lite":"./acme":"css3"==j?f("dom-qsa3")?"./lite":"./acme":"acme"==j?"./acme":(i=e)&&j;if("?"==j.charAt(j.length-1))var j=j.substring(0,j.length-1),c=!0;if(c&&(f("dom-compliant-qsa")||l))return h(l);
i([j],function(a){"./lite"!=j&&(l=a);h(a)})}}})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(f,m,k,l,j){var e=l.trim,h=k.forEach,i="BackCompat"==j.doc.compatMode,c=!1,a=function(){return!0},g=function(a){for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",b=function(b,d){return e(a.slice(b,d))},d=[],g=-1,h=-1,f=-1,i=-1,l=-1,j=-1,n=-1,k,m="",o="",s,q=0,r=a.length,t=null,u=null,p=function(){if(0<=j)t.id=b(j,q).replace(/\\/g,
""),j=-1;if(0<=n){var a=n==q?null:b(n,q);t[0>">~+".indexOf(a)?"tag":"oper"]=a;n=-1}0<=l&&(t.classes.push(b(l+1,q).replace(/\\/g,"")),l=-1)};m=o,o=a.charAt(q),q<r;q++)if("\\"!=m)if(t||(s=q,t={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return c?this.otag:this.tag}},n=q),k)o==k&&(k=null);else if("'"==o||'"'==o)k=o;else if(0<=g)if("]"==o){u.attr?u.matchFor=b(f||g+1,q):u.attr=b(g+1,q);if((g=u.matchFor)&&('"'==g.charAt(0)||"'"==g.charAt(0)))u.matchFor=g.slice(1,
-1);if(u.matchFor)u.matchFor=u.matchFor.replace(/\\/g,"");t.attrs.push(u);u=null;g=f=-1}else{if("="==o)f=0<="|~^$*".indexOf(m)?m:"",u.type=f+o,u.attr=b(g+1,q-f.length),f=q+1}else if(0<=h){if(")"==o){if(0<=i)u.value=b(h+1,q);i=h=-1}}else if("#"==o)p(),j=q+1;else if("."==o)p(),l=q;else if(":"==o)p(),i=q;else if("["==o)p(),g=q,u={};else if("("==o)0<=i&&(u={name:b(i+1,q),value:null},t.pseudos.push(u)),h=q;else if(" "==o&&m!=o){p();0<=i&&t.pseudos.push({name:b(i+1,q)});t.loops=t.pseudos.length||t.attrs.length||
t.classes.length;t.oquery=t.query=b(s,q);t.otag=t.tag=t.oper?null:t.tag||"*";if(t.tag)t.tag=t.tag.toUpperCase();if(d.length&&d[d.length-1].oper)t.infixOper=d.pop(),t.query=t.infixOper.query+" "+t.query;d.push(t);t=null}return d},d=function(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},b=function(a,b){var d=b||[];a&&d.push(a);return d},n=function(a){return 1==a.nodeType},o=function(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==
b?a.style.cssText||"":(c?a.getAttribute(b):a.getAttribute(b,2))||""},q={"*=":function(a,b){return function(d){return 0<=o(d,a).indexOf(b)}},"^=":function(a,b){return function(d){return 0==o(d,a).indexOf(b)}},"$=":function(a,b){return function(d){var d=" "+o(d,a),c=d.lastIndexOf(b);return-1<c&&c==d.length-b.length}},"~=":function(a,b){var d=" "+b+" ";return function(b){return 0<=(" "+o(b,a)+" ").indexOf(d)}},"|=":function(a,b){var d=b+"-";return function(c){c=o(c,a);return c==b||0==c.indexOf(d)}},
"=":function(a,b){return function(d){return o(d,a)==b}}},t="undefined"==typeof j.doc.firstChild.nextElementSibling,s=!t?"nextElementSibling":"nextSibling",r=!t?"previousElementSibling":"previousSibling",p=t?n:a,v=function(a){for(;a=a[r];)if(p(a))return!1;return!0},w=function(a){for(;a=a[s];)if(p(a))return!1;return!0},u=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,d=0,c=b.children||b.childNodes,g=a._i||a.getAttribute("_i")||-1,e=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):
-1);if(!c)return-1;c=c.length;if(e==c&&0<=g&&0<=e)return g;m("ie")&&"undefined"!==typeof b.setAttribute?b.setAttribute("_l",c):b._l=c;g=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[s])if(p(b))m("ie")?b.setAttribute("_i",++d):b._i=++d,a===b&&(g=d);return g},B=function(a){return!(u(a)%2)},N=function(a){return u(a)%2},P={checked:function(){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(){return function(a){return a.disabled}},enabled:function(){return function(a){return!a.disabled}},
"first-child":function(){return v},"last-child":function(){return w},"only-child":function(){return function(a){return v(a)&&w(a)}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var d=b[a].nodeType;if(1===d||3==d)return!1}return!0}},contains:function(a,b){var d=b.charAt(0);if('"'==d||"'"==d)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var d=g(b)[0],c={el:1};if("*"!=d.tag)c.tag=1;if(!d.classes.length)c.classes=
1;var e=E(d,c);return function(a){return!e(a)}},"nth-child":function(a,b){var d=parseInt;if("odd"==b)return N;if("even"==b)return B;if(-1!=b.indexOf("n")){var c=b.split("n",2),g=c[0]?"-"==c[0]?-1:d(c[0]):1,e=c[1]?d(c[1]):0,h=0,f=-1;0<g?0>e?e=e%g&&g+e%g:0<e&&(e>=g&&(h=e-e%g),e%=g):0>g&&(g*=-1,0<e&&(f=e,e%=g));if(0<g)return function(a){a=u(a);return a>=h&&(0>f||a<=f)&&a%g==e};b=e}var i=d(b);return function(a){return u(a)==i}}},L=9>m("ie")||9==m("ie")&&m("quirks")?function(a){var b=a.toLowerCase();"class"==
b&&(a="className");return function(d){return c?d.getAttribute(a):d[a]||d[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},E=function(b,g){if(!b)return a;var g=g||{},e=null;"el"in g||(e=d(e,n));"tag"in g||"*"!=b.tag&&(e=d(e,function(a){return a&&(c?a.tagName:a.tagName.toUpperCase())==b.getTag()}));"classes"in g||h(b.classes,function(a,b){var c=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");e=d(e,function(a){return c.test(a.className)});e.count=b});"pseudos"in g||h(b.pseudos,function(a){var b=
a.name;P[b]&&(e=d(e,P[b](b,a.value)))});"attrs"in g||h(b.attrs,function(a){var b,c=a.attr;a.type&&q[a.type]?b=q[a.type](c,a.matchFor):c.length&&(b=L(c));b&&(e=d(e,b))});"id"in g||b.id&&(e=d(e,function(a){return!!a&&a.id==b.id}));e||"default"in g||(e=a);return e},M=function(a){return function(b,d,c){for(;b=b[s];)if(!t||n(b)){(!c||R(b,c))&&a(b)&&d.push(b);break}return d}},Q=function(a){return function(b,d,c){for(b=b[s];b;){if(p(b)){if(c&&!R(b,c))break;a(b)&&d.push(b)}b=b[s]}return d}},A=function(b){b=
b||a;return function(a,d,c){for(var g=0,e=a.children||a.childNodes;a=e[g++];)p(a)&&(!c||R(a,c))&&b(a,g)&&d.push(a);return d}},z={},x=function(d){var c=z[d.query];if(c)return c;var g=d.infixOper,g=g?g.oper:"",e=E(d,{el:1}),h="*"==d.tag,l=j.doc.getElementsByClassName;if(g){l={el:1};if(h)l.tag=1;e=E(d,l);"+"==g?c=M(e):"~"==g?c=Q(e):">"==g&&(c=A(e))}else if(d.id)e=!d.loops&&h?a:E(d,{el:1,id:1}),c=function(a,c){var g=f.byId(d.id,a.ownerDocument||a);if(g&&e(g)){if(9==a.nodeType)return b(g,c);for(var h=
g.parentNode;h&&!(h==a);)h=h.parentNode;if(h)return b(g,c)}};else if(l&&/\{\s*\[native code\]\s*\}/.test(""+l)&&d.classes.length&&!i)var e=E(d,{el:1,classes:1,id:1}),n=d.classes.join(" "),c=function(a,d,c){for(var d=b(0,d),g,h=0,f=a.getElementsByClassName(n);g=f[h++];)e(g,a)&&R(g,c)&&d.push(g);return d};else!h&&!d.loops?c=function(a,c,g){for(var c=b(0,c),e=0,h=d.getTag(),h=h?a.getElementsByTagName(h):[];a=h[e++];)R(a,g)&&c.push(a);return c}:(e=E(d,{el:1,tag:1,id:1}),c=function(a,c,g){for(var c=b(0,
c),h,f=0,i=(h=d.getTag())?a.getElementsByTagName(h):[];h=i[f++];)e(h,a)&&R(h,g)&&c.push(h);return c});return z[d.query]=c},y={},K={},H=function(a){var d=g(e(a));if(1==d.length){var c=x(d[0]);return function(a){if(a=c(a,[]))a.nozip=!0;return a}}return function(a){for(var a=b(a),c,g,e=d.length,h,f,i=0;i<e;i++){f=[];c=d[i];g=a.length-1;if(0<g)h={},f.nozip=!0;g=x(c);for(var l=0;c=a[l];l++)g(c,f,h);if(!f.length)break;a=f}return f}},D=m("ie")?"commentStrip":"nozip",G=!!j.doc.querySelectorAll,O=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,
F=function(a,b,d,c){return d?(b?b+" ":"")+d+(c?" "+c:""):a},I=/([^[]*)([^\]]*])?/g,T=function(a,b,d){return b.replace(O,F)+(d||"")},J=function(a,b){a=a.replace(I,T);if(G){var d=K[a];if(d&&!b)return d}if(d=y[a])return d;var d=a.charAt(0),c=-1==a.indexOf(" ");0<=a.indexOf("#")&&c&&(b=!0);if(G&&!b&&-1==">~+".indexOf(d)&&(!m("ie")||-1==a.indexOf(":"))&&!(i&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|=")){var g=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":
a;return K[a]=function(b){try{if(!(9==b.nodeType||c))throw"";var d=b.querySelectorAll(g);d[D]=!0;return d}catch(e){return J(a,!0)(b)}}}var e=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return y[a]=2>e.length?H(a):function(a){for(var b=0,d=[],c;c=e[b++];)d=d.concat(H(c)(a));return d}},C=0,X=m("ie")?function(a){return c?a.getAttribute("_uid")||a.setAttribute("_uid",++C)||C:a.uniqueID}:function(a){return a._uid||(a._uid=++C)},R=function(a,b){if(!b)return 1;var d=X(a);return!b[d]?b[d]=
1:0},Y=function(a){if(a&&a.nozip)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;C++;var d,g;if(m("ie")&&c){var e=C+"";a[0].setAttribute("_zipIdx",e);for(d=1;g=a[d];d++)a[d].getAttribute("_zipIdx")!=e&&b.push(g),g.setAttribute("_zipIdx",e)}else if(m("ie")&&a.commentStrip)try{for(d=1;g=a[d];d++)n(g)&&b.push(g)}catch(h){}else{a[0]&&(a[0]._zipIdx=C);for(d=1;g=a[d];d++)a[d]._zipIdx!=C&&b.push(g),g._zipIdx=C}return b},W=function(a,b){b=b||j.doc;c="div"===(b.ownerDocument||
b).createElement("div").tagName;var d=J(a)(b);return d&&d.nozip?d:Y(d)};W.filter=function(a,b,d){for(var c=[],e=g(b),e=1==e.length&&!/[^\w#\.]/.test(b)?E(e[0]):function(a){return-1!=k.indexOf(W(b,f.byId(d)),a)},h=0,i;i=a[h];h++)e(i)&&c.push(i);return c};return W})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(f,m,k,l,j){var e=0,h=[],i=0,m=function(){e=1;f._postLoad=f.config.afterOnLoad=!0;c()},c=function(){if(!i){for(i=1;e&&(!l||0==l._Q.length)&&
k.idle()&&h.length;){var a=h.shift();try{a()}catch(b){}}i=0}};k.on("idle",c);if(l)l._onQEmpty=c;var a=f.ready=f.addOnLoad=function(a,b,g){var e=j._toArray(arguments);"number"!=typeof a?(g=b,b=a,a=1E3):e.shift();g=g?j.hitch.apply(f,e):function(){b()};g.priority=a;for(e=0;e<h.length&&a>=h[e].priority;e++);h.splice(e,0,g);c()},g=f.config.addOnLoad;if(g)a[j.isArray(g)?"apply":"call"](f,g);l?l(m):m();return a})},"dojo/domReady":function(){define(["./has"],function(f){function m(a){c.push(a);i&&k()}function k(){if(!a){for(a=
!0;c.length;)try{c.shift()(j)}catch(b){console.log("Error on domReady callback: "+b)}a=!1;m._onQEmpty()}}var l=function(){return this}(),j=document,e={loaded:1,complete:1},h="string"!=typeof j.readyState,i=!!e[j.readyState],c=[],a;m.load=function(a,b,d){m(d)};m._Q=c;m._onQEmpty=function(){};if(h)j.readyState="loading";if(!i){var g=[],d=function(a){a=a||l.event;if(!(i||"readystatechange"==a.type&&!e[j.readyState])){if(h)j.readyState="complete";i=1;k()}},b=function(a,b){a.addEventListener(b,d,!1);c.push(function(){a.removeEventListener(b,
d,!1)})};if(!f("dom-addeventlistener")){var b=function(a,b){b="on"+b;a.attachEvent(b,d);c.push(function(){a.detachEvent(b,d)})},n=j.createElement("div");try{n.doScroll&&null===l.frameElement&&g.push(function(){try{return n.doScroll("left"),1}catch(a){}})}catch(o){}}b(j,"DOMContentLoaded");b(l,"load");"onreadystatechange"in j?b(j,"readystatechange"):h||g.push(function(){return e[j.readyState]});if(g.length){var q=function(){if(!i){for(var a=g.length;a--;)if(g[a]()){d("poller");return}setTimeout(q,
30)}};q()}}return m})},"ninja/widget/MainWidget":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./MainWidget.html,dojo/_base/lang,dojo/on,dojo/dom-style,dojo/query,ninja/mobile/service/input,ninja/model/channelModel,ninja/model/queueModel,dojo/_base/array,ninja/widget/SeekBar,ninja/widget/SlideshowSeekBar,ninja/service/homerunProtocol,ninja/widget/QueueList,ninja/widget/SubtitleFragment,ninja/widget/MediaController,dojox/mobile/Heading,ninja/widget/ChannelFragment,ninja/widget/SettingFragment,ninja/widget/LiveFragment,dijit/layout/ContentPane".split(","),
function(f,m,k,l,j,e,h,i,c,a,g,d,b,n,o,q){return f("ninja.widget.MainWidget",[m,k,l],{templateString:j,seekbar:null,slideshowSeekbar:null,prevView:null,prevNativeTitle:"",startup:function(){this.inherited(arguments);this.registerEventListener();this.seekbar=new n;this.seekbar.startup();this.seekBarContainer.addChild(this.seekbar);this.slideshowSeekbar=new o;this.slideshowSeekbar.startup();g.isReady()&&this._onChannelModelReady()},registerEventListener:function(){h(g,"ready",e.hitch(this,this._onChannelModelReady));
h(g,"now_playing",e.hitch(this,this._onNowPlaying));h(this.mediaController,"languageSetting",e.hitch(this,this.onLanguageSetting));h(this.channelFragment,"browse_channel",e.hitch(this,this._onBrowseChannel));h(this.channelFragment,"setting",e.hitch(this,this._onSetting));h(this.languageSettingWidget,"back",e.hitch(this,this.onLanguageSettingBack));h(this.queueListWidget,"back",e.hitch(this,this.onQueueListBack));h(this.settingWidget,"back",e.hitch(this,this.onSettingBack));h(this.liveWidget,"back",
e.hitch(this,this.onLiveBack))},_onChannelModelReady:function(){var a=g.getPlayingChannelId();null==a?(this._showView(this.channelView),q.setNativeTitle("Channel")):(a=g.getChannelById(a),null===a?(this._showView(this.channelView),q.setNativeTitle("Channel")):"queue"===a.type?(this.queueListWidget.setChannel(a),this._showView(this.queueListView)):"live"===a.type||"user_live"===a.type?(this.liveWidget.setChannel(a),this._showView(this.liveView)):(this._showView(this.channelView),q.setNativeTitle("Channel")))},
_showView:function(a){var b=null;c(".view").forEach(function(a){"block"==i.get(a,"display")&&(b=a)});if(a!=b)c(".view").forEach(function(a){i.set(a,"display","none")}),i.set(a,"display","block"),this.prevView=b},_onBrowseChannel:function(a){if("live"===a.channel_id)q.showOnlineVideo();else if("queue"===a.type)this.queueListWidget.setChannel(a),this._showView(this.queueListView);else if("live"===a.type||"user_live"===a.type)this.liveWidget.setChannel(a),this._showView(this.liveView)},onLanguageSetting:function(){this._showView(this.languageSettingView);
this.prevNativeTitle=q.getNativeTitle();q.setNativeTitle("Language")},onLanguageSettingBack:function(){this._showView(this.prevView);q.setNativeTitle(this.prevNativeTitle)},onQueueListBack:function(){this._showView(this.channelView);q.setNativeTitle("Channel")},onSettingBack:function(){this._showView(this.channelView);q.setNativeTitle("Channel")},onLiveBack:function(){this._showView(this.channelView);q.setNativeTitle("Channel")},_onSetting:function(){this._showView(this.settingView);q.setNativeTitle("Setting")},
_onNowPlaying:function(a){for(var b=this.seekBarContainer.getChildren(),d=0;d<b.length;d++)this.seekBarContainer.removeChild(b[d]);a&&a.queue_item&&a.queue_item.type&&"slideshow"===a.queue_item.type?this.seekBarContainer.addChild(this.slideshowSeekbar):this.seekBarContainer.addChild(this.seekbar)}})})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(f,m,k){function l(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function j(a,b,d){var c,g,e,h,f,i,j,n=this._inherited=
this._inherited||{};"string"==typeof a&&(c=a,a=b,b=d);d=0;h=a.callee;(c=c||h.nom)||l("can't deduce a name to call inherited()",this.declaredClass);f=this.constructor._meta;e=f.bases;j=n.p;if(c!=B){if(n.c!==h&&(j=0,i=e[0],f=i._meta,f.hidden[c]!==h)){(g=f.chains)&&"string"==typeof g[c]&&l("calling chained method with inherited: "+c,this.declaredClass);do if(f=i._meta,g=i.prototype,f&&(g[c]===h&&g.hasOwnProperty(c)||f.hidden[c]===h))break;while(i=e[++j]);j=i?j:-1}if(i=e[++j])if(g=i.prototype,i._meta&&
g.hasOwnProperty(c))d=g[c];else{h=p[c];do if(g=i.prototype,(d=g[c])&&(i._meta?g.hasOwnProperty(c):d!==h))break;while(i=e[++j])}d=i&&d||p[c]}else{if(n.c!==h&&(j=0,(f=e[0]._meta)&&f.ctor!==h)){g=f.chains;for((!g||"manual"!==g.constructor)&&l("calling chained constructor with inherited",this.declaredClass);(i=e[++j])&&!((f=i._meta)&&f.ctor===h););j=i?j:-1}for(;(i=e[++j])&&!(d=(f=i._meta)?f.ctor:i););d=i&&d}n.c=d;n.p=j;if(d)return!0===b?d:d.apply(this,b||a)}function e(a,b){return"string"==typeof a?this.__inherited(a,
b,!0):this.__inherited(a,!0)}function h(a,b,d){var c=this.getInherited(a,b);if(c)return c.apply(this,d||b||a)}function i(a){for(var b=this.constructor._meta.bases,d=0,c=b.length;d<c;++d)if(b[d]===a)return!0;return this instanceof a}function c(a,b){for(var d in b)d!=B&&b.hasOwnProperty(d)&&(a[d]=b[d]);if(m("bug-for-in-skips-shadowed"))for(var c=k._extraNames,g=c.length;g;)d=c[--g],d!=B&&b.hasOwnProperty(d)&&(a[d]=b[d])}function a(a){s.safeMixin(this.prototype,a);return this}function g(a){return s([this].concat(a))}
function d(a,b){return function(){var x;var d=arguments,c=d,g=d[0],e,h;h=a.length;var f;if(!(this instanceof d.callee))return t(d);if(b&&(g&&g.preamble||this.preamble)){f=Array(a.length);f[0]=d;for(e=0;;){if(g=d[0])(g=g.preamble)&&(d=g.apply(this,d)||d);g=a[e].prototype;(g=g.hasOwnProperty("preamble")&&g.preamble)&&(d=g.apply(this,d)||d);if(++e==h)break;f[e]=d}}for(e=h-1;0<=e;--e)g=a[e],(x=(h=g._meta)?h.ctor:g,g=x)&&g.apply(this,f?f[e]:d);(g=this.postscript)&&g.apply(this,c)}}function b(a,b){return function(){var d=
arguments,c=d,g=d[0];if(!(this instanceof d.callee))return t(d);if(b){if(g)(g=g.preamble)&&(c=g.apply(this,c)||c);(g=this.preamble)&&g.apply(this,c)}a&&a.apply(this,d);(g=this.postscript)&&g.apply(this,d)}}function n(a){return function(){var x;var b=arguments,d=0,c,g;if(!(this instanceof b.callee))return t(b);for(;c=a[d];++d)if(x=(g=c._meta)?g.ctor:c,c=x){c.apply(this,b);break}(c=this.postscript)&&c.apply(this,b)}}function o(a,b,d){return function(){var c,g,e=0,h=1;d&&(e=b.length-1,h=-1);for(;c=b[e];e+=
h)g=c._meta,(c=(g?g.hidden:c.prototype)[a])&&c.apply(this,arguments)}}function q(a){w.prototype=a.prototype;a=new w;w.prototype=null;return a}function t(a){var b=a.callee,d=q(b);b.apply(d,a);return d}function s(h,f,m){"string"!=typeof h&&(m=f,f=h,h="");var m=m||{},t,w,A,z,x,y,K,H=1,D=f;if("[object Array]"==v.call(f)){H=h;A=[];z=[{cls:0,refs:[]}];y={};for(var G=1,O=f.length,F=0,I,T,J,C;F<O;++F){(I=f[F])?"[object Function]"!=v.call(I)&&l("mixin #"+F+" is not a callable constructor.",H):l("mixin #"+
F+" is unknown. Did you use dojo.require to pull it in?",H);T=I._meta?I._meta.bases:[I];J=0;for(I=T.length-1;0<=I;--I){C=T[I].prototype;if(!C.hasOwnProperty("declaredClass"))C.declaredClass="uniqName_"+u++;C=C.declaredClass;y.hasOwnProperty(C)||(y[C]={count:0,refs:[],cls:T[I]},++G);C=y[C];J&&J!==C&&(C.refs.push(J),++J.count);J=C}++J.count;z[0].refs.push(J)}for(;z.length;){J=z.pop();A.push(J.cls);for(--G;w=J.refs,1==w.length;){J=w[0];if(!J||--J.count){J=0;break}A.push(J.cls);--G}if(J)for(F=0,O=w.length;F<
O;++F)J=w[F],--J.count||z.push(J)}G&&l("can't build consistent linearization",H);I=f[0];A[0]=I?I._meta&&I===A[A.length-I._meta.bases.length]?I._meta.bases.length:1:0;y=A;A=y[0];H=y.length-A;f=y[H]}else y=[0],f?"[object Function]"==v.call(f)?(A=f._meta,y=y.concat(A?A.bases:f)):l("base class is not a callable constructor.",h):null!==f&&l("unknown base class. Did you use dojo.require to pull it in?",h);if(f)for(w=H-1;;--w){t=q(f);if(!w)break;A=y[w];(A._meta?c:r)(t,A.prototype);z=new Function;z.superclass=
f;z.prototype=t;f=t.constructor=z}else t={};s.safeMixin(t,m);A=m.constructor;if(A!==p.constructor)A.nom=B,t.constructor=A;for(w=H-1;w;--w)(A=y[w]._meta)&&A.chains&&(K=r(K||{},A.chains));t["-chains-"]&&(K=r(K||{},t["-chains-"]));A=!K||!K.hasOwnProperty(B);y[0]=z=K&&"manual"===K.constructor?n(y):1==y.length?b(m.constructor,A):d(y,A);z._meta={bases:y,hidden:m,chains:K,parents:D,ctor:m.constructor};z.superclass=f&&f.prototype;z.extend=a;z.createSubclass=g;z.prototype=t;t.constructor=z;t.getInherited=
e;t.isInstanceOf=i;t.inherited=N;t.__inherited=j;if(h)t.declaredClass=h,k.setObject(h,z);if(K)for(x in K)if(t[x]&&"string"==typeof K[x]&&x!=B)A=t[x]=o(x,y,"after"===K[x]),A.nom=x;return z}var r=k.mixin,p=Object.prototype,v=p.toString,w=new Function,u=0,B="constructor",N=f.config.isDebug?h:j;f.safeMixin=s.safeMixin=function(a,b){var d,c;for(d in b)if(c=b[d],(c!==p[d]||!(d in p))&&d!=B){if("[object Function]"==v.call(c))c.nom=d;a[d]=c}if(m("bug-for-in-skips-shadowed"))for(var g=k._extraNames,e=g.length;e;)if(d=
g[--e],c=b[d],(c!==p[d]||!(d in p))&&d!=B){if("[object Function]"==v.call(c))c.nom=d;a[d]=c}return a};return f.declare=s})},"dijit/_WidgetBase":function(){define("require,dojo/_base/array,dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/ready,dojo/Stateful,dojo/topic,dojo/_base/window,./Destroyable,./registry".split(","),function(f,m,
k,l,j,e,h,i,c,a,g,d,b,n,o,q,t,s,r,p,v,w){function u(a){return function(b){i[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}b.add("dijit-legacy-requires",!n.isAsync);b("dijit-legacy-requires")&&t(0,function(){f(["dijit/_base/manager"])});var B={};return e("dijit._WidgetBase",[s,v],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:u("lang"),dir:"",_setDirAttr:u("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,
containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:l.blankGif||f.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=h.byId(b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&"string"==typeof this.srcNodeRef.id)this.id=this.srcNodeRef.id;if(a)this.params=a,o.mixin(this,a);this.postMixInProperties();if(!this.id)this.id=w.getUniqueId(this.declaredClass.replace(/\./g,
"_")),this.params&&delete this.params.id;this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:p.doc);this.ownerDocumentBody=p.body(this.ownerDocument);w.add(this);this.buildRendering();var d;if(this.domNode){this._applyAttributes();var c=this.srcNodeRef;c&&c.parentNode&&this.domNode!==c&&(c.parentNode.replaceChild(this.domNode,c),d=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();d&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=
this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],d;for(d in this.attributeMap)b.push(d);var a=a.prototype,c;for(c in a)c in this.attributeMap||"_set"+c.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(c)}var g={},e;for(e in this.params||{})g[e]=this[e];m.forEach(b,function(a){a in g||this[a]&&this.set(a,this[a])},this);for(e in g)this.set(e,g[e])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=
this.srcNodeRef||this.ownerDocument.createElement("div");if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(m.map(a,function(a){return a+"Rtl"})));c.add(this.domNode,a)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,m.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&o.isFunction(a.startup))a.startup(),a._started=!0})},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},
destroy:function(a){function b(d){d.destroyRecursive?d.destroyRecursive(a):d.destroy&&d.destroy(a)}this._beingDestroyed=!0;this.uninitialize();m.forEach(this._connects,o.hitch(this,"disconnect"));m.forEach(this._supportingWidgets,b);this.domNode&&m.forEach(w.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);w.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?i.remove(this.domNode,
"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){m.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;o.isObject(a)?d.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,d){d=3<=arguments.length?d:this.attributeMap[a];
m.forEach(o.isArray(d)?d:[d],function(d){var g=this[d.node||d||"domNode"];switch(d.type||"attribute"){case "attribute":o.isFunction(b)&&(b=o.hitch(this,b));d=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;g.tagName?i.set(g,d,b):g.set(d,b);break;case "innerText":g.innerHTML="";g.appendChild(this.ownerDocument.createTextNode(b));break;case "innerHTML":g.innerHTML=b;break;case "class":c.replace(g,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?
this[b.g]():this[a]},set:function(a,b){if("object"===typeof a){for(var d in a)this.set(d,a[d]);return this}d=this._getAttrNames(a);var c=this[d.s];if(o.isFunction(c))var g=c.apply(this,Array.prototype.slice.call(arguments,1));else{var c=this.focusNode&&!o.isFunction(this.focusNode)?"focusNode":"domNode",e=this[c].tagName,h;if(!(h=B[e])){h=this[c];var f={},i;for(i in h)f[i.toLowerCase()]=!0;h=B[e]=f}i=a in this.attributeMap?this.attributeMap[a]:d.s in this?this[d.s]:d.l in h&&"function"!=typeof b||
/^aria-|^data-|^role$/.test(a)?c:null;null!=i&&this._attrToDom(a,b,i);this._set(a,b)}return g||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var d=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+d+"Attr",g:"_get"+d+"Attr",l:d.toLowerCase()}},_set:function(a,b){var d=this[a];this[a]=b;if(this._created&&!(b===d||b!==b&&d!==d))this._watchCallbacks&&this._watchCallbacks(a,d,b),this.emit("attrmodified-"+
a,{detail:{prevValue:d,newValue:b}})},emit:function(a,b,d){b=b||{};if(void 0===b.bubbles)b.bubbles=!0;if(void 0===b.cancelable)b.cancelable=!0;if(!b.detail)b.detail={};b.detail.widget=this;var c,g=this["on"+a];g&&(c=g.apply(this,d?d:[b]));this._started&&!this._beingDestroyed&&q.emit(this.domNode,a.toLowerCase(),b);return c},on:function(a,b){var d=this._onMap(a);return d?k.after(this,d,b,!0):this.own(q(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,d=b._onMap;if(!d){var d=b._onMap=
{},c;for(c in b.prototype)/^on/.test(c)&&(d[c.replace(/^on/,"").toLowerCase()]=c)}return d["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?w.findWidgets(this.containerNode):[]},getParent:function(){return w.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,d){return this.own(j.connect(a,b,this,d))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(r.subscribe(a,
o.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:g.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=d.get(this.domNode,"display")},placeAt:function(b,d){var c=!b.tagName&&w.byId(b);c&&c.addChild&&(!d||"number"===typeof d)?c.addChild(this,d):(c=c?c.containerNode&&!/after|before|replace/.test(d||"")?c.containerNode:c.domNode:h.byId(b,this.ownerDocument),a.place(this.domNode,c,d),!this._started&&(this.getParent()||
{})._started&&this.startup());return this},getTextDir:function(a,b){return b},applyTextDir:function(){},defer:function(a,b){var d=setTimeout(o.hitch(this,function(){d&&(d=null,this._destroyed||o.hitch(this,a)())}),b||0);return{remove:function(){d&&(clearTimeout(d),d=null);return null}}}})})},"dojo/Stateful":function(){define("dojo/Stateful",["./_base/declare","./_base/lang","./_base/array","./when"],function(f,m,k,l){return f("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(f){var e=
this._attrPairNames;return e[f]?e[f]:e[f]={s:"_"+f+"Setter",g:"_"+f+"Getter"}},postscript:function(f){f&&this.set(f)},_get:function(f,e){return"function"===typeof this[e.g]?this[e.g]():this[f]},get:function(f){return this._get(f,this._getAttrNames(f))},set:function(f,e){if("object"===typeof f){for(var h in f)f.hasOwnProperty(h)&&"_watchCallbacks"!=h&&this.set(h,f[h]);return this}h=this._getAttrNames(f);var i=this._get(f,h);h=this[h.s];var c;"function"===typeof h?c=h.apply(this,Array.prototype.slice.call(arguments,
1)):this[f]=e;if(this._watchCallbacks){var a=this;l(c,function(){a._watchCallbacks(f,i,e)})}return this},_changeAttrValue:function(f,e){var h=this.get(f);this[f]=e;this._watchCallbacks&&this._watchCallbacks(f,h,e);return this},watch:function(f,e){var h=this._watchCallbacks;if(!h)var i=this,h=this._watchCallbacks=function(a,d,b,c){var e=function(c){if(c)for(var c=c.slice(),e=0,f=c.length;e<f;e++)c[e].call(i,a,d,b)};e(h["_"+a]);c||e(h["*"])};!e&&"function"===typeof f?(e=f,f="*"):f="_"+f;var c=h[f];
"object"!==typeof c&&(c=h[f]=[]);c.push(e);var a={};a.unwatch=a.remove=function(){var a=k.indexOf(c,e);-1<a&&c.splice(a,1)};return a}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(f,m){return function(k,l,j,e){var h=k&&"function"===typeof k.then,i=h&&k instanceof m;if(h){if(!i)h=new f(k.cancel),k.then(h.resolve,h.reject,h.progress),k=h.promise}else return 1<arguments.length?l?l(k):k:(new f).resolve(k);return l||j||e?k.then(l,j,e):k}})},"dijit/Destroyable":function(){define(["dojo/_base/array",
"dojo/aspect","dojo/_base/declare"],function(f,m,k){return k("dijit.Destroyable",null,{destroy:function(){this._destroyed=!0},own:function(){f.forEach(arguments,function(f){var j="destroyRecursive"in f?"destroyRecursive":"destroy"in f?"destroy":"remove",e=m.before(this,"destroy",function(e){f[j](e)}),h=m.after(f,j,function(){e.remove();h.remove()},!0)},this);return arguments}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],
function(f,m,k,l,j){var e={},h={},i={length:0,add:function(c){if(h[c.id])throw Error("Tried to register widget with id=="+c.id+" but that id is already registered");h[c.id]=c;this.length++},remove:function(c){h[c]&&(delete h[c],this.length--)},byId:function(c){return"string"==typeof c?h[c]:c},byNode:function(c){return h[c.getAttribute("widgetId")]},toArray:function(){var c=[],a;for(a in h)c.push(h[a]);return c},getUniqueId:function(c){var a;do a=c+"_"+(c in e?++e[c]:e[c]=0);while(h[a]);return"dijit"==
j._scopeName?a:j._scopeName+"_"+a},findWidgets:function(c,a){function g(b){for(b=b.firstChild;b;b=b.nextSibling)if(1==b.nodeType){var c=b.getAttribute("widgetId");c?(c=h[c])&&d.push(c):b!==a&&g(b)}}var d=[];g(c);return d},_destroyAll:function(){j._curFocus=null;j._prevFocus=null;j._activeStack=[];f.forEach(i.findWidgets(l.body()),function(c){c._destroyed||(c.destroyRecursive?c.destroyRecursive():c.destroy&&c.destroy())})},getEnclosingWidget:function(c){for(;c;){var a=1==c.nodeType&&c.getAttribute("widgetId");
if(a)return h[a];c=c.parentNode}return null},_hash:h};return j.registry=i})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(f,m,k){var l=window,j={addOnWindowUnload:function(e,h){if(!f.windowUnloaded)k(l,"unload",f.windowUnloaded=function(){});k(l,"unload",m.hitch(e,h))},addOnUnload:function(e,f){k(l,"beforeunload",m.hitch(e,f))}};f.addOnWindowUnload=j.addOnWindowUnload;f.addOnUnload=j.addOnUnload;return j})},"dijit/main":function(){define(["dojo/_base/kernel"],function(f){return f.dijit})},
"dijit/_TemplatedMixin":function(){define("dojo/_base/lang,dojo/touch,./_WidgetBase,dojo/string,dojo/cache,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/sniff,dojo/_base/unload".split(","),function(f,m,k,l,j,e,h,i,c,a){var g=h("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:!1,_earlyTemplatedStartup:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var b=this.declaredClass,c=this;return l.substitute(a,this,
function(a,d){"!"==d.charAt(0)&&(a=f.getObject(d.substr(1),!1,c));if("undefined"==typeof a)throw Error(b+" template:"+d);return null==a?"":"!"==d.charAt(0)?a:a.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){if(!this.templateString)this.templateString=j(this.templatePath,{sanitize:!0});var a=g.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(f.isString(a)){if(b=i.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+
a);}else b=a.cloneNode(!0);this.domNode=b;this.inherited(arguments);this._attachTemplateNodes(b,function(a,b){return a.getAttribute(b)});this._beforeFillContent();this._fillContent(this.srcNodeRef)},_beforeFillContent:function(){},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},_attachTemplateNodes:function(a,b){for(var c=f.isArray(a)?a:a.all||a.getElementsByTagName("*"),g=f.isArray(a)?0:-1;0>g||c[g];g++){var e=-1==g?a:c[g];if(!this.widgetsInTemplate||
!b(e,"dojoType")&&!b(e,"data-dojo-type")){var h=b(e,"dojoAttachPoint")||b(e,"data-dojo-attach-point");if(h)for(var i=h.split(/\s*,\s*/);h=i.shift();)f.isArray(this[h])?this[h].push(e):this[h]=e,this._attachPoints.push(h);if(h=b(e,"dojoAttachEvent")||b(e,"data-dojo-attach-event"))for(var i=h.split(/\s*,\s*/),l=f.trim;h=i.shift();)if(h){var j=null;-1!=h.indexOf(":")?(j=h.split(":"),h=l(j[0]),j=l(j[1])):h=l(h);j||(j=h);this._attachEvents.push(this.connect(e,m[h]||h,j))}}}},destroyRendering:function(){e.forEach(this._attachPoints,
function(a){delete this[a]},this);this._attachPoints=[];e.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});g._templateCache={};g.getCachedTemplate=function(a,b,c){var e=g._templateCache,h=a,f=e[h];if(f){try{if(!f.ownerDocument||f.ownerDocument==(c||document))return f}catch(j){}i.destroy(f)}a=l.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return e[h]=a;b=i.toDom(a,c);if(1!=b.nodeType)throw Error("Invalid template: "+a);return e[h]=b};c("ie")&&a.addOnWindowUnload(function(){var a=
g._templateCache,b;for(b in a){var c=a[b];"object"==typeof c&&i.destroy(c);delete a[b]}});f.extend(k,{dojoAttachEvent:"",dojoAttachPoint:""});return g})},"dojo/touch":function(){define("./_base/kernel,./aspect,./dom,./on,./has,./mouse,./domReady,./_base/window".split(","),function(f,m,k,l,j,e,h,i){function c(b,c){return a?function(a,g){var e=l(a,c,g),f=l(a,b,function(a){(!d||(new Date).getTime()>d+1E3)&&g.call(this,a)});return{remove:function(){e.remove();f.remove()}}}:function(a,d){return l(a,b,
d)}}var a=j("touch"),g=!1;j("ios")&&(m=navigator.userAgent.match(/OS ([\d_]+)/)?RegExp.$1:"1",g=5>parseFloat(m.replace(/_/,".").replace(/_/g,"")));var d,b,n;a&&(h(function(){n=i.body();i.doc.addEventListener("touchstart",function(a){d=(new Date).getTime();var b=n;n=a.target;l.emit(b,"dojotouchout",{target:b,relatedTarget:n,bubbles:!0});l.emit(n,"dojotouchover",{target:n,relatedTarget:b,bubbles:!0})},!0);l(i.doc,"touchmove",function(a){d=(new Date).getTime();if((a=i.doc.elementFromPoint(a.pageX-(g?
0:i.global.pageXOffset),a.pageY-(g?0:i.global.pageYOffset)))&&n!==a)l.emit(n,"dojotouchout",{target:n,relatedTarget:a,bubbles:!0}),l.emit(a,"dojotouchover",{target:a,relatedTarget:n,bubbles:!0}),n=a})}),b=function(a,b){return l(i.doc,"touchmove",function(d){if(a===i.doc||k.isDescendant(n,a))d.target=n,b.call(this,d)})});e={press:c("mousedown","touchstart"),move:c("mousemove",b),release:c("mouseup","touchend"),cancel:c(e.leave,"touchcancel"),over:c("mouseover","dojotouchover"),out:c("mouseout","dojotouchout"),
enter:e._eventHandler(c("mouseover","dojotouchover")),leave:e._eventHandler(c("mouseout","dojotouchout"))};return f.touch=e})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(f,m){var k={};m.setObject("dojo.string",k);k.rep=function(f,j){if(0>=j||!f)return"";for(var e=[];;){j&1&&e.push(f);if(!(j>>=1))break;f+=f}return e.join("")};k.pad=function(f,j,e,h){e||(e="0");f=""+f;j=k.rep(e,Math.ceil((j-f.length)/e.length));return h?f+j:j+f};k.substitute=function(l,j,e,h){h=h||f.global;
e=e?m.hitch(h,e):function(e){return e};return l.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(f,c,a){f=m.getObject(c,!1,j);a&&(f=m.getObject(a,!1,h).call(h,f,c));return e(f,c).toString()})};k.trim=String.prototype.trim?m.trim:function(f){for(var f=f.replace(/^\s+/,""),j=f.length-1;0<=j;j--)if(/\S/.test(f.charAt(j))){f=f.substring(0,j+1);break}return f};return k})},"dojo/cache":function(){define("dojo/cache",["./_base/kernel","./text"],function(f){return f.cache})},"dojo/text":function(){define(["./_base/kernel",
"require","./has","./_base/xhr"],function(f,m,k,l){var j;j=function(a,c,d){l("GET",{url:a,sync:!!c,load:d,headers:f.config.textPluginHeaders||{}})};var e={},h=function(a){if(a){var a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,""),c=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(a=c[1])}else a="";return a},i={},c={};f.cache=function(a,c,d){var b;"string"==typeof a?/\//.test(a)?(b=a,d=c):b=m.toUrl(a.replace(/\./g,"/")+(c?"/"+c:"")):(b=a+"",d=c);a=void 0!=d&&"string"!=
typeof d?d.value:d;d=d&&d.sanitize;if("string"==typeof a)return e[b]=a,d?h(a):a;if(null===a)return delete e[b],null;b in e||j(b,!0,function(a){e[b]=a});return d?h(e[b]):e[b]};return{dynamic:!0,normalize:function(a,c){var d=a.split("!"),b=d[0];return(/^\./.test(b)?c(b):b)+(d[1]?"!"+d[1]:"")},load:function(a,g,d){var a=a.split("!"),b=1<a.length,f=a[0],l=g.toUrl(a[0]),a="url:"+l,k=i,m=function(a){d(b?h(a):a)};f in e?k=e[f]:a in g.cache?k=g.cache[a]:l in e&&(k=e[l]);if(k===i)if(c[l])c[l].push(m);else{var s=
c[l]=[m];j(l,!g.async,function(a){e[f]=e[l]=a;for(var b=0;b<s.length;)s[b++](a);delete c[l]})}else m(k)}}})},"dojo/_base/xhr":function(){define("./kernel,./sniff,require,../io-query,../dom,../dom-form,./Deferred,./config,./json,./lang,./array,../on,../aspect,../request/watch,../request/xhr,../request/util".split(","),function(f,m,k,l,j,e,h,i,c,a,g,d,b,n,o,q){f._xhrObj=o._create;var t=f.config;f.objectToQuery=l.objectToQuery;f.queryToObject=l.queryToObject;f.fieldToObject=e.fieldToObject;f.formToObject=
e.toObject;f.formToQuery=e.toQuery;f.formToJson=e.toJson;f._blockAsync=!1;var s=f._contentHandlers=f.contentHandlers={text:function(a){return a.responseText},json:function(a){return c.fromJson(a.responseText||null)},"json-comment-filtered":function(a){i.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.");
var a=a.responseText,b=a.indexOf("/*"),d=a.lastIndexOf("*/");if(-1==b||-1==d)throw Error("JSON was not comment filtered");return c.fromJson(a.substring(b+2,d))},javascript:function(a){return f.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&m("dom-qsa2.1")&&!b.querySelectorAll&&m("dom-parser")&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(m("ie")&&(!b||!b.documentElement)){var d=function(a){return"MSXML"+a+".DOMDocument"},d=["Microsoft.XMLDOM",d(6),d(4),d(3),
d(2)];g.some(d,function(d){try{var c=new ActiveXObject(d);c.async=!1;c.loadXML(a.responseText);b=c}catch(g){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?s["json-comment-filtered"](a):s.json(a)}};f._ioSetArgs=function(b,d,c,g){var i={args:b,url:b.url},n=null;if(b.form){var n=j.byId(b.form),k=n.getAttributeNode("action");i.url=i.url||(k?k.value:null);n=e.toObject(n)}k=[{}];n&&k.push(n);b.content&&k.push(b.content);b.preventCache&&
k.push({"dojo.preventCache":(new Date).valueOf()});i.query=l.objectToQuery(a.mixin.apply(null,k));i.handleAs=b.handleAs||"text";var m=new h(function(a){a.canceled=!0;d&&d(a);var b=a.ioArgs.error;if(!b)b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b;return b});m.addCallback(c);var o=b.load;o&&a.isFunction(o)&&m.addCallback(function(a){return o.call(b,a,i)});var s=b.error;s&&a.isFunction(s)&&m.addErrback(function(a){return s.call(b,a,i)});var q=b.handle;q&&a.isFunction(q)&&m.addBoth(function(a){return q.call(b,
a,i)});m.addErrback(function(a){return g(a,m)});t.ioPublish&&f.publish&&!1!==i.args.ioPublish&&(m.addCallbacks(function(a){f.publish("/dojo/io/load",[m,a]);return a},function(a){f.publish("/dojo/io/error",[m,a]);return a}),m.addBoth(function(a){f.publish("/dojo/io/done",[m,a]);return a}));m.ioArgs=i;return m};var r=function(a){a=s[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},p=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},v=function(a){0>=w&&(w=0,t.ioPublish&&f.publish&&
(!a||a&&!1!==a.ioArgs.args.ioPublish)&&f.publish("/dojo/io/stop"))},w=0;b.after(n,"_onAction",function(){w-=1});b.after(n,"_onInFlight",v);f._ioCancelAll=n.cancelAll;f._ioNotifyStart=function(a){t.ioPublish&&f.publish&&!1!==a.ioArgs.args.ioPublish&&(w||f.publish("/dojo/io/start"),w+=1,f.publish("/dojo/io/send",[a]))};f._ioWatch=function(b,d,c,g){b.ioArgs.options=b.ioArgs.args;a.mixin(b,{response:b.ioArgs,isValid:function(){return d(b)},isReady:function(){return c(b)},handleResponse:function(){return g(b)}});
n(b);v(b)};f._ioAddQueryToUrl=function(a){if(a.query.length)a.url+=(-1==a.url.indexOf("?")?"?":"&")+a.query,a.query=null};f.xhr=function(a,b,d){var c,g=f._ioSetArgs(b,function(){c&&c.cancel()},r,p),e=g.ioArgs;"postData"in b?e.query=b.postData:"putData"in b?e.query=b.putData:"rawBody"in b?e.query=b.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(a.toUpperCase()))&&f._ioAddQueryToUrl(e);var h={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:e};if("undefined"!==
typeof b.headers)h.headers=b.headers;if("undefined"!==typeof b.contentType){if(!h.headers)h.headers={};h.headers["Content-Type"]=b.contentType}if("undefined"!==typeof e.query)h.data=e.query;if("undefined"!==typeof b.sync)h.sync=b.sync;f._ioNotifyStart(g);try{c=o(e.url,h,!0)}catch(i){return g.cancel(),g}g.ioArgs.xhr=c.response.xhr;c.then(function(){g.resolve(g)}).otherwise(function(a){e.error=a;if(a.response)a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr;g.reject(a)});
return g};f.xhrGet=function(a){return f.xhr("GET",a)};f.rawXhrPost=f.xhrPost=function(a){return f.xhr("POST",a,!0)};f.rawXhrPut=f.xhrPut=function(a){return f.xhr("PUT",a,!0)};f.xhrDelete=function(a){return f.xhr("DELETE",a)};f._isDocumentOk=function(a){return q.checkStatus(a.status)};f._getText=function(a){var b;f.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};a.mixin(f.xhr,{_xhrObj:f._xhrObj,fieldToObject:e.fieldToObject,formToObject:e.toObject,objectToQuery:l.objectToQuery,formToQuery:e.toQuery,
formToJson:e.toJson,queryToObject:l.queryToObject,contentHandlers:s,_ioSetArgs:f._ioSetArgs,_ioCancelAll:f._ioCancelAll,_ioNotifyStart:f._ioNotifyStart,_ioWatch:f._ioWatch,_ioAddQueryToUrl:f._ioAddQueryToUrl,_isDocumentOk:f._isDocumentOk,_getText:f._getText,get:f.xhrGet,post:f.xhrPost,put:f.xhrPut,del:f.xhrDelete});return f.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(f){var m={};return{objectToQuery:function(k){var l=encodeURIComponent,j=[],e;for(e in k){var h=k[e];if(h!=m[e]){var i=
l(e)+"=";if(f.isArray(h))for(var c=0,a=h.length;c<a;++c)j.push(i+l(h[c]));else j.push(i+l(h))}}return j.join("&")},queryToObject:function(k){for(var l=decodeURIComponent,k=k.split("&"),j={},e,h,i=0,c=k.length;i<c;++i)if(h=k[i],h.length){var a=h.indexOf("=");0>a?(e=l(h),h=""):(e=l(h.slice(0,a)),h=l(h.slice(a+1)));"string"==typeof j[e]&&(j[e]=[j[e]]);f.isArray(j[e])?j[e].push(h):j[e]=h}return j}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(f,m,k,l){var j=
{fieldToObject:function(e){var f=null;if(e=m.byId(e)){var i=e.name,c=(e.type||"").toLowerCase();if(i&&c&&!e.disabled)if("radio"==c||"checkbox"==c){if(e.checked)f=e.value}else if(e.multiple){f=[];for(e=[e.firstChild];e.length;)for(i=e.pop();i;i=i.nextSibling)if(1==i.nodeType&&"option"==i.tagName.toLowerCase())i.selected&&f.push(i.value);else{i.nextSibling&&e.push(i.nextSibling);i.firstChild&&e.push(i.firstChild);break}}else f=e.value}return f},toObject:function(e){for(var h={},e=m.byId(e).elements,
i=0,c=e.length;i<c;++i){var a=e[i],g=a.name,d=(a.type||"").toLowerCase();if(g&&d&&0>"file|submit|image|reset|button".indexOf(d)&&!a.disabled){var b=h,l=g,a=j.fieldToObject(a);if(null!==a){var k=b[l];"string"==typeof k?b[l]=[k,a]:f.isArray(k)?k.push(a):b[l]=a}if("image"==d)h[g+".x"]=h[g+".y"]=h[g].x=h[g].y=0}}return h},toQuery:function(e){return k.objectToQuery(j.toObject(e))},toJson:function(e,f){return l.stringify(j.toObject(e),null,f?4:0)}};return j})},"dojo/_base/Deferred":function(){define("./kernel,../Deferred,../promise/Promise,../errors/CancelError,../has,./lang,../when".split(","),
function(f,m,k,l,j,e,h){var i=function(){},c=Object.freeze||function(){},a=f.Deferred=function(g){function d(a){if(h)throw Error("This deferred has already been resolved");f=a;h=!0;b()}function b(){for(var a;!a&&s;){var b=s;s=s.next;if(a=b.progress==i)h=!1;var d=q?b.error:b.resolved;j("config-useDeferredInstrumentation")&&q&&m.instrumentRejected&&m.instrumentRejected(f,!!d);if(d)try{var c=d(f);c&&"function"===typeof c.then?c.then(e.hitch(b.deferred,"resolve"),e.hitch(b.deferred,"reject"),e.hitch(b.deferred,
"progress")):(d=a&&void 0===c,a&&!d&&(q=c instanceof Error),b.deferred[d&&q?"reject":"resolve"](d?f:c))}catch(g){b.deferred.reject(g)}else q?b.deferred.reject(f):b.deferred.resolve(f)}}var f,h,q,t,s,r=this.promise=new k;this.resolve=this.callback=function(a){this.fired=0;this.results=[a,null];d(a)};this.reject=this.errback=function(a){q=!0;this.fired=1;j("config-useDeferredInstrumentation")&&m.instrumentRejected&&m.instrumentRejected(a,!!s);d(a);this.results=[null,a]};this.progress=function(a){for(var b=
s;b;){var d=b.progress;d&&d(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,i);return this};r.then=this.then=function(d,c,g){var e=g==i?this:new a(r.cancel),d={resolved:d,error:c,progress:g,deferred:e};s?t=t.next=d:s=t=d;h&&b();return e.promise};var p=this;r.cancel=this.cancel=function(){if(!h){var a=g&&g(p);if(!h)a instanceof Error||(a=new l(a)),a.log=!1,p.reject(a)}};c(r)};e.extend(a,{addCallback:function(a){return this.addCallbacks(e.hitch.apply(f,arguments))},addErrback:function(a){return this.addCallbacks(null,
e.hitch.apply(f,arguments))},addBoth:function(a){var d=e.hitch.apply(f,arguments);return this.addCallbacks(d,d)},fired:-1});a.when=f.when=h;return a})},"dojo/request/watch":function(){define("./util,../errors/RequestTimeoutError,../errors/CancelError,../_base/array,../_base/window,../has!host-browser?dom-addeventlistener?:../on:".split(","),function(f,m,k,l,j,e){function h(){for(var g=+new Date,d=0,b;d<a.length&&(b=a[d]);d++){var e=b.response,f=e.options;if(b.isCanceled&&b.isCanceled()||b.isValid&&
!b.isValid(e))a.splice(d--,1),i._onAction&&i._onAction();else if(b.isReady&&b.isReady(e))a.splice(d--,1),b.handleResponse(e),i._onAction&&i._onAction();else if(b.startTime&&b.startTime+(f.timeout||0)<g)a.splice(d--,1),b.cancel(new m("Timeout exceeded",e)),i._onAction&&i._onAction()}i._onInFlight&&i._onInFlight(b);a.length||(clearInterval(c),c=null)}function i(g){if(g.response.options.timeout)g.startTime=+new Date;g.isFulfilled()||(a.push(g),c||(c=setInterval(h,50)),g.response.options.sync&&h())}var c=
null,a=[];i.cancelAll=function(){try{l.forEach(a,function(a){try{a.cancel(new k("All requests canceled."))}catch(b){}})}catch(c){}};j&&e&&j.doc.attachEvent&&e(j.global,"unload",function(){i.cancelAll()});return i})},"dojo/request/util":function(){define("exports,../errors/RequestError,../errors/CancelError,../Deferred,../io-query,../_base/array,../_base/lang,../promise/Promise".split(","),function(f,m,k,l,j,e,h,i){function c(a){return g(a)}function a(a){return a.data||a.text}f.deepCopy=function(a,
b){for(var c in b){var g=a[c],e=b[c];g!==e&&(g&&"object"===typeof g&&e&&"object"===typeof e?f.deepCopy(g,e):a[c]=e)}return a};f.deepCreate=function(a,b){var b=b||{},c=h.delegate(a),g,e;for(g in a)(e=a[g])&&"object"===typeof e&&(c[g]=f.deepCreate(e,b[g]));return f.deepCopy(c,b)};var g=Object.freeze||function(a){return a};f.deferred=function(d,b,e,j,q,t){var s=new l(function(a){b&&b(s,d);return!a||!(a instanceof m)&&!(a instanceof k)?new k("Request canceled",d):a});s.response=d;s.isValid=e;s.isReady=
j;s.handleResponse=q;e=s.then(c).otherwise(function(a){a.response=d;throw a;});f.notify&&e.then(h.hitch(f.notify,"emit","load"),h.hitch(f.notify,"emit","error"));var j=e.then(a),q=new i,r;for(r in j)j.hasOwnProperty(r)&&(q[r]=j[r]);q.response=e;g(q);t&&s.then(function(a){t.call(s,a)},function(a){t.call(s,d,a)});s.promise=q;s.then=q.then;return s};f.addCommonMethods=function(a,b){e.forEach(b||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,g){g=h.delegate(g||
{});g.method=b;return a(c,g)}})};f.parseArgs=function(a,b,c){var g=b.data,e=b.query;if(g&&!c&&"object"===typeof g)b.data=j.objectToQuery(g);e?("object"===typeof e&&(e=j.objectToQuery(e)),b.preventCache&&(e+=(e?"&":"")+"request.preventCache="+ +new Date)):b.preventCache&&(e="request.preventCache="+ +new Date);a&&e&&(a+=(~a.indexOf("?")?"&":"?")+e);return{url:a,options:b,getHeader:function(){return null}}};f.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],
function(f){return f("RequestError",function(f,k){this.response=k})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(f,m){return f("RequestTimeoutError",null,m,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(f,m,k,l,j){function e(a,b){var d=a.xhr;a.status=a.xhr.status;a.text=d.responseText;if("xml"===a.options.handleAs)a.data=d.responseXML;if(!b)try{k(a)}catch(c){b=
c}b?this.reject(b):l.checkStatus(d.status)?this.resolve(a):(b=new f("Unable to load "+a.url+" status: "+d.status,a),this.reject(b))}function h(a){return this.xhr.getResponseHeader(a)}function i(k,s,o){var q=l.parseArgs(k,l.deepCreate(n,s),j("native-formdata")&&s&&s.data&&s.data instanceof FormData),k=q.url,s=q.options,v,w=l.deferred(q,d,c,a,e,function(){v&&v()}),u=q.xhr=i._create();if(!u)return w.cancel(new f("XHR was not created")),o?w:w.promise;q.getHeader=h;g&&(v=g(u,w,q));var B=s.data,N=!s.sync,
P=s.method;try{u.open(P,k,N,s.user||b,s.password||b);if(s.withCredentials)u.withCredentials=s.withCredentials;var L=s.headers,k="application/x-www-form-urlencoded";if(L)for(var E in L)"content-type"===E.toLowerCase()?k=L[E]:L[E]&&u.setRequestHeader(E,L[E]);k&&!1!==k&&u.setRequestHeader("Content-Type",k);(!L||!("X-Requested-With"in L))&&u.setRequestHeader("X-Requested-With","XMLHttpRequest");l.notify&&l.notify.emit("send",q,w.promise.cancel);u.send(B)}catch(M){w.reject(M)}m(w);u=null;return o?w:w.promise}
j.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});j.add("dojo-force-activex-xhr",function(){return j("activex")&&!document.addEventListener&&"file:"===window.location.protocol});j.add("native-xhr2",function(){if(j("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});j.add("native-formdata",function(){return"function"===typeof FormData});var c,a,g,d;j("native-xhr2")?(c=function(){return!this.isFulfilled()},
d=function(a,b){b.xhr.abort()},g=function(a,b,d){function c(){b.handleResponse(d)}function g(a){a=new f("Unable to load "+d.url+" status: "+a.target.status,d);b.handleResponse(d,a)}function e(a){if(a.lengthComputable)d.loaded=a.loaded,d.total=a.total,b.progress(d)}a.addEventListener("load",c,!1);a.addEventListener("error",g,!1);a.addEventListener("progress",e,!1);return function(){a.removeEventListener("load",c,!1);a.removeEventListener("error",g,!1);a.removeEventListener("progress",e,!1);a=null}}):
(c=function(a){return a.xhr.readyState},a=function(a){return 4===a.xhr.readyState},d=function(a,b){var d=b.xhr,c=typeof d.abort;("function"===c||"object"===c||"unknown"===c)&&d.abort()});var b,n={data:null,query:null,sync:!1,method:"GET"};i._create=function(){throw Error("XMLHTTP not available");};if(j("native-xhr")&&!j("dojo-force-activex-xhr"))i._create=function(){return new XMLHttpRequest};else if(j("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),i._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(o){try{new ActiveXObject("Microsoft.XMLHTTP"),
i._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(q){}}l.addCommonMethods(i);return i})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(f,m,k,l){function j(c){var a=i[c.options.handleAs];c.data=a?a(c):c.data||c.text;return c}l.add("activex","undefined"!==typeof ActiveXObject);l.add("dom-parser",function(c){return"DOMParser"in c});var e;if(l("activex")){var h=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0",
"MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];e=function(c){var a=c.data;a&&l("dom-qsa2.1")&&!a.querySelectorAll&&l("dom-parser")&&(a=(new DOMParser).parseFromString(c.text,"application/xml"));if(!a||!a.documentElement){var g=c.text;k.some(h,function(d){try{var b=new ActiveXObject(d);b.async=!1;b.loadXML(g);a=b}catch(c){return!1}return!0})}return a}}var i={javascript:function(c){return m.eval(c.text||"")},json:function(c){return f.parse(c.text||null)},xml:e};j.register=function(c,a){i[c]=a};return j})},
"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/parser"],function(f,m,k){return m("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,_beforeFillContent:function(){if(this.widgetsInTemplate){var f=this._startupWidgets=k.parse(this.domNode,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"});if(!f.isFulfilled())throw Error(this.declaredClass+
": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");this._attachTemplateNodes(f,function(f,e){return f[e]})}},startup:function(){f.forEach(this._startupWidgets,function(f){f&&!f._started&&f.startup&&f.startup()});this.inherited(arguments)}})})},"url:ninja/widget/MainWidget.html":'<div>\n\n    <div data-dojo-attach-point="channelView" class="view" style="display:none;">\n        <div data-dojo-attach-point="channelFragment" data-dojo-type="ninja.widget.ChannelFragment">\n        </div>\n    </div>\n\n\t<div data-dojo-attach-point="queueListView" class="view" style="display:none;">\n    \t<div data-dojo-attach-point="queueListWidget" data-dojo-type="ninja.widget.QueueList">\n    \t</div>\n    </div>\n\n    <div data-dojo-attach-point="languageSettingView" class="view" style="display:none;">\n    \t<div data-dojo-attach-point="languageSettingWidget" data-dojo-type="ninja.widget.SubtitleFragment">  \n    \t</div>\n    </div>\n\n    <div data-dojo-attach-point="settingView" class="view" style="display:none;">\n        <div data-dojo-attach-point="settingWidget" data-dojo-type="ninja.widget.SettingFragment">  \n        </div>\n    </div>\n\n    <div data-dojo-attach-point="liveView" class="view" style="display:none;">\n        <div data-dojo-attach-point="liveWidget" data-dojo-type="ninja.widget.LiveFragment">  \n        </div>\n    </div>\n\n    <div data-dojo-id="seekPanel" style="position:fixed; bottom:60px; z-index:1000; width:100%; \n        height:40px; ling-height:60px; background-image:none;" class="fixedHeading">\n\n        <div data-dojo-attach-point="seekBarContainer" data-dojo-type="dijit.layout.ContentPane" style="width:100%; height:100%;">\n        </div>\n    </div>\n\n    <div data-dojo-type="dojox.mobile.Heading" data-dojo-id="heading" style="position:fixed; bottom:0px; z-index:1000;\n        height:60px; ling-height:60px; background-color:rgb(226, 226, 226); background-image:none;" class="fixedHeading">    \n        \n        <div data-dojo-attach-point="mediaController" data-dojo-type="ninja.widget.MediaController">\n        </div>\n    </div>\n    \n</div>',
"ninja/mobile/service/input":function(){define("dojo/_base/declare,dojo/Evented,dojo/on,dojo/_base/array,dojo/has,ninja/promise/GeneralPurposePromise,ninja/mobile/Dialog,ninja/mobile/List,ninja/mobile/ListItem,ninja/mobile/Button,ninja/mobile/ListItemPool,dojo/domReady!".split(","),function(f,m,k,l,j,e,h,i,c,a,g){var d=new h({draggable:!1,displayTitle:!1,closable:!0,style:"width:85%"});d.startup();d._setup();document.body.appendChild(d.domNode);var b=new g(4,{styleClass:"ninjaListItem_Action"}),n=
new i;n.startup();var o=new c({text:"Cancel",styleClass:"ninjaListItem_Action"});return new (f("",[m],{select:function(a,c,g){var f=this;n.clearChildren();var h=b.getListItems(c.length+1);l.forEach(c,function(a,b){var d=h[b];d.option=a;d.set("styleClass","ninjaListItem_Action");d.set("text",a.text);a.image?d.set("image",a.image):d.set("image","");n.addListItem(d)});g&&n.addListItem(o);""!=a?d.set("displayTitle",!0):d.set("displayTitle",!1);d.addChild(n);d.set("title",a);d.show();var i=new e(this.onCancel),
j=k(n,"select",function(a){if(a.listItem==o)i.rejectResult();else{if(void 0!=a.listItem.option.confirmMessage&&!f.noTitleConfirm(a.listItem.option.confirmMessage))return;i.submitResult(a.listItem.option)}d.hide()});k.once(d,"hide",function(){j.remove()});return i},onCancel:function(){d.hide()},showDialog:function(){var a=new h({draggable:!1,displayTitle:!1,style:"width:85%"});a.startup();a._setup();document.body.appendChild(a.domNode);a.show()},noTitleAlert:function(a){var b=document.createElement("IFRAME");
b.setAttribute("src","data:text/plain,");document.documentElement.appendChild(b);window.frames[0].window.alert(a);b.parentNode.removeChild(b)},noTitleConfirm:function(a){if(j("android"))a=window.confirm(a);else{var b=document.createElement("IFRAME");b.setAttribute("src","data:text/plain,");document.documentElement.appendChild(b);a=window.frames[0].window.confirm(a);b.parentNode.removeChild(b)}return a},noTitleTextBox:function(a,b){return prompt(a,b)}}))})},"ninja/promise/GeneralPurposePromise":function(){define(["dojo/_base/declare",
"dojo/promise/Promise"],function(f,m){return f("ninja.GeneralPurposePromise",[m],{resolved:!1,rejected:!1,canceled:!1,successCallback:null,errCallback:null,progCallback:null,cancelCallback:null,constructor:function(f){this.cancelCallback=f},then:function(f,l,j){this.successCallback=f;this.errCallback=l;this.progCallback=j},cancel:function(){this.canceled=!0},isResolved:function(){return this.resolved},isRejected:function(){return this.isRejected},isFulfilled:function(){return this.resolved||this.rejected||
this.canceled},isCanceled:function(){return this.isCanceled},submitResult:function(f){this.resolved=!0;null!=this.successCallback&&!this.canceled&&this.successCallback(f)},rejectResult:function(f){this.rejected=!0;null!=this.errCallback&&!this.canceled&&this.errCallback(f)},cancel:function(f){this.canceled=!0;null!=this.cancelCallback&&this.cancelCallback(f)}})})},"ninja/mobile/Dialog":function(){define("dojo/_base/declare,dijit/Dialog,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/dom-style,dojo/_base/lang,dijit/DialogUnderlay".split(","),
function(f,m,k,l,j,e,h,i){return f("ninja.mobile.Dialog",[m],{preventTouchstartSignal:null,preventTouchendSignal:null,underlayTouchSignal:null,duration:0,closable:!0,displayTitle:!0,modal:!0,constructor:function(){this.inherited(arguments);h.mixin(arguments)},startup:function(c){this.inherited(arguments);this._setup();e.set(this.closeButtonNode,"display","none")},preventTouch:function(c){c.preventDefault();return!1},show:function(){var c=this;this.inherited(arguments);this.preventTouchstartSignal=
k(document,"touchstart",this.preventTouch);this.preventTouchendSignal=k(document,"touchend",this.preventTouch);!1==this.modal?e.set(i._singleton.domNode,"opacity","0"):e.set(i._singleton.domNode,"opacity","1");this.underlayTouchSignal=k(i._singleton,"touchstart",function(){c.closable&&c.hide()})},hide:function(){this.inherited(arguments);this.preventTouchstartSignal&&this.preventTouchstartSignal.remove();this.preventTouchendSignal&&this.preventTouchendSignal.remove();this.underlayTouchSignal&&this.underlayTouchSignal.remove();
this.emit("hide")},_setDisplayTitleAttr:function(c){c?e.set(this.titleBar,"display","block"):e.set(this.titleBar,"display","none")}})})},"dijit/Dialog":function(){define("require,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/_base/fx,dojo/i18n,dojo/keys,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/window,dojo/dnd/Moveable,dojo/dnd/TimedMoveable,./focus,./_base/manager,./_Widget,./_TemplatedMixin,./_CssStateMixin,./form/_FormMixin,./_DialogMixin,./DialogUnderlay,./layout/ContentPane,dojo/text!./templates/Dialog.html,./main,dojo/i18n!./nls/common".split(","),
function(f,m,k,l,j,e,h,i,c,a,g,d,b,n,o,q,t,s,r,p,v,w,u,B,N,P,L,E,M,Q,A){var w=l("dijit._DialogBase",[B,P,L,N],{templateString:Q,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:!1,duration:w.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},"aria-describedby":"",maxRatio:0.9,
postMixInProperties:function(){var a=d.getLocalization("dijit","common");n.mixin(this,a);this.inherited(arguments)},postCreate:function(){c.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[]},onLoad:function(){this._position();this.autofocus&&x.isTop(this)&&(this._getFocusItems(this.domNode),v.focus(this._firstFocusItem));
this.inherited(arguments)},_endDrag:function(){var a=i.position(this.domNode),b=s.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==t("ie")?p:r)(a,{handle:this.titleBar}),this.connect(this._moveable,"onMoveStop","_endDrag")):h.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":m.map(this["class"].split(/\s/),
function(a){return a+"_underlay"}).join(" "),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild();if(this._singleChild){if("undefined"!=typeof this._singleChildOriginalStyle)this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle}else c.set(this.containerNode,{width:"auto",height:"auto"});var a=i.position(this.domNode),b=s.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;if(a.w>=b.w||a.h>=b.h){var d=i.position(this.containerNode),
g=Math.min(a.w,b.w)-(a.w-d.w),a=Math.min(a.h,b.h)-(a.h-d.h);if(this._singleChild&&this._singleChild.resize){if("undefined"==typeof this._singleChildOriginalStyle)this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;this._singleChild.resize({w:g,h:a})}else c.set(this.containerNode,{width:g+"px",height:a+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!h.contains(this.ownerDocumentBody,
"dojoMove")){var a=this.domNode,b=s.getBox(this.ownerDocument),d=this._relativePosition,g=d?null:i.position(a);c.set(a,{left:Math.floor(b.l+(d?d.x:(b.w-g.w)/2))+"px",top:Math.floor(b.t+(d?d.y:(b.h-g.h)/2))+"px"})}},_onKey:function(d){if(d.charOrCode){var c=d.target;d.charOrCode===b.TAB&&this._getFocusItems(this.domNode);var g=this._firstFocusItem==this._lastFocusItem;if(c==this._firstFocusItem&&d.shiftKey&&d.charOrCode===b.TAB)g||v.focus(this._lastFocusItem),a.stop(d);else if(c==this._lastFocusItem&&
d.charOrCode===b.TAB&&!d.shiftKey)g||v.focus(this._firstFocusItem),a.stop(d);else{for(;c;){if(c==this.domNode||h.contains(c,"dijitPopup"))if(d.charOrCode==b.ESCAPE)this.onCancel();else return;c=c.parentNode}if(d.charOrCode!==b.TAB)a.stop(d);else if(!t("opera"))try{this._firstFocusItem.focus()}catch(e){}}}},show:function(){if(!this.open){this._started||this.startup();if(!this._alreadyInitialized)this._setup(),this._alreadyInitialized=!0;this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),x.hide(this));
var a=s.get(this.ownerDocument);this._modalconnects.push(o(a,"scroll",n.hitch(this,"resize")));this._modalconnects.push(o(this.domNode,k._keypress,n.hitch(this,"_onKey")));c.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this._size();this._position();var b;this._fadeInDeferred=new j(n.hitch(this,function(){b.stop();delete this._fadeInDeferred}));b=g.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:n.hitch(this,function(){x.show(this,this.underlayAttrs)}),
onEnd:n.hitch(this,function(){this.autofocus&&x.isTop(this)&&(this._getFocusItems(this.domNode),v.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return this._fadeInDeferred}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();var a;this._fadeOutDeferred=new j(n.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(n.hitch(this,"onHide"));a=g.fadeOut({node:this.domNode,
duration:this.duration,onEnd:n.hitch(this,function(){this.domNode.style.display="none";x.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();if(this._scrollConnected)this._scrollConnected=!1;for(var b;b=this._modalconnects.pop();)b.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return this._fadeOutDeferred}},resize:function(){"none"!=this.domNode.style.display&&(E._singleton&&E._singleton.layout(),t("touch")||this._position(),this._size())},
destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();x.hide(this);this.inherited(arguments)}}),z=l("dijit.Dialog",[M,w],{});z._DialogBase=w;var x=z._DialogLevelManager={_beginZIndex:950,show:function(a,b){y[y.length-1].focus=v.curNode;var d=E._singleton;!d||d._destroyed?d=A._underlay=E._singleton=new E(b):d.set(a.underlayAttrs);var g=y[y.length-
1].dialog?y[y.length-1].zIndex+2:z._DialogLevelManager._beginZIndex;1==y.length&&d.show();c.set(E._singleton.domNode,"zIndex",g-1);c.set(a.domNode,"zIndex",g);y.push({dialog:a,underlayAttrs:b,zIndex:g})},hide:function(a){if(y[y.length-1].dialog==a){y.pop();var b=y[y.length-1];E._singleton._destroyed||(1==y.length?E._singleton.hide():(c.set(E._singleton.domNode,"zIndex",b.zIndex-1),E._singleton.set(b.underlayAttrs)));if(a.refocus){a=b.focus;if(b.dialog&&(!a||!e.isDescendant(a,b.dialog.domNode)))b.dialog._getFocusItems(b.dialog.domNode),
a=b.dialog._firstFocusItem;if(a)try{a.focus()}catch(d){}}}else b=m.indexOf(m.map(y,function(a){return a.dialog}),a),-1!=b&&y.splice(b,1)},isTop:function(a){return y[y.length-1].dialog==a}},y=z._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];t("dijit-legacy-requires")&&q(0,function(){f(["dijit/TooltipDialog"])});return z})},"dojo/_base/fx":function(){define("./kernel,./config,./lang,../Evented,./Color,./connect,./sniff,../dom,../dom-style".split(","),function(f,m,k,l,j,e,h,i,c){var a=k.mixin,
g={},d=g._Line=function(a,b){this.start=a;this.end=b};d.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var b=g.Animation=function(b){a(this,b);if(k.isArray(this.curve))this.curve=new d(this.curve[0],this.curve[1])};b.prototype=new l;k.extend(b,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var d=b||[];if(this[a])if(m.debugAtAllCosts)this[a].apply(this,d);else try{this[a].apply(this,
d)}catch(c){console.error("exception in animation handler for:",a),console.error(c)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var d=a||this.delay,c=k.hitch(this,"_play",b);if(0<d)return this._delayTimer=setTimeout(c,d),this;c();return this},_play:function(){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();
this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;var a=this.curve.getValue(this._getStep());if(!this._percent){if(!this._startRepeatCount)this._startRepeatCount=this.repeat;this._fire("onBegin",[a])}this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,
b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();if(a)this._percent=1;this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/
this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);if(1>this._percent)this._startTimer();else{this._active=!1;if(0<this.repeat)this.repeat--,this.play(null,!0);else if(-1==this.repeat)this.play(null,!0);else if(this._startRepeatCount)this.repeat=this._startRepeatCount,this._startRepeatCount=0;this._percent=0;this._fire("onEnd",[this.node]);!this.repeat&&this._stopTimer()}}return this},_clearTimer:function(){clearTimeout(this._delayTimer);
delete this._delayTimer}});var n=0,o=null,q={run:function(){}};k.extend(b,{_startTimer:function(){if(!this._timer)this._timer=e.connect(q,"run",this,"_cycle"),n++;o||(o=setInterval(k.hitch(q,"run"),this.rate))},_stopTimer:function(){if(this._timer)e.disconnect(this._timer),this._timer=null,n--;0>=n&&(clearInterval(o),o=null,n=0)}});var t=h("ie")?function(a){var b=a.style;if(!b.width.length&&"auto"==c.get(a,"width"))b.width="auto"}:function(){};g._fade=function(b){b.node=i.byId(b.node);var d=a({properties:{}},
b),b=d.properties.opacity={};b.start=!("start"in d)?function(){return+c.get(d.node,"opacity")||0}:d.start;b.end=d.end;b=g.animateProperty(d);e.connect(b,"beforeBegin",k.partial(t,d.node));return b};g.fadeIn=function(b){return g._fade(a({end:1},b))};g.fadeOut=function(b){return g._fade(a({end:0},b))};g._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var s=function(a){this._properties=a;for(var b in a){var d=a[b];if(d.start instanceof j)d.tempColor=new j}};s.prototype.getValue=function(a){var b=
{},d;for(d in this._properties){var c=this._properties[d],g=c.start;g instanceof j?b[d]=j.blendColors(g,c.end,a,c.tempColor).toCss():k.isArray(g)||(b[d]=(c.end-g)*a+g+("opacity"!=d?c.units||"px":0))}return b};g.animateProperty=function(d){var g=d.node=i.byId(d.node);if(!d.easing)d.easing=f._defaultEasing;d=new b(d);e.connect(d,"beforeBegin",d,function(){var b={},d;for(d in this.properties){if("width"==d||"height"==d)this.node.display="block";var e=this.properties[d];k.isFunction(e)&&(e=e(g));e=b[d]=
a({},k.isObject(e)?e:{end:e});if(k.isFunction(e.start))e.start=e.start(g);if(k.isFunction(e.end))e.end=e.end(g);var f=0<=d.toLowerCase().indexOf("color"),h=function(a,b){var d={height:a.offsetHeight,width:a.offsetWidth}[b];if(void 0!==d)return d;d=c.get(a,b);return"opacity"==b?+d:f?d:parseFloat(d)};if("end"in e){if(!("start"in e))e.start=h(g,d)}else e.end=h(g,d);f?(e.start=new j(e.start),e.end=new j(e.end)):e.start="opacity"==d?+e.start:parseFloat(e.start)}this.curve=new s(b)});e.connect(d,"onAnimate",
k.hitch(c,"set",d.node));return d};g.anim=function(a,d,c,e,f,h){return g.animateProperty({node:a,duration:c||b.prototype.duration,properties:d,easing:e,onEnd:f}).play(h||0)};a(f,g);f._Animation=b;return g})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(f,m,k,l){var j=f.Color=function(e){e&&this.setColor(e)};j.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,
255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:l.transparentColor||[0,0,0,0]};m.extend(j,{r:255,g:255,b:255,a:1,_set:function(e,f,i,c){this.r=e;this.g=f;this.b=i;this.a=c},setColor:function(e){m.isString(e)?j.fromString(e,this):m.isArray(e)?j.fromArray(e,this):(this._set(e.r,e.g,e.b,e.a),e instanceof j||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,
this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(e){e=this[e].toString(16);return 2>e.length?"0"+e:e},this).join("")},toCss:function(e){var f=this.r+", "+this.g+", "+this.b;return(e?"rgba("+f+", "+this.a:"rgb("+f)+")"},toString:function(){return this.toCss(!0)}});j.blendColors=f.blendColors=function(e,f,i,c){var a=c||new j;k.forEach(["r","g","b","a"],function(c){a[c]=e[c]+(f[c]-e[c])*i;"a"!=c&&(a[c]=Math.round(a[c]))});
return a.sanitize()};j.fromRgb=f.colorFromRgb=function(e,f){var i=e.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return i&&j.fromArray(i[1].split(/\s*,\s*/),f)};j.fromHex=f.colorFromHex=function(e,f){var i=f||new j,c=4==e.length?4:8,a=(1<<c)-1,e=Number("0x"+e.substr(1));if(isNaN(e))return null;k.forEach(["b","g","r"],function(g){var d=e&a;e>>=c;i[g]=4==c?17*d:d});i.a=1;return i};j.fromArray=f.colorFromArray=function(e,f){var i=f||new j;i._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3]));
if(isNaN(i.a))i.a=1;return i.sanitize()};j.fromString=f.colorFromString=function(e,f){var i=j.named[e];return i&&j.fromArray(i,f)||j.fromRgb(e,f)||j.fromHex(e,f)};return j})},"dojo/i18n":function(){define("./_base/kernel,require,./has,./_base/array,./_base/config,./_base/lang,./_base/xhr,./json,module".split(","),function(f,m,k,l,j,e,h,i,c){k.add("dojo-preload-i18n-Api",1);var h=f.i18n={},a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,g=function(a,b,d,c){for(var g=[d+c],b=b.split("-"),e="",f=0;f<b.length;f++)e+=
(e?"-":"")+b[f],(!a||a[e])&&g.push(d+e+"/"+c);return g},d={},b=function(a,b,d){d=d?d.toLowerCase():f.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(d)?a+"/nls/"+b:a+"/nls/"+d+"/"+b};f.getL10nName=function(a,d,g){return c.id+"!"+b(a,d,g)};var n=function(a,b,c,f,h,i){a([b],function(l){var j=e.clone(l.root||l.ROOT),k=g(!l._v1x&&l,h,c,f);a(k,function(){for(var a=1;a<k.length;a++)j=e.mixin(e.clone(j),arguments[a]);d[b+"/"+h]=j;i()})})},o=function(a){var b=j.extraLocale||[],b=e.isArray(b)?
b:[b];b.push(a);return b},q=function(b,c,g){if(k("dojo-preload-i18n-Api")){var h=b.split("*"),j="preload"==h[1];j&&(d[b]||(d[b]=1,v(h[2],i.parse(h[3]),1,c)),g(1));if(!(h=j))r&&p.push([b,c,g]),h=r;if(h)return}var b=a.exec(b),m=b[1]+"/",s=b[5]||b[4],q=m+s,h=(b=b[5]&&b[4])||f.locale,t=q+"/"+h,b=b?[h]:o(h),u=b.length,B=function(){--u||g(e.delegate(d[t]))};l.forEach(b,function(a){var b=q+"/"+a;k("dojo-preload-i18n-Api")&&w(b);d[b]?B():n(c,q,m,s,a,B)})};if(k("dojo-unit-tests"))var t=h.unitTests=[];k("dojo-preload-i18n-Api");
var s=h.normalizeLocale=function(a){a=a?a.toLowerCase():f.locale;return"root"==a?"ROOT":a},r=0,p=[],v=h._preloadLocalizations=function(a,b,c,g){function h(a,b){g([a],b)}function i(a,b){for(var d=a.split("-");d.length;){if(b(d.join("-")))return;d.pop()}b("ROOT")}function j(){for(--r;!r&&p.length;)q.apply(null,p.shift())}function k(c){c=s(c);i(c,function(f){if(0<=l.indexOf(b,f)){var k=a.replace(/\./g,"/")+"_"+f;r++;h(k,function(a){for(var b in a){var h=a[b],l=b.match(/(.+)\/([^\/]+)$/),k;if(l){k=l[2];
l=l[1]+"/";h._localized=h._localized||{};var n;if("ROOT"===f){var s=n=h._localized;delete h._localized;s.root=h;d[m.toAbsMid(b)]=s}else n=h._localized,d[m.toAbsMid(l+k+"/"+f)]=h;f!==c&&function(a,b,f,h){var l=[],k=[];i(c,function(d){h[d]&&(l.push(m.toAbsMid(a+d+"/"+b)),k.push(m.toAbsMid(a+b+"/"+d)))});l.length?(r++,g(l,function(){for(var g=0;g<l.length;g++)f=e.mixin(e.clone(f),arguments[g]),d[k[g]]=f;d[m.toAbsMid(a+b+"/"+c)]=e.clone(f);j()})):d[m.toAbsMid(a+b+"/"+c)]=f}(l,k,h,n)}}j()});return!0}return!1})}
g=g||m;k();l.forEach(f.config.extraLocale,k)},w=function(){},u={},B=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
w=function(a){for(var b,c=a.split("/"),g=f.global[c[0]],e=1;g&&e<c.length-1;g=g[c[e++]]);g&&((b=g[c[e]])||(b=g[c[e].replace(/-/g,"_")]),b&&(d[a]=b));return b};h.getLocalization=function(a,d,c){var g,a=b(a,d,c);q(a,m,function(a){g=a});return g};k("dojo-unit-tests")&&t.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=B("{prop:1}",w,"nonsense",u);a.is({prop:1},b);a.is(void 0,b[1]);b=B("({prop:1})",w,"nonsense",u);a.is({prop:1},b);a.is(void 0,b[1]);b=B("{'prop-x':1}",w,"nonsense",u);
a.is({"prop-x":1},b);a.is(void 0,b[1]);b=B("({'prop-x':1})",w,"nonsense",u);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=B("define({'prop-x':1})",w,"nonsense",u);a.is(u,b);a.is({"prop-x":1},u.result);b=B("define('some/module', {'prop-x':1})",w,"nonsense",u);a.is(u,b);a.is({"prop-x":1},u.result);b=B("this is total nonsense and should throw an error",w,"nonsense",u);a.is(b instanceof Error,!0)})});return e.mixin(h,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:q,cache:d})})},"dojo/window":function(){define("./_base/lang,./sniff,./_base/window,./dom,./dom-geometry,./dom-style,./dom-construct".split(","),
function(f,m,k,l,j,e,h){m.add("rtl-adjust-position-for-verticalScrollBar",function(c,a){var g=k.body(a),d=h.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},g,"last"),b=h.create("div",{style:{overflow:"hidden",direction:"ltr"}},d,"last"),e=0!=j.position(b).x;d.removeChild(b);g.removeChild(d);return e});m.add("position-fixed-support",function(c,a){var g=k.body(a),d=h.create("span",{style:{visibility:"hidden",
position:"fixed",left:"1px",top:"1px"}},g,"last"),b=h.create("span",{style:{position:"fixed",left:"0",top:"0"}},d,"last"),e=j.position(b).x!=j.position(d).x;d.removeChild(b);g.removeChild(d);return e});var i={getBox:function(c){var c=c||k.doc,a="BackCompat"==c.compatMode?k.body(c):c.documentElement,g=j.docScroll(c);if(m("touch"))var d=i.get(c),c=d.innerWidth||a.clientWidth,a=d.innerHeight||a.clientHeight;else c=a.clientWidth,a=a.clientHeight;return{l:g.x,t:g.y,w:c,h:a}},get:function(c){if(m("ie")&&
i!==document.parentWindow){c.parentWindow.execScript("document._parentWindow = window;","Javascript");var a=c._parentWindow;c._parentWindow=null;return a}return c.parentWindow||c.defaultView},scrollIntoView:function(c,a){try{var c=l.byId(c),g=c.ownerDocument||k.doc,d=k.body(g),b=g.documentElement||d.parentNode,f=m("ie"),h=m("webkit");if(!(c==d||c==b))if(!m("mozilla")&&!f&&!h&&!m("opera")&&!m("trident")&&"scrollIntoView"in c)c.scrollIntoView(!1);else{var i="BackCompat"==g.compatMode,t=Math.min(d.clientWidth||
b.clientWidth,b.clientWidth||d.clientWidth),s=Math.min(d.clientHeight||b.clientHeight,b.clientHeight||d.clientHeight),g=h||i?d:b,r=a||j.position(c),p=c.parentNode,h=function(a){return 6>=f||7==f&&i?!1:m("position-fixed-support")&&"fixed"==e.get(a,"position").toLowerCase()},v=this,w=function(a,b,d){"BODY"==a.tagName||"HTML"==a.tagName?v.get(a.ownerDocument).scrollBy(b,d):(b&&(a.scrollLeft+=b),d&&(a.scrollTop+=d))};if(!h(c))for(;p;){p==d&&(p=g);var u=j.position(p),B=h(p),N="rtl"==e.getComputedStyle(p).direction.toLowerCase();
if(p==g){u.w=t;u.h=s;if(g==b&&(f||m("trident"))&&N)u.x+=g.offsetWidth-u.w;if(0>u.x||!f||9<=f||m("trident"))u.x=0;if(0>u.y||!f||9<=f||m("trident"))u.y=0}else{var P=j.getPadBorderExtents(p);u.w-=P.w;u.h-=P.h;u.x+=P.l;u.y+=P.t;var L=p.clientWidth,E=u.w-L;if(0<L&&0<E)N&&m("rtl-adjust-position-for-verticalScrollBar")&&(u.x+=E),u.w=L;L=p.clientHeight;E=u.h-L;if(0<L&&0<E)u.h=L}if(B){if(0>u.y)u.h+=u.y,u.y=0;if(0>u.x)u.w+=u.x,u.x=0;if(u.y+u.h>s)u.h=s-u.y;if(u.x+u.w>t)u.w=t-u.x}var M=r.x-u.x,Q=r.y-u.y,A=M+
r.w-u.w,z=Q+r.h-u.h,x,y;if(0<A*M&&(p.scrollLeft||p==g||p.scrollWidth>p.offsetHeight)){x=Math[0>M?"max":"min"](M,A);if(N&&(8==f&&!i||9<=f||m("trident")))x=-x;y=p.scrollLeft;w(p,x,0);x=p.scrollLeft-y;r.x-=x}if(0<z*Q&&(p.scrollTop||p==g||p.scrollHeight>p.offsetHeight))x=Math.ceil(Math[0>Q?"max":"min"](Q,z)),y=p.scrollTop,w(p,0,x),x=p.scrollTop-y,r.y-=x;p=p!=g&&!B&&p.parentNode}}}catch(K){console.error("scrollIntoView: "+K),c.scrollIntoView(!1)}}};f.setObject("dojo.window",i);return i})},"dojo/dnd/Moveable":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../dom,../dom-class,../Evented,../on,../topic,../touch,./common,./Mover,../_base/window".split(","),
function(f,m,k,l,j,e,h,i,c,a,g,d,b){return m("dojo.dnd.Moveable",[h],{handle:"",delay:0,skip:!1,constructor:function(b,c){this.node=j.byId(b);c||(c={});this.handle=c.handle?j.byId(c.handle):null;if(!this.handle)this.handle=this.node;this.delay=0<c.delay?c.delay:0;this.skip=c.skip;this.mover=c.mover?c.mover:d;this.events=[i(this.handle,a.press,l.hitch(this,"onMouseDown")),i(this.handle,"dragstart",l.hitch(this,"onSelectStart")),i(this.handle,"selectstart",l.hitch(this,"onSelectStart"))]},markupFactory:function(a,
b,d){return new d(b,a)},destroy:function(){f.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(b){if(!this.skip||!g.isFormElement(b)){if(this.delay)this.events.push(i(this.handle,a.move,l.hitch(this,"onMouseMove")),i(this.handle,a.release,l.hitch(this,"onMouseUp"))),this._lastX=b.pageX,this._lastY=b.pageY;else this.onDragDetected(b);k.stop(b)}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>
this.delay)this.onMouseUp(a),this.onDragDetected(a);k.stop(a)},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();k.stop(a)},onSelectStart:function(a){(!this.skip||!g.isFormElement(a))&&k.stop(a)},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){c.publish("/dnd/move/start",a);e.add(b.body(),"dojoMove");e.add(this.node,"dojoMoveItem")},onMoveStop:function(a){c.publish("/dnd/move/stop",a);e.remove(b.body(),"dojoMove");e.remove(this.node,"dojoMoveItem")},
onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var d=a.node.style;d.left=b.l+"px";d.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/common":function(){define(["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(f,m,k,l){var j=k.getObject("dojo.dnd",!0);j.getCopyKeyState=f.isCopyKey;j._uniqueId=0;j.getUniqueId=function(){var e;do e=m._scopeName+"Unique"+ ++j._uniqueId;while(l.byId(e));return e};j._empty={};j.isFormElement=
function(e){e=e.target;if(3==e.nodeType)e=e.parentNode;return 0<=" button textarea input select option ".indexOf(" "+e.tagName.toLowerCase()+" ")};return j})},"dojo/dnd/Mover":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../sniff,../_base/window,../dom,../dom-geometry,../dom-style,../Evented,../on,../touch,./common,./autoscroll".split(","),function(f,m,k,l,j,e,h,i,c,a,g,d,b,n){return m("dojo.dnd.Mover",[a],{constructor:function(a,b,c){this.node=h.byId(a);this.marginBox=
{l:b.pageX,t:b.pageY};this.mouseButton=b.button;b=this.host=c;a=a.ownerDocument;this.events=[g(a,d.move,l.hitch(this,"onFirstMove")),g(a,d.move,l.hitch(this,"onMouseMove")),g(a,d.release,l.hitch(this,"onMouseUp")),g(a,"dragstart",k.stop),g(a.body,"selectstart",k.stop)];n.autoScrollStart(a);if(b&&b.onMoveStart)b.onMoveStart(this)},onMouseMove:function(a){n.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);k.stop(a)},onMouseUp:function(a){(j("webkit")&&j("mac")&&
2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();k.stop(a)},onFirstMove:function(a){var b=this.node.style,d,g=this.host;switch(b.position){case "relative":case "absolute":d=Math.round(parseFloat(b.left))||0;b=Math.round(parseFloat(b.top))||0;break;default:b.position="absolute";b=i.getMarginBox(this.node);d=e.doc.body;var f=c.getComputedStyle(d),h=i.getMarginBox(d,f),f=i.getContentBox(d,f);d=b.l-(f.l-h.l);b=b.t-(f.t-h.t)}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=
b-this.marginBox.t;if(g&&g.onFirstMove)g.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){f.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang,../sniff,../_base/window,../dom-geometry,../dom-style,../window".split(","),function(f,m,k,l,j,e){var h={};f.setObject("dojo.dnd.autoscroll",h);h.getViewport=e.getBox;h.V_TRIGGER_AUTOSCROLL=32;
h.H_TRIGGER_AUTOSCROLL=32;h.V_AUTOSCROLL_VALUE=16;h.H_AUTOSCROLL_VALUE=16;var i,c=k.doc,a=Infinity,g=Infinity;h.autoScrollStart=function(d){c=d;i=e.getBox(c);d=k.body(c).parentNode;a=Math.max(d.scrollHeight-i.h,0);g=Math.max(d.scrollWidth-i.w,0)};h.autoScroll=function(d){var b=i||e.getBox(c),f=k.body(c).parentNode,l=0,j=0;d.clientX<h.H_TRIGGER_AUTOSCROLL?l=-h.H_AUTOSCROLL_VALUE:d.clientX>b.w-h.H_TRIGGER_AUTOSCROLL&&(l=Math.min(h.H_AUTOSCROLL_VALUE,g-f.scrollLeft));d.clientY<h.V_TRIGGER_AUTOSCROLL?
j=-h.V_AUTOSCROLL_VALUE:d.clientY>b.h-h.V_TRIGGER_AUTOSCROLL&&(j=Math.min(h.V_AUTOSCROLL_VALUE,a-f.scrollTop));window.scrollBy(l,j)};h._validNodes={div:1,p:1,td:1};h._validOverflow={auto:1,scroll:1};h.autoScrollNodes=function(a){for(var b,c,g,e,f,i,r=0,p=0,v=a.target;v;){if(1==v.nodeType&&v.tagName.toLowerCase()in h._validNodes){g=j.getComputedStyle(v);e=g.overflow.toLowerCase()in h._validOverflow;f=g.overflowX.toLowerCase()in h._validOverflow;i=g.overflowY.toLowerCase()in h._validOverflow;if(e||
f||i)b=l.getContentBox(v,g),c=l.position(v,!0);if(e||f){g=Math.min(h.H_TRIGGER_AUTOSCROLL,b.w/2);f=a.pageX-c.x;if(m("webkit")||m("opera"))f+=k.body().scrollLeft;r=0;0<f&&f<b.w&&(f<g?r=-g:f>b.w-g&&(r=g),v.scrollLeft+=r)}if(e||i){e=Math.min(h.V_TRIGGER_AUTOSCROLL,b.h/2);i=a.pageY-c.y;if(m("webkit")||m("opera"))i+=k.body().scrollTop;p=0;0<i&&i<b.h&&(i<e?p=-e:i>b.h-e&&(p=e),v.scrollTop+=p)}if(r||p)return}try{v=v.parentNode}catch(w){v=null}}h.autoScroll(a)};return h})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare",
"./Moveable"],function(f,m){var k=m.prototype.onMove;return f("dojo.dnd.TimedMoveable",m,{timeout:40,constructor:function(f,j){j||(j={});if(j.timeout&&"number"==typeof j.timeout&&0<=j.timeout)this.timeout=j.timeout},onMoveStop:function(f){f._timer&&(clearTimeout(f._timer),k.call(this,f,f._leftTop));m.prototype.onMoveStop.apply(this,arguments)},onMove:function(f,j){f._leftTop=j;if(!f._timer){var e=this;f._timer=setTimeout(function(){f._timer=null;k.call(e,f,f._leftTop)},this.timeout)}}})})},"dijit/focus":function(){define("dojo/aspect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/Evented,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/Stateful,dojo/_base/unload,dojo/_base/window,dojo/window,./a11y,./registry,./main".split(","),
function(f,m,k,l,j,e,h,i,c,a,g,d,b,n,o,q,t){var s,r=new (m([g,e],{curNode:null,activeStack:[],constructor:function(){var a=h.hitch(this,function(a){k.isDescendant(this.curNode,a)&&this.set("curNode",null);k.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});f.before(j,"empty",a);f.before(j,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var d=this,c=a.document&&a.document.body;if(c){var g=i(c,"mousedown",function(a){d._justMouseDowned=
!0;setTimeout(function(){d._justMouseDowned=!1},13);if(!a||!(a.target&&null==a.target.parentNode))d._onTouchNode(b||a.target,"mouse")}),e=i(c,"focusin",function(a){s=(new Date).getTime();if(a.target.tagName){var c=a.target.tagName.toLowerCase();"#document"==c||"body"==c||(o.isFocusable(a.target)?d._onFocusNode(b||a.target):d._onTouchNode(b||a.target))}}),f=i(c,"focusout",function(a){(new Date).getTime()<s+100||d._onBlurNode(b||a.target)});return{remove:function(){g.remove();e.remove();f.remove();
c=g=e=f=null}}}},_onBlurNode:function(){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(h.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);if(!this._justMouseDowned)this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(h.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)},_onTouchNode:function(a,d){this._clearActiveWidgetsTimer&&
(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var c=[];try{for(;a;){var g=l.get(a,"dijitPopupParent");if(g)a=q.byId(g).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===b.body())break;a=n.get(a.ownerDocument).frameElement}else{var e=a.getAttribute&&a.getAttribute("widgetId"),f=e&&q.byId(e);f&&!("mouse"==d&&f.get("disabled"))&&c.unshift(e);a=a.parentNode}}}catch(h){}this._setStack(c,d)},_onFocusNode:function(a){a&&9!=a.nodeType&&(this._clearFocusTimer&&
(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var d=this.activeStack;this.set("activeStack",a);for(var c=0;c<Math.min(d.length,a.length)&&!(d[c]!=a[c]);c++);for(var g,e=d.length-1;e>=c;e--)if(g=q.byId(d[e]))g._hasBeenBlurred=!0,g.set("focused",!1),g._focusManager==this&&g._onBlur(b),this.emit("widget-blur",g,b);for(e=c;e<a.length;e++)if(g=q.byId(a[e]))g.set("focused",
!0),g._focusManager==this&&g._onFocus(b),this.emit("widget-focus",g,b)},focus:function(a){if(a)try{a.focus()}catch(b){}}}));c(function(){var c=r.registerWin(n.get(b.doc));a("ie")&&d.addOnWindowUnload(function(){c&&(c.remove(),c=null)})});t.focus=function(a){r.focus(a)};for(var p in r)/^_/.test(p)||(t.focus[p]="function"==typeof r[p]?h.hitch(r,p):r[p]);r.watch(function(a,b,d){t.focus[a]=d});return r})},"dijit/a11y":function(){define("dojo/_base/array,dojo/dom,dojo/dom-attr,dojo/dom-style,dojo/_base/lang,dojo/sniff,./main".split(","),
function(f,m,k,l,j,e,h){var i={_isElementShown:function(c){var a=l.get(c);return"hidden"!=a.visibility&&"collapsed"!=a.visibility&&"none"!=a.display&&"hidden"!=k.get(c,"type")},hasDefaultTabStop:function(c){switch(c.nodeName.toLowerCase()){case "a":return k.has(c,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var a;try{var g=c.contentDocument;if("designMode"in g&&"on"==g.designMode)return!0;a=g.body}catch(d){try{a=c.contentWindow.document.body}catch(b){return!1}}return a&&
("true"==a.contentEditable||a.firstChild&&"true"==a.firstChild.contentEditable);default:return"true"==c.contentEditable}},effectiveTabIndex:function(c){return k.get(c,"disabled")?void 0:k.has(c,"tabIndex")?+k.get(c,"tabIndex"):i.hasDefaultTabStop(c)?0:void 0},isTabNavigable:function(c){return 0<=i.effectiveTabIndex(c)},isFocusable:function(c){return-1<=i.effectiveTabIndex(c)},_getTabNavigable:function(c){function a(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var g,d,b,f,h,j,l={},m=i._isElementShown,r=i.effectiveTabIndex,p=function(c){for(c=c.firstChild;c;c=c.nextSibling)if(!(1!=c.nodeType||9>=e("ie")&&"HTML"!==c.scopeName||!m(c))){var i=r(c);if(0<=i){if(0==i)g||(g=c),d=c;else if(0<i){if(!b||i<f)f=i,b=c;if(!h||i>=j)j=i,h=c}i=a(c);k.get(c,"checked")&&i&&(l[i]=c)}"SELECT"!=c.nodeName.toUpperCase()&&p(c)}};m(c)&&p(c);return{first:l[a(g)]||g,last:l[a(d)]||d,lowest:l[a(b)]||b,highest:l[a(h)]||h}},getFirstInTabbingOrder:function(c,
a){var g=i._getTabNavigable(m.byId(c,a));return g.lowest?g.lowest:g.first},getLastInTabbingOrder:function(c,a){var g=i._getTabNavigable(m.byId(c,a));return g.last?g.last:g.highest}};j.mixin(h,i);return i})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(f,m,k,l,j){var e={};f.forEach("byId,getUniqueId,findWidgets,_destroyAll,byNode,getEnclosingWidget".split(","),function(f){e[f]=l[f]});k.mixin(e,{defaultDuration:m.defaultDuration||
200});k.mixin(j,e);return j})},"dijit/_Widget":function(){define("dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/ready,./registry,./_WidgetBase,./_OnDijitClickMixin,./_FocusMixin,dojo/uacss,./hccss".split(","),function(f,m,k,l,j,e,h,i,c,a,g,d,b){function n(){}function o(a){return function(b,d,c,g){return b&&"string"==typeof d&&b[d]==n?b.on(d.substring(2).toLowerCase(),h.hitch(c,g)):a.apply(k,arguments)}}f.around(k,"connect",
o);e.connect&&f.around(e,"connect",o);f=l("dijit._Widget",[g,d,b],{onClick:n,onDblClick:n,onKeyDown:n,onKeyPress:n,onKeyUp:n,onMouseDown:n,onMouseMove:n,onMouseOut:n,onMouseOver:n,onMouseLeave:n,onMouseEnter:n,onMouseUp:n,constructor:function(a){this._toConnect={};for(var b in a)this[b]===n&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,
b){return this[this._onMap(a)]===n?k.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){e.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,b)},attr:function(a,b){if(m.isDebug){var d=arguments.callee._ach||(arguments.callee._ach={}),c=(arguments.callee.caller||"unknown caller").toString();d[c]||(e.deprecated(this.declaredClass+
"::attr() is deprecated. Use get() or set() instead, called from "+c,"","2.0"),d[c]=!0)}return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){e.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?i("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});j("dijit-legacy-requires")&&
c(0,function(){require(["dijit/_base"])});return f})},"dijit/_OnDijitClickMixin":function(){define("dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window,./a11yclick".split(","),function(f,m,k,l,j,e,h,i){f=l("dijit._OnDijitClickMixin",null,{connect:function(c,a,g){return this.inherited(arguments,[c,"ondijitclick"==a?i:a,g])}});f.a11yclick=i;return f})},"dijit/a11yclick":function(){define("dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window".split(","),
function(f,m,k,l,j,e,h){function i(a){return(a.keyCode===k.ENTER||a.keyCode===k.SPACE)&&!a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey}var c=null;j("dom-addeventlistener")?h.doc.addEventListener("keydown",function(a){c=a.target},!0):function(){var a=function(a){c=a.srcElement};h.doc.attachEvent("onkeydown",a);e.addOnWindowUnload(function(){h.doc.detachEvent("onkeydown",a)})}();return function(a,g){if(/input|button/i.test(a.nodeName))return f(a,"click",g);var d=[f(a,"keydown",function(a){if(i(a))c=
a.target,a.preventDefault()}),f(a,"keyup",function(a){i(a)&&a.target==c&&(c=null,f.emit(a.target,"click",{cancelable:!0,bubbles:!0}))}),f(a,"click",function(a){g.call(this,a)})];if(j("touch")){var b;d.push(f(a,"touchend",function(a){var d=a.target;b=setTimeout(function(){b=null;f.emit(d,"click",{cancelable:!0,bubbles:!0})},600)}),f(a,"click",function(){b&&clearTimeout(b)}))}return{remove:function(){m.forEach(d,function(a){a.remove()});b&&(clearTimeout(b),b=null)}}}})},"dijit/_FocusMixin":function(){define(["./focus",
"./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(f,m,k,l){l.extend(m,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return k("dijit._FocusMixin",null,{_focusManager:f})})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(f,m,k,l,j){var e=j.doc.documentElement,j=l("ie"),h=l("opera"),i=Math.floor,c=l("ff"),a=f.boxModel.replace(/-/,""),h={dj_quirks:l("quirks"),
dj_opera:h,dj_khtml:l("khtml"),dj_webkit:l("webkit"),dj_safari:l("safari"),dj_chrome:l("chrome"),dj_gecko:l("mozilla")};if(j)h.dj_ie=!0,h["dj_ie"+i(j)]=!0,h.dj_iequirks=l("quirks");c&&(h["dj_ff"+i(c)]=!0);h["dj_"+a]=!0;var g="",d;for(d in h)h[d]&&(g+=d+" ");e.className=m.trim(e.className+" "+g);k(90,function(){if(!f.isBodyLtr()){var a="dj_rtl dijitRtl "+g.replace(/ /g,"-rtl ");e.className=m.trim(e.className+" "+a+"dj_rtl dijitRtl "+g.replace(/ /g,"-rtl "))}});return l})},"dijit/hccss":function(){define(["dojo/dom-class",
"dojo/hccss","dojo/ready","dojo/_base/window"],function(f,m,k,l){k(90,function(){m("highcontrast")&&f.add(l.body(),"dijit_a11y")});return m})},"dojo/hccss":function(){define("require,./_base/config,./dom-class,./dom-style,./has,./ready,./_base/window".split(","),function(f,m,k,l,j,e,h){j.add("highcontrast",function(){var e=h.doc.createElement("div");e.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(m.blankGif||f.toUrl("./resources/blank.gif"))+
");";h.body().appendChild(e);var c=l.getComputedStyle(e),a=c.backgroundImage,c=c.borderTopColor==c.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);8>=j("ie")?e.outerHTML="":h.body().removeChild(e);return c});e(90,function(){j("highcontrast")&&k.add(h.body(),"dj_a11y")});return j})},"dijit/_CssStateMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/has,dojo/_base/lang,dojo/on,dojo/ready,dojo/_base/window,./registry".split(","),function(f,m,k,l,j,e,h,
i,c,a){m=m("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);f.forEach("disabled,readOnly,checked,selected,focused,state,hovering,active,_opened".split(","),function(a){this.watch(a,e.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes)this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":this._set("active",!0);break;case "mouseup":case "touchend":this._set("active",!1)}},_setStateClass:function(){function a(b){d=d.concat(f.map(d,function(a){return a+b}),"dijit"+b)}var d=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var b="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(b);this.state&&a(this.state);
this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var b=this.stateNode||this.domNode,c={};f.forEach(b.className.split(" "),function(a){c[a]=!0});"_stateClasses"in this&&f.forEach(this._stateClasses,function(a){delete c[a]});f.forEach(d,function(a){c[a]=!0});var e=[],h;for(h in c)e.push(h);b.className=e.join(" ");this._stateClasses=d},_subnodeCssMouseEvent:function(a,
d,b){function c(b){l.toggle(a,d+"Active",b)}if(!this.disabled&&!this.readOnly)switch(b.type){case "mouseover":l.toggle(a,d+"Hover",!0);break;case "mouseout":l.toggle(a,d+"Hover",!1);c(!1);break;case "mousedown":case "touchstart":c(!0);break;case "mouseup":case "touchend":c(!1);break;case "focus":case "focusin":l.toggle(a,d+"Focused",!0);break;case "blur":case "focusout":l.toggle(a,d+"Focused",!1)}},_trackMouseState:function(a,d){a._cssState=d}});i(function(){function g(b){if(!k.isDescendant(b.relatedTarget,
b.target))for(var d=b.target;d&&d!=b.relatedTarget;d=d.parentNode)if(d._cssState){var c=a.getEnclosingWidget(d);c&&(d==c.domNode?c._cssMouseEvent(b):c._subnodeCssMouseEvent(d,d._cssState,b))}}function d(a){a.target=a.srcElement;g(a)}var b=c.body(),e=(j("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);f.forEach(e,function(a){b.addEventListener?b.addEventListener(a,g,!0):b.attachEvent("on"+a,d)});h(b,"focusin, focusout",function(b){var d=b.target;d._cssState&&
!d.getAttribute("widgetId")&&a.getEnclosingWidget(d)._subnodeCssMouseEvent(d,d._cssState,b)})});return m})},"dijit/form/_FormMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/window".split(","),function(f,m,k,l,j,e){return m("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(e){var i=[];f.forEach(e||this.getChildren(),function(c){"value"in c?i.push(c):i=i.concat(this._getDescendantFormWidgets(c.getChildren()))},this);
return i},reset:function(){f.forEach(this._getDescendantFormWidgets(),function(e){e.reset&&e.reset()})},validate:function(){var h=!1;return f.every(f.map(this._getDescendantFormWidgets(),function(f){f._hasBeenBlurred=!0;var c=f.disabled||!f.validate||f.validate();!c&&!h&&(e.scrollIntoView(f.containerNode||f.domNode),f.focus(),h=!0);return c}),function(e){return e})},setValues:function(e){k.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",
e)},_setValueAttr:function(e){var i={};f.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(i[a.name]||(i[a.name]=[])).push(a)});for(var c in i)if(i.hasOwnProperty(c)){var a=i[c],g=l.getObject(c,!1,e);void 0!==g&&(l.isArray(g)||(g=[g]),"boolean"==typeof a[0].checked?f.forEach(a,function(a){a.set("value",-1!=f.indexOf(g,a.value))}):a[0].multiple?a[0].set("value",g):f.forEach(a,function(a,b){a.set("value",g[b])}))}},getValues:function(){k.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.",
"","2.0");return this.get("value")},_getValueAttr:function(){var e={};f.forEach(this._getDescendantFormWidgets(),function(f){var c=f.name;if(c&&!f.disabled){var a=f.get("value");"boolean"==typeof f.checked?/Radio/.test(f.declaredClass)?!1!==a?l.setObject(c,a,e):(a=l.getObject(c,!1,e),void 0===a&&l.setObject(c,null,e)):(f=l.getObject(c,!1,e),f||(f=[],l.setObject(c,f,e)),!1!==a&&f.push(a)):(f=l.getObject(c,!1,e),"undefined"!=typeof f?l.isArray(f)?f.push(a):l.setObject(c,[f,a],e):l.setObject(c,a,e))}});
return e},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var e=f.map(this._descendants,function(e){return e.get("state")||""});return 0<=f.indexOf(e,"Error")?"Error":0<=f.indexOf(e,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(e){this._descendants=this._getDescendantFormWidgets();f.forEach(this._descendants,function(e){e._started||e.startup()});e||this._onChildChange()},_onChildChange:function(e){(!e||"state"==
e||"disabled"==e)&&this._set("state",this._getState());if(!e||"value"==e||"disabled"==e||"checked"==e)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var e=this;this.own(j(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",
function(f){f.target!=e.domNode&&e._onChildChange(f.type.replace("attrmodified-",""))}));this.watch("state",function(e,c,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(f,m){return f("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var f=m._getTabNavigable(this.containerNode);
this._firstFocusItem=f.lowest||f.first||this.closeButtonNode||this.domNode;this._lastFocusItem=f.last||f.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare,dojo/dom-attr,dojo/window,./_Widget,./_TemplatedMixin,./BackgroundIframe".split(","),function(f,m,k,l,j,e){return f("dijit.DialogUnderlay",[l,j],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",
_setDialogIdAttr:function(e){m.set(this.node,"id",e+"_underlay");this._set("dialogId",e)},_setClassAttr:function(e){this.node.className="dijitDialogUnderlay "+e;this._set("class",e)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode)},layout:function(){var e=this.node.style,f=this.domNode.style;f.display="none";var c=k.getBox(this.ownerDocument);f.top=c.t+"px";f.left=c.l+"px";e.width=c.w+"px";e.height=c.h+"px";f.display="block"},show:function(){this.domNode.style.display="block";
this.layout();this.bgIframe=new e(this.domNode)},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none"}})})},"dijit/BackgroundIframe":function(){define("require,./main,dojo/_base/config,dojo/dom-construct,dojo/dom-style,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window".split(","),function(f,m,k,l,j,e,h,i,c){i.add("bgIframe",i("ie")||i("mozilla"));var a=new function(){var a=[];this.pop=function(){var d;a.length?(d=a.pop(),d.style.display=""):(9>i("ie")?
(d="<iframe src='"+(k.dojoBlankHtmlUrl||f.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>",d=c.doc.createElement(d)):(d=l.create("iframe"),d.src='javascript:""',d.className="dijitBackgroundIframe",d.setAttribute("role","presentation"),j.set(d,"opacity",0.1)),d.tabIndex=-1);return d};this.push=function(d){d.style.display="none";a.push(d)}};m.BackgroundIframe=function(c){if(!c.id)throw Error("no id");
if(i("bgIframe")){var d=this.iframe=a.pop();c.appendChild(d);7>i("ie")||i("quirks")?(this.resize(c),this._conn=h(c,"resize",e.hitch(this,function(){this.resize(c)}))):j.set(d,{width:"100%",height:"100%"})}};e.extend(m.BackgroundIframe,{resize:function(a){this.iframe&&j.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){if(this._conn)this._conn.remove(),this._conn=null;this.iframe&&(a.push(this.iframe),delete this.iframe)}});return m.BackgroundIframe})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel,dojo/_base/lang,../_Widget,../_Container,./_ContentPaneResizeMixin,dojo/string,dojo/html,dojo/i18n!../nls/loading,dojo/_base/array,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/_base/xhr,dojo/i18n,dojo/when".split(","),
function(f,m,k,l,j,e,h,i,c,a,g,d,b,n,o,q,t){return a("dijit.layout.ContentPane",[k,l,j],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:f._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},
onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){for(var b=d.byId(b),c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);a=m.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=q.getLocalization("dijit","loading",this.lang);this.loadingMessage=e.substitute(this.loadingMessage,a);this.errorMessage=e.substitute(this.errorMessage,
a)},buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode;this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&c.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=!0},this)},_startChildren:function(){c.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=
!0});this._contentSetter&&c.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=!0},this)},setHref:function(a){f.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new g(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&
this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){f.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href","");this.cancel();this.onLoadDeferred=new g(m.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},
cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new g(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,
"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};m.isObject(this.ioArgs)&&m.mixin(b,this.ioArgs);var d=this._xhrDfd=(this.ioMethod||o.get)(b),c;d.then(function(b){c=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(d){a._onError("Content",d)}},function(b){d.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();
delete a._xhrDfd;return c});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;c.forEach(this.getChildren(),
function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(c.forEach(b.parseResults,function(b){if(!b._destroyed)b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0}),delete b.parseResults);a||n.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();var d=this._contentSetter;if(!(d&&d instanceof h._ContentSetter))d=this._contentSetter=new h._ContentSetter({node:this.containerNode,
_onError:m.hitch(this,this._onError),onContentError:m.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})});var c=m.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),c=d.set(m.isObject(a)&&a.domNode?
a.domNode:a,c),g=this;return t(c&&c.then?c:d.parseDeferred,function(){delete g._contentSetterParams;b||(g._started&&(g._startChildren(),g._scheduleLayout()),g._onLoadHandler(a))})},_onError:function(a,b,d){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);d?console.error(d,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},
"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(f,m,k){return m("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},addChild:function(f,j){var e=this.containerNode;if(j&&"number"==typeof j){var h=this.getChildren();if(h&&h.length>=j)e=h[j-1].domNode,j="after"}k.place(f.domNode,e,j);this._started&&!f._started&&f.startup()},removeChild:function(f){"number"==typeof f&&
(f=this.getChildren()[f]);if(f)(f=f.domNode)&&f.parentNode&&f.parentNode.removeChild(f)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(l,j){var e=this.getChildren(),h=f.indexOf(this.getChildren(),l);return e[h+j]},getIndexOfChild:function(l){return f.indexOf(this.getChildren(),l)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/query,dojo/sniff,../registry,../Viewport,./utils".split(","),
function(f,m,k,l,j,e,h,i,c,a,g){return m("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var d=this.getParent();this._childOfLayoutWidget=d&&d.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",e.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],b=!1;h("> *",this.containerNode).some(function(g){var e=
c.byNode(g);e&&e.resize?a.push(e):g.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;k.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,b){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&l.setMarginBox(this.domNode,
a);var c=this.containerNode;if(c===this.domNode){var f=b||{};e.mixin(f,a||{});if(!("h"in f)||!("w"in f))f=e.mixin(l.getMarginBox(c),f);this._contentBox=g.marginBox2contentBox(c,f)}else this._contentBox=l.getContentBox(c);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||l.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else f.forEach(this.getChildren(),function(a){a.resize&&
a.resize()})},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!k.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/Viewport":function(){define("dojo/Evented,dojo/on,dojo/ready,dojo/sniff,dojo/_base/window,dojo/window".split(","),
function(f,m,k,l,j,e){var h=new f,i;k(200,function(){var c=e.getBox();h._rlh=m(j.global,"resize",function(){var a=e.getBox();c.h==a.h&&c.w==a.w||(c=a,h.emit("resize"))});if(8==l("ie")){var a=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=a)a=screen.deviceXDPI,h.emit("resize")},500)}l("ios")&&(m(document,"focusin",function(a){i=a.target}),m(document,"focusout",function(){i=null}))});h.getEffectiveBox=function(c){var c=e.getBox(c),a=i&&i.tagName&&i.tagName.toLowerCase();if(l("ios")&&
i&&!i.readOnly&&("textarea"==a||"input"==a&&/^(color|email|number|password|search|tel|text|url)$/.test(i.type)))c.h*=0==orientation||180==orientation?0.66:0.4,a=i.getBoundingClientRect(),c.h=Math.max(c.h,a.top+a.height);return c};return h})},"dijit/layout/utils":function(){define("dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,../main".split(","),function(f,m,k,l,j,e){function h(e,c){var a=e.resize?e.resize(c):k.setMarginBox(e.domNode,c);a?j.mixin(e,a):(j.mixin(e,
k.getMarginBox(e.domNode)),j.mixin(e,c))}e=j.getObject("layout",!0,e);e.marginBox2contentBox=function(e,c){var a=l.getComputedStyle(e),g=k.getMarginExtents(e,a),d=k.getPadBorderExtents(e,a);return{l:l.toPixelValue(e,a.paddingLeft),t:l.toPixelValue(e,a.paddingTop),w:c.w-(g.w+d.w),h:c.h-(g.h+d.h)}};e.layoutChildren=function(e,c,a,g,d){c=j.mixin({},c);m.add(e,"dijitLayoutContainer");a=f.filter(a,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(f.filter(a,function(a){return"center"==
a.region||"client"==a.layoutAlign}));f.forEach(a,function(a){var e=a.domNode,f=a.region||a.layoutAlign;if(!f)throw Error("No region setting for "+a.id);var i=e.style;i.left=c.l+"px";i.top=c.t+"px";i.position="absolute";m.add(e,"dijitAlign"+(f.substring(0,1).toUpperCase()+f.substring(1)));e={};g&&g==a.id&&(e["top"==a.region||"bottom"==a.region?"h":"w"]=d);"top"==f||"bottom"==f?(e.w=c.w,h(a,e),c.h-=a.h,"top"==f?c.t+=a.h:i.top=c.t+c.h+"px"):"left"==f||"right"==f?(e.h=c.h,h(a,e),c.w-=a.w,"left"==f?c.l+=
a.w:i.left=c.l+c.w+"px"):("client"==f||"center"==f)&&h(a,c)})};return{marginBox2contentBox:e.marginBox2contentBox,layoutChildren:e.layoutChildren}})},"dojo/html":function(){define("./_base/kernel,./_base/lang,./_base/array,./_base/declare,./dom,./dom-construct,./parser".split(","),function(f,m,k,l,j,e,h){var i={};m.setObject("dojo.html",i);var c=0;i._secureForInnerHtml=function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")};i._emptyNode=e.empty;i._setNodeContent=
function(a,c){e.empty(a);if(c)if("string"==typeof c&&(c=e.toDom(c,a.ownerDocument)),!c.nodeType&&m.isArrayLike(c))for(var d=c.length,b=0;b<c.length;b=d==c.length?b+1:0)e.place(c[b],a,"last");else e.place(c,a,"last");return a};i._ContentSetter=l("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:f._scopeName,startup:!0,constructor:function(a,e){m.mixin(this,a||{});e=this.node=j.byId(this.node||e);if(!this.id)this.id=["Setter",e?e.id||
e.tagName:"",c++].join("_")},set:function(a,c){if(void 0!==a)this.content=a;c&&this._mixin(c);this.onBegin();this.setContent();var d=this.onEnd();return d&&d.then?d:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=i._setNodeContent(a,this.content)}catch(c){var d=this.onContentError(c);try{a.innerHTML=d}catch(b){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+b.message,b)}}this.node=a},
empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(k.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);e.empty(this.node)},onBegin:function(){var a=this.content;if(m.isString(a)&&(this.cleanContent&&(a=i._secureForInnerHtml(a)),this.extractContent)){var c=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(a=c[1])}this.empty();this.content=
a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var c={},d;for(d in a)d in c||(this[d]=a[d])},_parse:function(){var a=this.node;try{var c={};k.forEach(["dir","lang","textDir"],function(a){this[a]&&
(c[a]=this[a])},this);var d=this;this.parseDeferred=h.parse({rootNode:a,noStart:!this.startup,inherited:c,scope:this.parserScope}).then(function(a){return d.parseResults=a},function(a){d._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(b){this._onError("Content",b,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,c,d){a=this["on"+a+"Error"].call(this,c);d?console.error(d,c):a&&i._setNodeContent(this.node,a,!0)}});i.set=function(a,c,d){void 0==c&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),
c="");return d?(new i._ContentSetter(m.mixin(d,{content:c,node:a}))).set():i._setNodeContent(a,c,!0)};return i})},"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="heading" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabindex="0">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n',
"ninja/mobile/List":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./List.html,dojo/Evented,dojo/on,dojo/_base/lang,dojo/_base/array,dojox/mobile/Container,ninja/mobile/ListItem,dojo/touch,dojo/has".split(","),function(f,m,k,l,j,e,h,i,c,a,g,d,b){return f("ninja.mobile.List",[m,k,l,e],{templateString:j,touchStartX:null,touchStartY:null,touchStay:!0,longTouch:!1,TOUCH_MOVE_THRESHOLD:10,LONG_TOUCH_THRESHOLD:800,HIGHLIGHT_CLEAR_DELAY:200,
SCROLL_CHECK_INTERVAL:50,isScrolling:!1,scrollingDetectTimer:null,longTouchDetectTimer:null,innerContainer:null,constructor:function(){this.innerContainer=new a},startup:function(){this.inherited(arguments);this.registerEventListener();this.container.addChild(this.innerContainer)},addListItem:function(a){this.innerContainer.addChild(a)},getChildren:function(){return this.innerContainer.getChildren()},clearChildren:function(){var a=this;c.forEach(a.innerContainer.getChildren(),function(b){a.innerContainer.removeChild(b)})},
setListItem:function(b){var d=new a;c.forEach(b,function(a){d.addChild(a)});this.container.removeChild(this.innerContainer);this.container.addChild(d);this.innerContainer.destroyRecursive();this.innerContainer=d},registerEventListener:function(){b("android")?(h(this.container,"touchmove",i.hitch(this,this.onTouchmove)),h(this.container,".touchArea:touchend",i.partial(this.onTouchend,this)),h(this.container,".touchArea:touchstart",i.partial(this.onTouchstart,this)),h(this.container,".rightImage:touchend",
i.partial(this.onRightImageTouchend,this))):(h(this.container,"touchmove",i.hitch(this,this.onTouchmove)),h(this.container,".touchArea:touchend, .touchArea:mouseup",i.partial(this.onTouchend,this)),h(this.container,".touchArea:touchstart, .touchArea:mousedown",i.partial(this.onTouchstart,this)),h(this.container,".rightImage:touchend, .rightImage:mouseup",i.partial(this.onRightImageTouchend,this)));h(document,"scroll",i.hitch(this,this.onDocumentScoll))},onDocumentScoll:function(){var a=this;a.isScrolling=
!0;clearTimeout(a.scrollingDetectTimer);a.scrollingDetectTimer=setTimeout(function(){a.isScrolling=!1},a.SCROLL_CHECK_INTERVAL)},onTouchstart:function(a,b){var d=dijit.registry.byId(this.parentNode.id);a.touchStartX=b.touches?b.touches[0].pageX:b.clientX;a.touchStartY=b.touches?b.touches[0].pageY:b.clientY;a.touchStay=!0;a.longTouch=!1;a.longTouchDetectTimer=setTimeout(function(){a.longTouch=!0;console.log("long touch on "+d);a.emit("longtouch",{listItem:d})},a.LONG_TOUCH_THRESHOLD)},onTouchmove:function(a){var b=
a.touches?a.touches[0].pageX:a.clientX,a=a.touches?a.touches[0].pageY:a.clientY;if(null!=this.touchStartX&&null!=this.touchStartX&&(Math.abs(b-this.touchStartX)>=this.TOUCH_MOVE_THRESHOLD||Math.abs(a-this.touchStartY)>=this.TOUCH_MOVE_THRESHOLD))this.touchStay=!1,clearTimeout(this.longTouchDetectTimer)},onTouchend:function(a,b){if(!(!1==a.touchStay||!0==a.longTouch||a.isScrolling)){var d=dijit.registry.byId(this.parentNode.id);d.highlight();setTimeout(function(){d.dehighlight()},a.HIGHLIGHT_CLEAR_DELAY);
setTimeout(function(){a.emit("select",{listItem:d})},50);clearTimeout(a.longTouchDetectTimer);b.stopPropagation();b.preventDefault();return!1}},onRightImageTouchend:function(a,b){var d=dijit.registry.byId(this.parentNode.id);d.highlightRightImage();setTimeout(function(){d.dehighlightRightImage()},a.HIGHLIGHT_CLEAR_DELAY);setTimeout(function(){a.emit("right_tap",{listItem:d})},50);b.stopPropagation();b.preventDefault();return!1}})})},"url:ninja/mobile/List.html":'<div>\n\t<div data-dojo-type="dojox.mobile.Container" data-dojo-attach-point="container">\n\t\n\t</div>\n</div>',
"dojox/mobile/Container":function(){define(["dojo/_base/declare","dijit/_Container","./Pane"],function(f,m,k){return f("dojox.mobile.Container",[k,m],{baseClass:"mblContainer"})})},"dojox/mobile/Pane":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_WidgetBase"],function(f,m,k,l){return m("dojox.mobile.Pane",[l,k],{baseClass:"mblPane",buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},resize:function(){f.forEach(this.getChildren(),
function(f){f.resize&&f.resize()})}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(f,m){return f("dijit._Contained",null,{_getSibling:function(f){var l=this.domNode;do l=l[f+"Sibling"];while(l&&1!=l.nodeType);return l&&m.byNode(l)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var f=this.getParent();return!f||!f.getIndexOfChild?-1:f.getIndexOfChild(this)}})})},
"ninja/mobile/ListItem":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./ListItem.html,dojo/Evented,dojo/_base/lang,dojo/dom-class,dojo/dom-attr,dojo/dom-style".split(","),function(f,m,k,l,j,e,h,i,c,a){return f("ninja.mobile.ListItem",[m,k,l,e],{templateString:j,styleClass:"ninjaListItemDefaultStyle",constructor:function(a){this.props=a},startup:function(a){this.inherited(arguments);h.mixin(this.props)},highlight:function(){i.add(this.domNode,
"selected")},dehighlight:function(){null!==this.domNode&&i.remove(this.domNode,"selected")},highlightRightImage:function(){i.add(this.rightImageWrapper,"selected")},dehighlightRightImage:function(){i.remove(this.rightImageWrapper,"selected")},showOperationText:function(e,d,b){c.set(this.operationText,"innerHTML",e);a.set(this.operationText,"color",d);a.set(this.operationText,"display","inline");void 0!=b&&!0==b&&(a.set(this.image,"opacity","0.4"),a.set(this.textContainer,"opacity","0.4"));a.set(this.textContainer,
"right","90pt")},clearOperationText:function(){c.set(this.operationText,"display","none");a.set(this.image,"opacity","1");a.set(this.textContainer,"opacity","1");a.set(this.textContainer,"right","20pt")},_setTextAttr:function(a){this.textContainer.innerHTML=a},_setImageAttr:function(e){c.set(this.image,"src",e);""!=e?a.set(this.image,"display","inline"):a.set(this.image,"display","none")},_setRightImageAttr:function(e){c.set(this.rightImage,"src",e);""!=e?(a.set(this.rightImageWrapper,"display","inline"),
a.set(this.touchArea,"padding-right","60px"),a.set(this.newImageWrapper,"right","60px")):(a.set(this.rightImageWrapper,"display","none"),a.set(this.touchArea,"padding-right","0px"))},_setWatchedAttr:function(a){a&&this.set("styleClass","ninjaListItem_watched")},_setNewImageAttr:function(c){c?a.set(this.newImageWrapper,"display","inline"):a.set(this.newImageWrapper,"display","none")},_setStyleClassAttr:function(a){i.replace(this.domNode,a,this.styleClass);this.styleClass=a}})})},"url:ninja/mobile/ListItem.html":'<div class="ninjaListItem ninjaListItemDefaultStyle" data-dojo-attach-point="wrapper">\n\t<div class="touchArea" data-dojo-attach-point="touchArea">\n\t\t<img class="" data-dojo-attach-point="image" style="display:none; margin-left:10px;"/>\n\t\t<p class="ninjaListItemText" data-dojo-attach-point="textContainer"> </p>\n\t\t<span class="ninjaListItemOperationText" data-dojo-attach-point="operationText"> </span>\n\t</div>\n\n\t<div data-dojo-attach-point="newImageWrapper"\n\t\tstyle="display:none; right:0px; width:60px; top:0px; height:100%; position:absolute;">\n\t\t<img class="absoluteCenter" data-dojo-attach-point="newImage" src="images/new_dot.png" style="display: block;"/>\n\t</div>\n\n\t<div class="rightImage" data-dojo-attach-point="rightImageWrapper"\n\t\tstyle="display:none; right:0px; width:60px; top:0px; height:100%; position:absolute;">\n\t\t<img class="absoluteCenter" data-dojo-attach-point="rightImage" style="display: block; width:35px; height:35px;"/>\n\t</div>\n</div>\n',
"ninja/mobile/Button":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./Button.html,dojo/Evented,dojo/_base/lang,dojo/dom-class,dojo/dom-attr,dojo/dom-style,dojo/on,dojo/has".split(","),function(f,m,k,l,j,e,h,i,c,a,g,d){return f("ninja.mobile.Button",[m,k,l,e],{templateString:j,highlightClass:"ninjaButtonHighlight",dehighlightClass:"ninjaButtonDehighlight",touchStay:!1,touchStartX:null,touchStartY:null,constructor:function(a){this.props=
a},startup:function(a){this.inherited(arguments);h.mixin(this.props);this.registerEventListener();this.dehighlight();this._setImageAttr(this.image.src)},registerEventListener:function(){d("android")?(g(this.domNode,"touchstart",h.hitch(this,this.onTouchStart)),g(this.domNode,"touchend",h.hitch(this,this.onTouchEnd))):(g(this.domNode,"touchstart, mousedown",h.hitch(this,this.onTouchStart)),g(this.domNode,"touchend, mouseup",h.hitch(this,this.onTouchEnd)))},onTouchStart:function(a){this.highlight();
a.preventDefault();return!1},onTouchEnd:function(){this.dehighlight();this.emit("click")},onButtonClick:function(a){var d=this;d.highlight();a.preventDefault();setTimeout(function(){d.emit("click");d.dehighlight()},50)},highlight:function(){i.remove(this.domNode,this.dehighlightClass);i.add(this.domNode,this.highlightClass)},dehighlight:function(){i.remove(this.domNode,this.highlightClass);i.add(this.domNode,this.dehighlightClass)},_setTextAttr:function(a){this.textContainer.innerHTML=a},_setImageAttr:function(b){var d=
this;c.set(d.image,"src",b);""==b?a.set(d.image,"display","none"):(a.set(d.image,"display","none"),setTimeout(function(){a.set(d.image,"display","inline")},1))},_setHighlightClassAttr:function(a){this.highlightClass=a},_setDehighlightClassAttr:function(a){this.dehighlightClass=a},_setStyleClassAttr:function(a){i.replace(this.domNode,a,"ninjaButtonDefaultStyle")}})})},"url:ninja/mobile/Button.html":'<div class="ninjaButton ninjaButtonDefaultStyle">\n\t<img class="ninjaButtonImage" data-dojo-attach-point="image"/>\n\t<span class="ninjaButtonText" data-dojo-attach-point="textContainer"> </span>\n</div>',
"ninja/mobile/ListItemPool":function(){define(["dojo/_base/declare","ninja/mobile/ListItem","dojo/_base/lang"],function(f,m){return f("ninja.mobile.ListItemPool",[],{DEFAULT_INITIAL_NUMBER:5,initialNumber:null,pool:[],listItemProps:{},constructor:function(f,l){this.initialNumber=void 0!=f.initialNumber?f.initialNumber:this.DEFAULT_INITIAL_NUMBER;if(void 0!=l)this.listItemProps=l;this.addListItemToPool(this.initialNumber,this.listItemProps)},addListItemToPool:function(f,l){for(var j=0;j<f;j++)this.pool.push(new m(l))},
getListItems:function(f){f>this.pool.length&&this.addListItemToPool(f-this.pool.length);return this.pool.slice(0,f)}})})},"ninja/model/channelModel":function(){define("dojo/_base/declare,dojo/Evented,dojo/on,dojo/_base/lang,ninja/service/homerunProtocol,ninja/model/queueModel,ninja/utility/queueUtil".split(","),function(f,m,k,l,j,e,h){return new (f("",[m],{isModelReady:!1,playing_queue_id:null,playing_channel_id:null,constructor:function(){this._registerEventListener();this._fetchChannel()},_registerEventListener:function(){k(j,
"channel update",l.hitch(this,this._onChannelUpdate));k(j,"now_playing",l.hitch(this,this._onNowPlaying))},_fetchChannel:function(){console.log("try to fetch channel");j.sendRequestForResponse("channel get").then(l.hitch(this,this._onGetChannelSuccess),l.hitch(this,this._onGetChannelFail))},_onGetChannelSuccess:function(e){console.log("get channel success");this.channels=e.channels;"channel_now_playing"in e&&"queue_now_playing"in e&&this._onNowPlaying({channel_id:e.channel_now_playing,queue_id:e.queue_now_playing});
if(!1==this.isModelReady)this.isModelReady=!0,this.emit("ready")},_onGetChannelFail:function(e){console.warn("Get channel fail: "+e.message);this._fetchChannel()},_onChannelUpdate:function(e){this.channels=e.response.channels;this.emit("update")},_onNowPlaying:function(f){var c=this;c.playing_queue_id=f.queue_id;c.playing_channel_id=f.channel_id;e.getChannelQueue(f.channel_id).then(function(a){var e=h.getQueueItemById(a.queue,c.playing_queue_id);c.emit("now_playing",{channel_id:c.playing_channel_id,
queue_id:c.playing_queue_id,queue:a.queue,queue_item:e})})},getChannels:function(){return this.channels},getChannelById:function(e){for(var c=0;c<this.channels.length;c++){var a=this.channels[c];if(a.channel_id===e)return a}return null},isPlayingLiveChannel:function(){return this.playing_channel_id?0===this.playing_channel_id.indexOf("live_"):!1},getPlayingChannelId:function(){return this.playing_channel_id},getPlayingQueueId:function(){return this.playing_queue_id},isReady:function(){return this.isModelReady}}))})},
"ninja/service/homerunProtocol":function(){define(["dojo/_base/declare","dojo/Evented","dojo/_base/array","ninja/promise/GeneralPurposePromise"],function(f,m,k,l){var j=new (f("",[m],{REQUEST_TIMEOUT:8E3,pendingPromises:{},currentNativetitle:"",sendRequest:function(e){console.log("SEND: "+e);WebRemote.sendMessageToHome(e)},sendRequestForResponse:function(e){var f=this,i=new l;f._addPendingPromise(e,i);i.timeoutTimer=setTimeout(function(){f._onRequestTimeout(e,i)},f.REQUEST_TIMEOUT);WebRemote.sendMessageToHome(e);
console.log("SEND: "+e);return i},requestUpload:function(e){WebRemote.sendMessageToRemote(e)},setNativeTitle:function(e){this.currentNativetitle=e;"undefined"!==typeof WebRemote.sendMessageToRemote&&"function"===typeof WebRemote.sendMessageToRemote&&WebRemote.sendMessageToRemote("setTitleName "+e)},showOnlineVideo:function(){"undefined"!==typeof WebRemote.sendMessageToRemote&&"function"===typeof WebRemote.sendMessageToRemote&&WebRemote.sendMessageToRemote("showOnlineVideo")},getNativeTitle:function(){return this.currentNativetitle},
_addPendingPromise:function(e,f){void 0==this.pendingPromises[e]&&(this.pendingPromises[e]=[]);this.pendingPromises[e].push(f)},_onHomerunMessage:function(e){void 0!=e.response?-1!=e.request.indexOf("update")||-1!=e.request.indexOf("progress")?this.emit(e.request,e):"language get"==e.request?this._resolvePendingPromise("media language get",e):this._resolvePendingPromise(e.request,e):this.emit(e.request,e)},_onRequestTimeout:function(e,f){var i=this.pendingPromises[e].indexOf(f);this.pendingPromises[e].splice(i,
1);f.rejectResult({message:"timeout"})},_resolvePendingPromise:function(e,f){var i=this._getAndRemoveRelatedPromises(e);k.forEach(i,function(c){c.submitResult(f.response);clearTimeout(c.timeoutTimer)})},_getAndRemoveRelatedPromises:function(e){var f=[];void 0!=this.pendingPromises[e]?(f=this.pendingPromises[e],this.pendingPromises[e]=[]):void 0!=this.pendingPromises["~"]&&(f=this.pendingPromises["~"],this.pendingPromises["~"]=[]);return f}}));window.messageHandler=function(e,f){console.log("RECV: "+
f);var i=JSON.parse(f);j._onHomerunMessage(i)};return j})},"ninja/model/queueModel":function(){define("dojo/_base/declare,dojo/Evented,dojo/on,dojo/_base/array,dojo/_base/lang,ninja/service/homerunProtocol,ninja/utility/queueUtil,ninja/promise/GeneralPurposePromise".split(","),function(f,m,k,l,j,e,h,i){return new (f("",[m],{queueArray:null,queueVersion:null,constructor:function(){this._registerEventListener()},_registerEventListener:function(){k(e,"queue add",j.hitch(this,this._onQueueAdd));k(e,"queue remove",
j.hitch(this,this._onQueueRemove));k(e,"queue clear",j.hitch(this,this._onQueueClear));k(e,"queue update",j.hitch(this,this._onQueueUpdate))},_onQueueAdd:function(c){this._isValidVersion(c.queue_version)?(h.insertQueueItem(this.queueArray,c.queue_item,c.previous_queue_id),this.queueVersion=c.queue_version,this.emit("queue update",{channel_id:"queue",queue:this.queueArray})):this._refreshQueue()},_onQueueRemove:function(c){this._isValidVersion(c.queue_version)?(h.removeQueueItem(this.queueArray,c.queue_id),
this.queueVersion=c.queue_version,this.emit("queue update",{channel_id:"queue",queue:this.queueArray})):this._refreshQueue()},_onQueueClear:function(c){this._isValidVersion(c.queue_version)?(this.queueArray=[],this.queueVersion=c.queue_version,this.emit("queue update",{channel_id:"queue",queue:this.queueArray})):this._refreshQueue()},_onQueueUpdate:function(c){var a=this;a.getChannelQueue(c.response.channel_id).then(function(e){a.emit("queue update",{channel_id:c.response.channel_id,queue:e.queue})})},
_isValidVersion:function(c){return c==this.queueVersion?!0:c==this.queueVersion+1?!0:!1},_refreshQueue:function(){var c=this;console.log("refresh queue");e.sendRequestForResponse("queue get queue").then(function(a){c.queueArray=a.queue;c.queueVersion=a.queue_version;c.emit("queue update",{channel_id:"queue",queue:c.queueArray})},function(){c._refreshQueue()})},_onGetQueueSuccess:function(c,a,e){if("queue"===c)this.queueArray=a.queue,this.queueVersion=a.queue_version;e.submitResult(a)},_onGetQueueFail:function(c){c.rejectResult()},
getChannelQueue:function(c){var a=this,g=new i;e.sendRequestForResponse("queue get "+c).then(function(d){a._onGetQueueSuccess(c,d,g)},function(){a._onGetQueueFail(g)});return g},getQueueItem:function(c,a){var e=new i;this.getChannelQueue(c).then(function(d){(d=h.getQueueItemById(d.queue,a))?e.submitResult(d):e.rejectResult()});return e},removeQueue:function(c){e.sendRequest("queue remove "+c.queue_id)},clearQueue:function(){e.sendRequest("queue clear")}}))})},"ninja/utility/queueUtil":function(){define(["dojo/_base/declare",
"dojo/_base/array"],function(f){return new (f("",[],{getQueueItemById:function(f,k){for(var l=0;l<f.length;l++)if(f[l].queue_id==k)return f[l];return null},removeQueueItem:function(f,k){for(var l=0;l<f.length;l++)f[l].queue_id==k&&f.splice(l,1)},insertQueueItem:function(f,k,l){this.removeQueueItem(f,k.queue_id);if(""==l)f.splice(0,0,k);else for(var j=0;j<f.length;j++)if(f[j].queue_id==l){f.splice(j+1,0,k);break}}}))})},"ninja/widget/SeekBar":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./SeekBar.html,dojo/_base/lang,dojo/on,ninja/service/homerunProtocol,dojo/dom-style,dojo/dom-attr,ninja/mobile/Slider".split(","),
function(f,m,k,l,j,e,h,i,c,a){return f("ninja.widget.SeekBar",[m,k,l],{templateString:j,control:null,SEEKBAR_MAX_VALUE:1E3,mediaPositionTimer:null,startup:function(){this.inherited(arguments);this.registerEventListener();i.sendRequestForResponse("control get").then(e.hitch(this,this.onGetControlSuccess),e.hitch(this,this.onGetControlFail))},registerEventListener:function(){h(this.seekBar,"change",e.hitch(this,this.onSeekBarChange));h(this.seekBar,"valuemove",e.hitch(this,this.onSeekBarDragged));h(i,
"control update",e.hitch(this,this.onControlUpdate))},onGetControlSuccess:function(a){this.control=a;this.renderControl();this.updateMediaPositionTimer()},onGetControlFail:function(){console.warn("get control fail")},onControlUpdate:function(a){this.control=a.response;this.renderControl();this.updateMediaPositionTimer()},onSeekBarChange:function(a){i.sendRequest("control seek "+a+" "+this.SEEKBAR_MAX_VALUE);clearInterval(this.mediaPositionTimer)},onSeekBarDragged:function(a){this.control.position=
Math.floor(this.control.duration*a.value/this.SEEKBAR_MAX_VALUE);this.renderSlider()},updateMediaPositionTimer:function(){var a=this;"playing"==a.control.status&&void 0!=a.control.position?(clearInterval(a.mediaPositionTimer),a.mediaPositionTimer=setInterval(function(){a.increaseMediaPosition()},1E3)):clearInterval(a.mediaPositionTimer)},increaseMediaPosition:function(){this.control.position<this.control.duration&&(this.control.position+=1);this.renderSlider()},renderControl:function(){!1==this.control.seekable?
c.set(this.domNode,"visibility","hidden"):c.set(this.domNode,"visibility","visible");try{this.renderSlider()}catch(a){console.error(a.toString())}},renderSlider:function(){if(0==this.control.position&&0==this.control.duration)this.seekBar.setValueIfNotDragging(0),a.set(this.mediaDuration,"innerHTML",""),a.set(this.mediaPosition,"innerHTML","");else{this.seekBar.setValueIfNotDragging(Math.floor(this.SEEKBAR_MAX_VALUE*this.control.position/this.control.duration));var e=this.formatSecondToHMS(this.control.duration,
!1);a.set(this.mediaDuration,"innerHTML",e);var d=this.formatSecondToHMS(this.control.position,5<e.length);a.set(this.mediaPosition,"innerHTML",d);5<e.length?(c.set(this.mediaDuration,"font-size","0.6em"),c.set(this.mediaPosition,"font-size","0.6em")):(c.set(this.mediaDuration,"font-size","0.7em"),c.set(this.mediaPosition,"font-size","0.7em"))}},formatSecondToHMS:function(a,d){var b=Math.floor(a/3600),c=Math.floor(a%3600/60),e=a%60,f="";0<b?f+=b+":":d&&(f+="0:");f=10<=c?f+(c+":"):f+("0"+c+":");return 10<=
e?f+e:f+("0"+e)}})})},"url:ninja/widget/SeekBar.html":'<div style="background-color:rgb(226, 226, 226); width:100%; height:100%; \n\t\tfont-family:Helvetica; font-size:20px; font-weight:bold; border-top: 1px solid rgb(102, 102, 102);\n\t\ttext-align:center;">\n\t<input data-dojo-attach-point="seekBar" type="range" style="position:absolute; left:50px; right:50px; width:auto; \n        margin-left: 5px; margin-right: 5px; " \n        data-dojo-type="ninja.mobile.Slider" data-dojo-props=\'step:1, max:1000\'/>\n\n    <div data-dojo-attach-point="mediaPosition" class="durationText" style="width:50px; position:absolute; left:0px;">\n    </div> \n\n    <div data-dojo-attach-point="mediaDuration" class="durationText" style="width:50px; position:absolute; right:0px;">\n    </div>\n</div>',
"ninja/mobile/Slider":function(){define("dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/keys,dijit/_WidgetBase,dijit/form/_FormValueMixin".split(","),function(f,m,k,l,j,e,h,i,c,a,g,d){var b,n;b=0;n=1;return k("ninja.mobile.Slider",[g,d],{value:0,min:0,max:100,step:1,baseClass:"mblSlider",flip:!1,orientation:"auto",halo:"8pt",state:b,buildRendering:function(){this.focusNode=this.domNode=
h.create("div",{});this.valueNode=h.create("input",this.srcNodeRef&&this.srcNodeRef.name?{type:"hidden",name:this.srcNodeRef.name}:{type:"hidden"},this.domNode,"last");var a=h.create("div",{style:{position:"relative",height:"100%",width:"100%"}},this.domNode,"last");this.progressBar=h.create("div",{style:{position:"absolute"},"class":"mblSliderProgressBar"},a,"last");this.touchBox=h.create("div",{style:{position:"absolute"},"class":"mblSliderTouchBox"},a,"last");this.handle=h.create("div",{style:{position:"absolute"},
"class":"mblSliderHandle"},a,"last");this.inherited(arguments)},_setValueAttr:function(a,b){a=Math.max(Math.min(a,this.max),this.min);this.valueNode.value=a;this.inherited(arguments);if(this._started){this.focusNode.setAttribute("aria-valuenow",a);var d=100*(a-this.min)/(this.max-this.min);!0===b?(e.add(this.handle,"mblSliderTransition"),e.add(this.progressBar,"mblSliderTransition")):(e.remove(this.handle,"mblSliderTransition"),e.remove(this.progressBar,"mblSliderTransition"));c.set(this.handle,this._attrs.handleLeft,
(this._reversed?100-d:d)+"%");c.set(this.progressBar,this._attrs.width,d+"%")}},postCreate:function(){function d(a){function e(a){h=o?a[this._attrs.pageX]:a.touches?a.touches[0][this._attrs.pageX]:a[this._attrs.clientX];k=h-Q;k=Math.min(Math.max(k,0),A);a=this.step?(this.max-this.min)/this.step:A;if(1>=a||Infinity==a)a=A;r=(this.max-this.min)*Math.round(k*a/A)/a;r=this._reversed?this.max-r:this.min+r}this.state=n;a.preventDefault();var o="mousedown"==a.type,w=i.position(p,!1),u=c.get(j.body(),"zoom")||
1;isNaN(u)&&(u=1);var v=c.get(p,"zoom")||1;isNaN(v)&&(v=1);var Q=w[this._attrs.x]*v*u+i.docScroll()[this._attrs.x],A=w[this._attrs.w]*v*u;l.hitch(this,e)(a);a.target==this.touchBox&&this.set("value",r,!0);f.forEach(z,m.disconnect);var a=j.doc.documentElement,z=[this.connect(a,o?"onmousemove":"ontouchmove",function(a){a.preventDefault();l.hitch(this,e)(a);this.set("value",r,!1);g.emit("valuemove",{value:r})}),this.connect(a,o?"onmouseup":"ontouchend",function(a){a.preventDefault();f.forEach(z,l.hitch(this,
"disconnect"));z=[];this.set("value",this.value,!0);this.state=b})]}var g=this;this.inherited(arguments);var h,k,r,p=this.domNode;if("auto"==this.orientation)this.orientation=p.offsetHeight<=p.offsetWidth?"H":"V";e.add(this.domNode,f.map(this.baseClass.split(" "),l.hitch(this,function(a){return a+this.orientation})));var v="V"!=this.orientation,w=v?this.isLeftToRight():!1,u=!!this.flip;this._reversed=!(v&&(w&&!u||!w&&u)||!v&&u);this._attrs=v?{x:"x",w:"w",l:"l",r:"r",pageX:"pageX",clientX:"clientX",
handleLeft:"left",left:this._reversed?"right":"left",width:"width"}:{x:"y",w:"h",l:"t",r:"b",pageX:"pageY",clientX:"clientY",handleLeft:"top",left:this._reversed?"bottom":"top",width:"height"};this.progressBar.style[this._attrs.left]="0px";this.connect(this.touchBox,"ontouchstart",d);this.connect(this.touchBox,"onmousedown",d);this.connect(this.handle,"ontouchstart",d);this.connect(this.handle,"onmousedown",d);this.connect(this.domNode,"onkeypress",function(b){if(!this.disabled&&!this.readOnly&&!b.altKey&&
!b.ctrlKey&&!b.metaKey){var d=this.step,c=1;switch(b.keyCode){case a.HOME:d=this.min;break;case a.END:d=this.max;break;case a.RIGHT_ARROW:c=-1;case a.LEFT_ARROW:d=this.value+c*(u&&v?d:-d);break;case a.DOWN_ARROW:c=-1;case a.UP_ARROW:d=this.value+c*(!u||v?d:-d);break;default:return}b.preventDefault();this._setValueAttr(d,!1)}});this.connect(this.domNode,"onkeyup",function(a){!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey&&this._setValueAttr(this.value,!0)});this.startup();this.set("value",
this.value)},setValueIfNotDragging:function(a){this.state!=n&&this.set("value",a,!1)}})})},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(f,m,k,l,j){return f("dijit.form._FormValueMixin",j,{readOnly:!1,_setReadOnlyAttr:function(e){m.set(this.focusNode,"readOnly",e);this._set("readOnly",e)},postCreate:function(){this.inherited(arguments);l("ie")&&this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);
if(void 0===this._resetValue)this._lastValueReported=this._resetValue=this.value},_setValueAttr:function(e,f){this._handleOnChange(e,f)},_handleOnChange:function(e,f){this._set("value",e);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(e){if(e.keyCode==k.ESCAPE&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(9>l("ie")||l("ie")&&l("quirks"))){e.preventDefault();var f=
e.srcElement,i=f.ownerDocument.createEventObject();i.keyCode=k.ESCAPE;i.shiftKey=e.shiftKey;f.fireEvent("onkeypress",i)}}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/sniff,dojo/window,../a11y".split(","),function(f,m,k,l,j,e,h,i,c){return m("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,
scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);k.set(this.focusNode,"disabled",a);this.valueNode&&k.set(this.valueNode,"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",f.forEach(j.isArray(a)?a:[a],function(a){a=this[a];h("webkit")||c.hasDefaultTabStop(a)?a.setAttribute("tabIndex",
"-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var c=this.connect(this.focusNode,"onfocus",function(){this.disconnect(d);this.disconnect(c)}),d=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(d);this.disconnect(c);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){i.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&
this.focusNode&&"none"!=l.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,c){return"number"==typeof a&&"number"==typeof c?isNaN(a)&&isNaN(c)?0:a-c:a>c?1:a<c?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,c){if(void 0==this._lastValueReported&&(null===c||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||
0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||c||void 0===c)&&this._pendingOnChange)if(this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive)this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)})},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));
this.inherited(arguments)}})})},"ninja/widget/SlideshowSeekBar":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./SlideshowSeekBar.html,dojo/_base/lang,dojo/on,ninja/service/homerunProtocol,dojo/dom-style,dojo/dom-attr,ninja/mobile/Slider".split(","),function(f,m,k,l,j,e,h,i,c,a){return f("ninja.widget.SlideshowSeekBar",[m,k,l],{templateString:j,control:null,SEEKBAR_MAX_VALUE:1E3,mediaPositionTimer:null,startup:function(){this.inherited(arguments);
this.registerEventListener();i.sendRequestForResponse("control get").then(e.hitch(this,this.onGetControlSuccess),e.hitch(this,this.onGetControlFail))},registerEventListener:function(){h(this.seekBar,"change",e.hitch(this,this.onSeekBarChange));h(this.seekBar,"valuemove",e.hitch(this,this.onSeekBarDragged));h(i,"control update",e.hitch(this,this.onControlUpdate))},onGetControlSuccess:function(a){this.control=a;this.renderControl()},onGetControlFail:function(){console.warn("get control fail")},onControlUpdate:function(a){this.control=
a.response;this.renderControl()},onSeekBarChange:function(a){i.sendRequest("control seek "+a+" "+this.SEEKBAR_MAX_VALUE);clearInterval(this.mediaPositionTimer)},onSeekBarDragged:function(a){console.log("value: "+a.value);this.control.position=Math.floor((this.control.duration-1)*a.value/this.SEEKBAR_MAX_VALUE)+1;this.renderSlider()},updateMediaPositionTimer:function(){var a=this;"playing"==a.control.status&&void 0!=a.control.position?(clearInterval(a.mediaPositionTimer),a.mediaPositionTimer=setInterval(function(){a.increaseMediaPosition()},
1E3)):clearInterval(a.mediaPositionTimer)},increaseMediaPosition:function(){this.control.position<this.control.duration&&(this.control.position+=1);this.renderSlider()},renderControl:function(){!1==this.control.seekable?c.set(this.domNode,"visibility","hidden"):c.set(this.domNode,"visibility","visible");try{this.renderSlider()}catch(a){console.error(a.toString())}},renderSlider:function(){if(0==this.control.position&&0==this.control.duration)this.seekBar.setValueIfNotDragging(0),a.set(this.mediaDuration,
"innerHTML",""),a.set(this.mediaPosition,"innerHTML","");else{this.seekBar.setValueIfNotDragging(Math.floor(this.SEEKBAR_MAX_VALUE*(this.control.position-1)/(this.control.duration-1)));var e=this.control.duration;a.set(this.mediaDuration,"innerHTML",e);a.set(this.mediaPosition,"innerHTML",this.control.position);5<e.length?(c.set(this.mediaDuration,"font-size","0.6em"),c.set(this.mediaPosition,"font-size","0.6em")):(c.set(this.mediaDuration,"font-size","0.7em"),c.set(this.mediaPosition,"font-size",
"0.7em"))}},formatSecondToHMS:function(a,d){var b=Math.floor(a/3600),c=Math.floor(a%3600/60),e=a%60,f="";0<b?f+=b+":":d&&(f+="0:");f=10<=c?f+(c+":"):f+("0"+c+":");return 10<=e?f+e:f+("0"+e)}})})},"url:ninja/widget/SlideshowSeekBar.html":'<div style="background-color:rgb(226, 226, 226); width:100%; height:100%; \n\t\tfont-family:Helvetica; font-size:20px; font-weight:bold; border-top: 1px solid rgb(102, 102, 102);\n\t\ttext-align:center;">\n\t<input data-dojo-attach-point="seekBar" type="range" style="position:absolute; left:50px; right:50px; width:auto; \n        margin-left: 5px; margin-right: 5px; " \n        data-dojo-type="ninja.mobile.Slider" data-dojo-props=\'step:1, max:1000\'/>\n\n    <div data-dojo-attach-point="mediaPosition" class="durationText" style="width:50px; position:absolute; left:0px;">\n    </div> \n\n    <div data-dojo-attach-point="mediaDuration" class="durationText" style="width:50px; position:absolute; right:0px;">\n    </div>\n</div>',
"ninja/widget/QueueList":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./QueueList.html,dojo/Evented,dojo/_base/lang,dojo/on,ninja/model/queueModel,ninja/mobile/service/input,ninja/mobile/service/loading,dojo/dom-style,dojo/dom-class,dojo/dom-attr,dojo/_base/array,dojo/query,ninja/mobile/ListItem,ninja/service/homerunProtocol,ninja/model/channelModel,dojox/mobile/Heading,ninja/mobile/List,ninja/mobile/Button".split(","),function(f,
m,k,l,j,e,h,i,c,a,g,d,b,n,o,q,t,s,r){var p=["aac","ape","flac","mp3","wma"];return f("ninja.widget.QueueList",[m,k,l,e],{templateString:j,channel:null,fetchPromise:null,startup:function(){this.inherited(arguments);this.registerEventListener()},registerEventListener:function(){i(this.queueListWidget,"select",h.hitch(this,this.onQueueItemSelect));i(this.clearQueueButton,"click",h.hitch(this,this.onClearQueueClick));i(this.backButton,"click",h.hitch(this,this.onBackClick));i(c,"queue update",h.hitch(this,
this._onQueueUpdate));i(r,"update",h.hitch(this,this._onChannelUpdate));i(r,"now_playing",h.hitch(this,this._onNowPlaying));i(this.unsubscribeButton,"click",h.hitch(this,this._onUnsubscribeClick))},onClearQueueClick:function(){a.select("Clear all queue item?",[{text:"OK"},{text:"Cancel"}],!1).then(function(a){"OK"==a.text&&(g.show(),c.clearQueue())})},onBackClick:function(){this.queueListWidget.setListItem([]);g.hide();this._back()},_back:function(){s.setNativeTitle("");d.set(queueEmptyMessage,"display",
"none");this.queueListWidget.setListItem([]);g.hide();null!=this.fetchPromise&&this.fetchPromise.cancel();this.emit("back")},_onQueueUpdate:function(a){if(null!=this.channel){a.channel_id==this.channel.channel_id&&this.renderQueue(a.queue,this.queueListWidget);if(null!=this.pendingPromise)this.pendingPromise.cancel(),this.pendingPromise=null;g.hide()}},renderQueue:function(a,b){var c=this,e=[];if(0==a.length)b.setListItem([]),d.set(queueEmptyMessage,"display","block");else{d.set(queueEmptyMessage,
"display","none");var f=r.getPlayingQueueId();o.forEach(a,function(a){var b=new t({styleClass:"ninjaListItemWhiteStyle"});b.startup();b.set("text",a.name);if("local"===a.type){var d=c.extractFileExtension(a.name);-1!=p.indexOf(d)?b.set("image","images/icons/60_music.png"):b.set("image","images/icons/60_video.png")}else"youtube"===a.type?b.set("image","images/youtube_small.png"):"dailymotion"===a.type?b.set("image","images/dailymotion_small.png"):"slideshow"===a.type&&b.set("image","images/icons/60_photo.png");
b.set("newImage",a.mNewItem);b.set("watched",a.mWatched);null!=f&&a.queue_id==f&&b.set("styleClass","ninjaListItem_playing");b.queueItem=a;e.push(b)});b.setListItem(e);c.scrollToPlayingItem()}},scrollToPlayingItem:function(){var a=this.findPlayingListItem();null!=a&&window.scrollBy(0,a.domNode.offsetTop-50)},findPlayingListItem:function(){var a=r.getPlayingQueueId();if(null==a)return null;var b=o.filter(this.queueListWidget.getChildren(),function(b){return b.queueItem.queue_id==a?!0:!1});return 0<
b.length?b[0]:null},onQueueItemSelect:function(b){var d=this,c=d.resolveQueueAction(b.listItem.queueItem);d.pendingPromise=a.select("",c,!0);d.pendingPromise.then(function(a){d.pendingPromise=null;d.onAction(b.listItem,b.listItem.queueItem,a)},function(){console.log("cancel");d.pendingPromise=null})},extractFileExtension:function(a){return a.substring(a.lastIndexOf(".")+1)},resolveQueueAction:function(a){var b={text:"Play Now",image:"images/icons/control_play.png"},d={text:"Remove",confirmMessage:"Remove "+
a.name+" from queue?",image:"images/icons/60_delete_dark.png"},c=[b];(void 0==this.channel.readonly||!1==this.channel.readonly)&&c.push(d);a.queue_id==r.getPlayingQueueId()&&c.splice(c.indexOf(b),1);return c},onAction:function(a,b,d){"Play Now"==d.text?s.sendRequest("queue play "+b.queue_id+" "+this.channel.channel_id):"Remove"==d.text&&(a.showOperationText("Removing...","rgb(248, 36, 36)",!0),c.removeQueue(b),g.show())},_onChannelUpdate:function(){null!=this.channel&&null==r.getChannelById(this.channel.channel_id)&&
this._back()},_onNowPlaying:function(a){var b=this;o.forEach(b.queueListWidget.getChildren(),function(d){d.queueItem.queue_id===a.queue_id?(d.queueItem.mWatched=!0,d.set("styleClass","ninjaListItem_playing")):d.queueItem.mWatched?d.set("styleClass","ninjaListItem_watched"):d.set("styleClass","ninjaListItemWhiteStyle");if(b.channel.channel_id==a.channel_id)d.queueItem.mNewItem=!1,d.set("newImage",!1)})},_onUnsubscribeClick:function(){var b=this;a.select("Remove this channel from Penta?",[{text:"OK"},
{text:"Cancel"}],!1).then(function(a){"OK"==a.text&&WebRemote.sendMessageToHome("url penta penta://channel?action=remove&channel_id="+b.channel.channel_id)})},setChannel:function(a){var b=this;b.channel=a;g.show();s.setNativeTitle(a.name);!0==a.readonly?(d.set(b.clearQueueButton.domNode,"display","none"),d.set(b.unsubscribeButton.domNode,"display","block")):(d.set(b.clearQueueButton.domNode,"display","block"),d.set(b.unsubscribeButton.domNode,"display","none"));b.fetchPromise=c.getChannelQueue(a.channel_id);
b.fetchPromise.then(function(a){g.hide();b.renderQueue(a.queue,b.queueListWidget)},function(a){console.log(a)})}})})},"url:ninja/widget/QueueList.html":'<div>\n    <div class="smartremoteSubHeading" id="subheading" >\n        <div data-dojo-attach-point="backButton" data-dojo-type="ninja.mobile.Button"\n            highlightClass="backButtonHighlight" dehighlightClass="backButtonDehighlight" \n            style="width:30px; height:30px; position:absolute; left:10px; border-top:0px;">\n        </div>\n\n        <div data-dojo-attach-point="clearQueueButton" data-dojo-type="ninja.mobile.Button" \n                highlightClass="clearQueueButtonHighlight" dehighlightClass="clearQueueButtonDehighlight" \n                style="width:30px; height:30px; position:absolute; right:2pt; border-top:0px;">\n        </div>\n\n        <div data-dojo-attach-point="unsubscribeButton" data-dojo-type="ninja.mobile.Button" \n                highlightClass="clearAllButton" dehighlightClass="clearAllButton"  text="Remove"\n                style="width:60px; height:20px; position:absolute; right:2pt; border-top:0px;">\n        </div>\n    </div>\n\n    <div data-dojo-attach-point="queueListWidget" data-dojo-type="ninja.mobile.List" style="padding-bottom:100px; padding-top:42px;">\n    \t\n    </div>\n\n    <div id="queueEmptyMessage" data-dojo-id="queueEmptyMessage">\n        Queue is empty.\n    </div>\n\n</div>\n',
"ninja/mobile/service/loading":function(){define("dojo/_base/declare,dojo/Evented,dojo/dom-attr,ninja/mobile/Dialog,dojox/mobile/ProgressIndicator,dojo/dom-construct,dojo/domReady!".split(","),function(f,m,k,l,j){var e=new l({draggable:!1,closable:!1,displayTitle:!1,modal:!1,style:"width:80px; height:80px; background-color:rgba(0,0,0,0.7); border-radius:5px;"});e.startup();e._setup();document.body.appendChild(e.domNode);return new (f("",[m],{showing:!1,progressInstance:null,constructor:function(){this.progressInstance=
new j;this.progressInstance.set("style","margin-left:auto; margin-right:auto;");k.set(this.progressInstance.domNode,"style","position: absolute; top:20px !important; left: 20px !important;")},show:function(){if(!1==this.showing)e.destroyDescendants(),e.set("style","width: 80px; text-align: center; color: white;"),e.addChild(this.progressInstance),this.progressInstance.start(),e.show(),this.showing=!0},showWithText:function(){this.hide();if(!1==this.showing)e.destroyDescendants(),e.addChild(this.progressInstance),
this.progressInstance.start(),e.show(),this.showing=!0},hide:function(){this.progressInstance.stop();e.hide();this.showing=!1}}))})},"dojox/mobile/ProgressIndicator":function(){define("dojo/_base/config,dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dijit/_Contained,dijit/_WidgetBase".split(","),function(f,m,k,l,j,e,h,i,c,a){var g=m("dojox.mobile.ProgressIndicator",[a,c],{interval:100,size:40,removeOnStop:!0,startSpinning:!1,center:!0,
colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[]},buildRendering:function(){this.inherited(arguments);this.center&&l.add(this.domNode,"mblProgressIndicatorCenter");this.containerNode=j.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=j.create("div",null,this.containerNode);for(var a=0;12>a;a++)this._bars.push(j.create("div",{className:"mblProg mblProg"+a},this.spinnerNode));this.scale(this.size);this.startSpinning&&this.start()},
scale:function(a){var b=a/40;h.set(this.containerNode,{webkitTransform:"scale("+b+")",webkitTransformOrigin:"0 0"});e.setMarginBox(this.domNode,{w:a,h:a});e.setMarginBox(this.containerNode,{w:a/b,h:a/b})},start:function(){if(this.imageNode){var a=this.imageNode,b=Math.round((this.containerNode.offsetWidth-a.offsetWidth)/2),c=Math.round((this.containerNode.offsetHeight-a.offsetHeight)/2);a.style.margin=c+"px "+b+"px"}else{var e=0,f=this;this.timer=setInterval(function(){e--;e=0>e?11:e;for(var a=f.colors,
b=0;12>b;b++){var d=(e+b)%12;a[d]?f._bars[b].style.backgroundColor=a[d]:l.replace(f._bars[b],"mblProg"+d+"Color","mblProg"+(11===d?0:d+1)+"Color")}},this.interval)}},stop:function(){this.timer&&clearInterval(this.timer);this.timer=null;this.removeOnStop&&this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode)},setImage:function(a){if(a)this.imageNode=j.create("img",{src:a},this.containerNode),this.spinnerNode.style.display="none";else{if(this.imageNode)this.containerNode.removeChild(this.imageNode),
this.imageNode=null;this.spinnerNode.style.display=""}},destroy:function(){this.inherited(arguments);if(this===g._instance)g._instance=null}});g._instance=null;g.getInstance=function(a){if(!g._instance)g._instance=new g(a);return g._instance};return g})},"dojox/mobile/Heading":function(){define("dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./ProgressIndicator,./ToolBarButton,./View".split(","),
function(f,m,k,l,j,e,h,i,c,a,g,d,b,n,o){l.getObject("dojox.mobile",!0);return k("dojox.mobile.Heading",[b,d,g],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",tag:"h1",busy:!1,progStyle:"mblProgWhite",baseClass:"mblHeading",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||j.doc.createElement(this.tag);this.inherited(arguments);this.label||f.forEach(this.domNode.childNodes,function(a){if(3==a.nodeType){var b=l.trim(a.nodeValue);if(b)this.label=b,this.labelNode=
i.create("span",{innerHTML:b},a,"replace")}},this);if(!this.labelNode)this.labelNode=i.create("span",null,this.domNode);this.labelNode.className="mblHeadingSpanTitle";this.labelDivNode=i.create("div",{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode);e.setSelectable(this.domNode,!1)},startup:function(){if(!this._started){var a=this.getParent&&this.getParent();if(!a||!a.resize){var b=this;setTimeout(function(){b.resize()},0)}this.inherited(arguments)}},resize:function(){if(this.labelNode){for(var a,
b,d=this.containerNode.childNodes,e=d.length-1;0<=e;e--){var g=d[e];1===g.nodeType&&"none"!==c.get(g,"display")&&(!b&&"right"===c.get(g,"float")&&(b=g),!a&&"left"===c.get(g,"float")&&(a=g))}if(!this.labelNodeLen&&this.label)this.labelNode.style.display="inline",this.labelNodeLen=this.labelNode.offsetWidth,this.labelNode.style.display="";d=this.domNode.offsetWidth;e=this.labelNodeLen||0;h[d-2*Math.max(b?d-b.offsetLeft+5:0,a?a.offsetLeft+a.offsetWidth+5:0)>e?"add":"remove"](this.domNode,"mblHeadingCenterTitle")}f.forEach(this.getChildren(),
function(a){a.resize&&a.resize()})},_setBackAttr:function(a){this._set("back",a);this.backButton?this.backButton.set("label",a):(this.backButton=new o({arrow:"left",label:a,moveTo:this.moveTo,back:!this.moveTo,href:this.href,transition:this.transition,transitionDir:-1}),this.backButton.placeAt(this.domNode,"first"));this.resize()},_setMoveToAttr:function(a){this._set("moveTo",a);this.backButton&&this.backButton.set("moveTo",a)},_setHrefAttr:function(a){this._set("href",a);this.backButton&&this.backButton.set("href",
a)},_setTransitionAttr:function(a){this._set("transition",a);this.backButton&&this.backButton.set("transition",a)},_setLabelAttr:function(a){this._set("label",a);this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(a):a},_setBusyAttr:function(a){var b=this._prog;if(a){if(!b)b=this._prog=new n({size:30,center:!1}),h.add(b.domNode,this.progStyle);i.place(b.domNode,this.domNode,"first");b.start()}else b.stop();this._set("busy",a)}})})},"dojox/mobile/ToolBarButton":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff,./_ItemBase".split(","),
function(f,m,k,l,j,e,h,i){return f("dojox.mobile.ToolBarButton",i,{selected:!1,arrow:"",light:!0,defaultColor:"mblColorDefault",selColor:"mblColorDefaultSel",baseClass:"mblToolBarButton",_selStartMethod:"touch",_selEndMethod:"touch",buildRendering:function(){if(!this.label&&this.srcNodeRef)this.label=this.srcNodeRef.innerHTML;this.label=m.trim(this.label);this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:j.create("span");this.inherited(arguments);if(this.light&&!this.arrow&&
(!this.icon||!this.label))this.labelNode=this.tableNode=this.bodyNode=this.iconParentNode=this.domNode,l.add(this.domNode,this.defaultColor+" mblToolBarButtonBody"+(this.icon?" mblToolBarButtonLightIcon":" mblToolBarButtonLightText"));else{this.domNode.innerHTML="";if("left"===this.arrow||"right"===this.arrow)this.arrowNode=j.create("span",{className:"mblToolBarButtonArrow mblToolBarButton"+("left"===this.arrow?"Left":"Right")+"Arrow "+(h("ie")?"":this.defaultColor+" "+this.defaultColor+"45")},this.domNode),
l.add(this.domNode,"mblToolBarButtonHas"+("left"===this.arrow?"Left":"Right")+"Arrow");this.bodyNode=j.create("span",{className:"mblToolBarButtonBody"},this.domNode);this.tableNode=j.create("table",{cellPadding:"0",cellSpacing:"0",border:"0"},this.bodyNode);if(!this.label&&this.arrow)this.tableNode.className="mblToolBarButtonText";var c=this.tableNode.insertRow(-1);this.iconParentNode=c.insertCell(-1);this.labelNode=c.insertCell(-1);this.iconParentNode.className="mblToolBarButtonIcon";this.labelNode.className=
"mblToolBarButtonLabel";this.icon&&"none"!==this.icon&&this.label&&(l.add(this.domNode,"mblToolBarButtonHasIcon"),l.add(this.bodyNode,"mblToolBarButtonLabeledIcon"));l.add(this.bodyNode,this.defaultColor)}},startup:function(){if(!this._started&&(this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick"),this.inherited(arguments),!this._isOnLine))this._isOnLine=!0,this.set("icon",void 0!==this._pendingIcon?this._pendingIcon:this.icon),delete this._pendingIcon},_onClick:function(c){c&&"keydown"===
c.type&&13!==c.keyCode||!1===this.onClick(c)||this.defaultClickAction(c)},onClick:function(){},_setLabelAttr:function(c){this.inherited(arguments);l.toggle(this.tableNode,"mblToolBarButtonText",c||this.arrow)},_setSelectedAttr:function(c){this.inherited(arguments);if(c){if(l.replace(this.bodyNode,this.selColor,this.defaultColor),!h("ie")&&this.arrowNode){var a=this.selColor,e=this.defaultColor;l.replace(this.arrowNode,a+" "+a+"45",e+" "+e+"45")}}else if(l.replace(this.bodyNode,this.defaultColor,this.selColor),
!h("ie")&&this.arrowNode)a=this.defaultColor,e=this.selColor,l.replace(this.arrowNode,a+" "+a+"45",e+" "+e+"45");l.toggle(this.domNode,"mblToolBarButtonSelected",c);l.toggle(this.bodyNode,"mblToolBarButtonBodySelected",c)}})})},"dojox/mobile/sniff":function(){define(["dojo/_base/window","dojo/_base/sniff"],function(f,m){var k=navigator.userAgent;m.add("bb",(0<=k.indexOf("BlackBerry")||0<=k.indexOf("BB10"))&&parseFloat(k.split("Version/")[1])||void 0,void 0,!0);m.add("android",parseFloat(k.split("Android ")[1])||
void 0,void 0,!0);if(k.match(/(iPhone|iPod|iPad)/)){var l=RegExp.$1.replace(/P/,"p"),k=k.match(/OS ([\d_]+)/)?RegExp.$1:"1",k=parseFloat(k.replace(/_/,".").replace(/_/g,""));m.add(l,k,void 0,!0);m.add("iphone",k,void 0,!0)}m("webkit")&&m.add("touch","undefined"!=typeof f.doc.documentElement.ontouchstart&&-1!=navigator.appVersion.indexOf("Mobile")||!!m("android"),void 0,!0);return m})},"dojox/mobile/_ItemBase":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/touch,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./TransitionEvent,./iconUtils,./sniff".split(","),
function(f,m,k,l,j,e,h,i,c,a,g,d){return m("dojox.mobile._ItemBase",[a,c,i],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:!1,url:"",urlTarget:"",back:!1,transition:"",transitionDir:1,transitionOptions:null,callback:null,label:"",toggle:!1,selected:!1,tabIndex:"0",_setTabIndexAttr:"",paramsToInherit:"transition,icon",_selStartMethod:"none",_selEndMethod:"none",_delayedSelection:!1,_duration:800,_handleClick:!0,buildRendering:function(){this.inherited(arguments);this._isOnLine=
this.inheritParams()},startup:function(){if(!this._started){this._isOnLine||this.inheritParams();if(this._handleClick&&"touch"===this._selStartMethod)this._onTouchStartHandle=this.connect(this.domNode,e.press,"_onTouchStart");this.inherited(arguments)}},inheritParams:function(){var a=this.getParent();a&&f.forEach(this.paramsToInherit.split(/,/),function(d){if(d.match(/icon/i)){var c=d+"Base",e=d+"Pos";this[d]&&a[c]&&"/"===a[c].charAt(a[c].length-1)&&(this[d]=a[c]+this[d]);this[d]||(this[d]=a[c]);
this[e]||(this[e]=a[e])}this[d]||(this[d]=a[d])},this);return!!a},getTransOpts:function(){var a=this.transitionOptions||{};f.forEach("moveTo,href,hrefTarget,url,target,urlTarget,scene,transition,transitionDir".split(","),function(d){a[d]=a[d]||this[d]},this);return a},userClickAction:function(){},defaultClickAction:function(a){this.handleSelection(a);!1!==this.userClickAction(a)&&this.makeTransition(a)},handleSelection:function(){this._delayedSelection&&this.set("selected",!0);if(this._onTouchEndHandle)this.disconnect(this._onTouchEndHandle),
this._onTouchEndHandle=null;var a=this.getParent();if(this.toggle)this.set("selected",!this._currentSel);else if(a&&a.selectOne)this.set("selected",!0);else if("touch"===this._selEndMethod)this.set("selected",!1);else if("timer"===this._selEndMethod){var d=this;this.defer(function(){d.set("selected",!1)},this._duration)}},makeTransition:function(a){if(this.back&&history)history.back();else if(this.href&&this.hrefTarget)l.global.open(this.href,this.hrefTarget||"_blank"),this._onNewWindowOpened(a);
else{var d=this.getTransOpts(),c=!(!d.moveTo&&!d.href&&!d.url&&!d.target&&!d.scene);if(!1!==this._prepareForTransition(a,c?d:null)&&c)this.setTransitionPos(a),(new g(this.domNode,d,a)).dispatch()}},_onNewWindowOpened:function(){},_prepareForTransition:function(){},_onTouchStart:function(a){if(!(this.getParent().isEditing||!1===this.onTouchStart(a))){if(!this._onTouchEndHandle&&"touch"===this._selStartMethod)this._onTouchMoveHandle=this.connect(l.body(),e.move,"_onTouchMove"),this._onTouchEndHandle=
this.connect(l.body(),e.release,"_onTouchEnd");this.touchStartX=a.touches?a.touches[0].pageX:a.clientX;this.touchStartY=a.touches?a.touches[0].pageY:a.clientY;this._currentSel=this.selected;this._delayedSelection?this._selTimer=setTimeout(k.hitch(this,function(){this.set("selected",!0)}),100):this.set("selected",!0)}},onTouchStart:function(){},_onTouchMove:function(a){var d=a.touches?a.touches[0].pageY:a.clientY;if(4<=Math.abs((a.touches?a.touches[0].pageX:a.clientX)-this.touchStartX)||4<=Math.abs(d-
this.touchStartY))this.cancel(),(a=this.getParent())&&a.selectOne?this._prevSel&&this._prevSel.set("selected",!0):this.set("selected",!1)},_disconnect:function(){this.disconnect(this._onTouchMoveHandle);this.disconnect(this._onTouchEndHandle);this._onTouchMoveHandle=this._onTouchEndHandle=null},cancel:function(){if(this._selTimer)clearTimeout(this._selTimer),this._selTimer=null;this._disconnect()},_onTouchEnd:function(a){if(this._selTimer||!this._delayedSelection)this.cancel(),this._onClick(a)},setTransitionPos:function(a){for(var d=
this;!(d=d.getParent(),!d||j.contains(d.domNode,"mblView")););if(d)d.clickedPosX=a.clientX,d.clickedPosY=a.clientY},transitionTo:function(a,d,c,e){(new g(this.domNode,a&&"object"===typeof a?a:{moveTo:a,href:d,url:c,scene:e,transition:this.transition,transitionDir:this.transitionDir})).dispatch()},_setIconAttr:function(a){this._isOnLine?(this._set("icon",a),this.iconNode=d.setIcon(a,this.iconPos,this.iconNode,this.alt,this.iconParentNode,this.refNode,this.position)):this._pendingIcon=a},_setLabelAttr:function(a){this._set("label",
a);this.labelNode.innerHTML=this._cv?this._cv(a):a},_setSelectedAttr:function(a){if(a){var d=this.getParent();d&&d.selectOne&&(d=f.filter(d.getChildren(),function(a){return a.selected}),f.forEach(d,function(a){this._prevSel=a;a.set("selected",!1)},this))}this._set("selected",a)}})})},"dojox/mobile/TransitionEvent":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/on","./transition"],function(f,m,k,l,j){return f("dojox.mobile.TransitionEvent",null,{constructor:function(e,
f,i){this.transitionOptions=f;this.target=e;this.triggerEvent=i||null},dispatch:function(){var e=l.emit(this.target,"startTransition",{bubbles:!0,cancelable:!0,detail:this.transitionOptions,triggerEvent:this.triggerEvent});e&&m.when(j,k.hitch(this,function(f){m.when(f.call(this,e),k.hitch(this,function(e){this.endTransition(e)}))}))},endTransition:function(e){l.emit(this.target,"endTransition",{detail:e.transitionOptions})}})})},"dojox/mobile/transition":function(){define(["dojo/_base/Deferred","dojo/_base/config"],
function(f,m){if(m.mblCSS3Transition){var k=new f;require([m.mblCSS3Transition],function(f){k.resolve(f)});return k}return null})},"dojox/mobile/iconUtils":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff".split(","),function(f,m,k,l,j,e,h,i,c,a){var g=j.getObject("dojox.mobile",!0);return new function(){this.setupSpriteIcon=function(a,b){if(a&&b){var e=f.map(b.split(/[ ,]/),
function(a){return a-0}),g=e[0],i=e[1];c.set(a,{clip:"rect("+g+"px "+(e[1]+e[2])+"px "+(e[0]+e[3])+"px "+i+"px)",top:(a.parentNode?c.get(a,"top"):0)-g+"px",left:-i+"px"});h.add(a,"mblSpriteIcon")}};this.createDomButton=function(d,b,f){if(!this._domButtons)if(a("webkit")){var g=function(a,b){var d,c;if(!a){var f={};c=e.doc.styleSheets;for(d=0;d<c.length;d++)c[d]&&g(c[d],f);return f}f=a.cssRules||[];for(d=0;d<f.length;d++)if(c=f[d],c.href&&c.styleSheet)g(c.styleSheet,b);else if(c.selectorText){var h=
c.selectorText.split(/,/);for(c=0;c<h.length;c++){var i=h[c],j=i.split(/>/).length-1;if(i.match(/(mblDomButton\w+)/)&&(i=RegExp.$1,!b[i]||j>b[i]))b[i]=j}}return b};this._domButtons=g()}else this._domButtons={};var j=d.className,l=f||d;if(j.match(/(mblDomButton\w+)/)&&-1===j.indexOf("/")){var k=RegExp.$1,r=4;j.match(/(mblDomButton\w+_(\d+))/)?r=RegExp.$2-0:void 0!==this._domButtons[k]&&(r=this._domButtons[k]);j=null;a("bb")&&!1!==m.mblBBBoxShadowWorkaround&&(j={style:"-webkit-box-shadow:none"});for(var p=
0,v=l;p<r;p++)v=v.firstChild||i.create("div",j,v);f&&(setTimeout(function(){h.remove(d,k)},0),h.add(f,k))}else if(-1!==j.indexOf("."))i.create("img",{src:j},l);else return null;h.add(l,"mblDomButton");b&&c.set(l,b);return l};this.createIcon=function(a,b,e,f,j,m,s){f=f||"";if(a&&0===a.indexOf("mblDomButton"))e?e.className.match(/(mblDomButton\w+)/)&&h.remove(e,RegExp.$1):e=i.create("div",null,m||j,s),e.title=f,h.add(e,a),this.createDomButton(e);else if(a&&"none"!==a){if(!e||"IMG"!==e.nodeName)e=i.create("img",
{alt:f},m||j,s);e.src=(a||"").replace("${theme}",g.currentTheme);this.setupSpriteIcon(e,b);b&&j&&(a=b.split(/[ ,]/),c.set(j,{width:a[2]+"px",height:a[3]+"px"}),h.add(j,"mblSpriteIconParent"));k.connect(e,"ondragstart",l,"stop")}return e};this.iconWrapper=!1;this.setIcon=function(a,b,c,e,f,g,j){if(!f||!a&&!c)return null;if(a&&"none"!==a){if(!this.iconWrapper&&0!==a.indexOf("mblDomButton")&&!b)c&&"DIV"===c.tagName&&(i.destroy(c),c=null),c=this.createIcon(a,null,c,e,f,g,j),h.add(c,"mblImageIcon");else if(c&&
"IMG"===c.tagName&&(i.destroy(c),c=null),c&&i.empty(c),c||(c=i.create("div",null,g||f,j)),this.createIcon(a,b,null,null,c),e)c.title=e;h.remove(f,"mblNoIcon");return c}i.destroy(c);h.add(f,"mblNoIcon");return null}}})},"dojox/mobile/View":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/sniff,dojo/_base/window,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./ViewController,./common,./transition,./viewRegistry".split(","),
function(f,m,k,l,j,e,h,i,c,a,g,d,b,n,o,q,t,s,r,p,v){j.getObject("dojox.mobile",!0);return l("dojox.mobile.View",[t,q,o],{selected:!1,keepScrollPos:!0,tag:"div",baseClass:"mblView",constructor:function(a,b){if(b)c.byId(b).style.visibility="hidden"},destroy:function(){v.remove(this.id);this.inherited(arguments)},buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||g.create(this.tag);this._animEndHandle=this.connect(this.domNode,"webkitAnimationEnd","onAnimationEnd");this._animStartHandle=
this.connect(this.domNode,"webkitAnimationStart","onAnimationStart");if(!m.mblCSS3Transition)this._transEndHandle=this.connect(this.domNode,"webkitTransitionEnd","onAnimationEnd");e("mblAndroid3Workaround")&&b.set(this.domNode,"webkitTransformStyle","preserve-3d");v.add(this);this.inherited(arguments)},startup:function(){if(!this._started){if(void 0===this._visible){var a=this.getSiblingViews(),b=location.hash&&location.hash.substring(1).split(/,/),d,c,e;f.forEach(a,function(a,g){-1!==f.indexOf(b,
a.id)&&(d=a);0==g&&(e=a);a.selected&&(c=a);a._visible=!1},this);(d||c||e)._visible=!0}this._visible&&(this.show(!0,!0),this.defer(function(){this.onStartView();k.publish("/dojox/mobile/startView",[this])}));if("visible"!=this.domNode.style.visibility)this.domNode.style.visibility="visible";this.inherited(arguments);a=this.getParent();(!a||!a.resize)&&this.resize();this._visible||this.hide()}},resize:function(){f.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},onStartView:function(){},
onBeforeTransitionIn:function(){},onAfterTransitionIn:function(){},onBeforeTransitionOut:function(){},onAfterTransitionOut:function(){},_clearClasses:function(a){if(a){var b=[];f.forEach(j.trim(a.className||"").split(/\s+/),function(a){(a.match(/^mbl\w*View$/)||-1===a.indexOf("mbl"))&&b.push(a)},this);a.className=b.join(" ")}},_fixViewState:function(b){for(var d=this.domNode.parentNode.childNodes,c=0;c<d.length;c++){var e=d[c];1===e.nodeType&&a.contains(e,"mblView")&&this._clearClasses(e)}this._clearClasses(b);
if(b=n.byNode(b))b._inProgress=!1},convertToId:function(a){return"string"==typeof a?a.replace(/^#?([^&?]+).*/,"$1"):a},_isBookmarkable:function(a){return a.moveTo&&(m.mblForceBookmarkable||"#"===a.moveTo.charAt(0))&&!a.hashchange},performTransition:function(d,f,g,i,l){if(!this._inProgress){this._inProgress=!0;var s,o;if(d&&"object"===typeof d)s=d,o=f;else{s={moveTo:d,transitionDir:f,transition:g,context:i,method:l};o=[];for(var p=5;p<arguments.length;p++)o.push(arguments[p])}this._detail=s;this._optArgs=
o;this._arguments=[s.moveTo,s.transitionDir,s.transition,s.context,s.method];if("#"!==s.moveTo){if(s.moveTo)o=this.convertToId(s.moveTo);else{if(!this._dummyNode)this._dummyNode=h.doc.createElement("div"),h.body().appendChild(this._dummyNode);o=this._dummyNode}this.addTransitionInfo&&"string"==typeof s.moveTo&&this._isBookmarkable(s)&&this.addTransitionInfo(this.id,s.moveTo,{transitionDir:s.transitionDir,transition:s.transition});var p=this.domNode,q=p.offsetTop;if(o=this.toNode=c.byId(o)){o.style.visibility=
"hidden";o.style.display="";this._fixViewState(o);var t=n.byNode(o);if(t){if(m.mblAlwaysResizeOnTransition||!t._resized)r.resizeAll(null,t),t._resized=!0;if(s.transition&&"none"!=s.transition)t.containerNode.style.paddingTop=q+"px";t.load&&t.load();t.movedFrom=p.id}e("mblAndroidWorkaround")&&!m.mblCSS3Transition&&s.transition&&"none"!=s.transition&&(b.set(o,"webkitTransformStyle","preserve-3d"),b.set(p,"webkitTransformStyle","preserve-3d"),a.add(o,"mblAndroidWorkaround"));this.onBeforeTransitionOut.apply(this,
this._arguments);k.publish("/dojox/mobile/beforeTransitionOut",[this].concat(j._toArray(this._arguments)));if(t){if(this.keepScrollPos&&!this.getParent()){q=h.body().scrollTop||h.doc.documentElement.scrollTop||h.global.pageYOffset||0;p._scrollTop=q;var v=1==s.transitionDir?0:o._scrollTop||0;o.style.top="0px";if(1<q||0!==v)p.style.top=v-q+"px",!1!==m.mblHideAddressBar&&setTimeout(function(){h.global.scrollTo(0,v||1)},0)}else o.style.top="0px";t.onBeforeTransitionIn.apply(t,this._arguments);k.publish("/dojox/mobile/beforeTransitionIn",
[t].concat(j._toArray(this._arguments)))}o.style.display="none";o.style.visibility="visible";r.fromView=this;r.toView=t;this._doTransition(p,o,s.transition,s.transitionDir)}else console.log("dojox/mobile/View.performTransition: destination view not found: "+s.moveTo)}}},_toCls:function(a){return"mbl"+a.charAt(0).toUpperCase()+a.substring(1)},_doTransition:function(c,f,g,l){var k=-1==l?" mblReverse":"";f.style.display="";if(!g||"none"==g)this.domNode.style.display="none",this.invokeCallback();else if(m.mblCSS3Transition)i.when(p,
j.hitch(this,function(a){var d=b.get(f,"position");b.set(f,"position","absolute");i.when(a(c,f,{transition:g,reverse:-1===l?!0:!1}),j.hitch(this,function(){b.set(f,"position",d);this.invokeCallback()}))}));else{-1!=g.indexOf("cube")&&(e("ipad")?b.set(f.parentNode,{webkitPerspective:1600}):e("iphone")&&b.set(f.parentNode,{webkitPerspective:800}));var s=this._toCls(g);e("mblAndroidWorkaround")?setTimeout(function(){a.add(c,s+" mblOut"+k);a.add(f,s+" mblIn"+k);a.remove(f,"mblAndroidWorkaround");setTimeout(function(){a.add(c,
"mblTransition");a.add(f,"mblTransition")},30)},70):(a.add(c,s+" mblOut"+k),a.add(f,s+" mblIn"+k),setTimeout(function(){a.add(c,"mblTransition");a.add(f,"mblTransition")},100));var n="50% 50%",r="50% 50%",o;-1!=g.indexOf("swirl")||-1!=g.indexOf("zoom")?(n=this.keepScrollPos&&!this.getParent()?h.body().scrollTop||h.doc.documentElement.scrollTop||h.global.pageYOffset||0:-d.position(c,!0).y,o=h.global.innerHeight/2+n,n="50% "+o+"px",r="50% "+o+"px"):-1!=g.indexOf("scale")&&(n=d.position(c,!0),r=(void 0!==
this.clickedPosX?this.clickedPosX:h.global.innerWidth/2)-n.x,n=this.keepScrollPos&&!this.getParent()?h.body().scrollTop||h.doc.documentElement.scrollTop||h.global.pageYOffset||0:-n.y,o=(void 0!==this.clickedPosY?this.clickedPosY:h.global.innerHeight/2)+n,n=r+"px "+o+"px",r=r+"px "+o+"px");b.set(c,{webkitTransformOrigin:n});b.set(f,{webkitTransformOrigin:r})}},onAnimationStart:function(){},onAnimationEnd:function(d){var c=d.animationName||d.target.className;if(!(-1===c.indexOf("Out")&&-1===c.indexOf("In")&&
-1===c.indexOf("Shrink"))){var f=!1;a.contains(this.domNode,"mblOut")?(f=!0,this.domNode.style.display="none",a.remove(this.domNode,[this._toCls(this._detail.transition),"mblIn","mblOut","mblReverse"])):this.containerNode.style.paddingTop="";b.set(this.domNode,{webkitTransformOrigin:""});if(-1!==c.indexOf("Shrink"))d=d.target,d.style.display="none",a.remove(d,"mblCloseContent"),(d=v.getEnclosingScrollable(this.domNode))&&d.onTouchEnd();f&&this.invokeCallback();this._clearClasses(this.domNode);this.clickedPosX=
this.clickedPosY=void 0;if(-1!==c.indexOf("Cube")&&-1!==c.indexOf("In")&&e("iphone"))this.domNode.parentNode.style.webkitPerspective=""}},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);k.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var a=n.byNode(this.toNode);if(a)a.onAfterTransitionIn.apply(a,this._arguments),k.publish("/dojox/mobile/afterTransitionIn",[a].concat(this._arguments)),a.movedFrom=void 0,this.setFragIds&&this._isBookmarkable(this._detail)&&
this.setFragIds(a);e("mblAndroidWorkaround")&&setTimeout(j.hitch(this,function(){a&&b.set(this.toNode,"webkitTransformStyle","");b.set(this.domNode,"webkitTransformStyle","")}),0);var d=this._detail.context,c=this._detail.method;if(d||c)c||(c=d,d=null),d=d||h.global,"string"==typeof c?d[c].apply(d,this._optArgs):"function"==typeof c&&c.apply(d,this._optArgs);this._detail=this._optArgs=this._arguments=void 0;this._inProgress=!1},isVisible:function(a){if(a){for(a=this.domNode;"BODY"!==a.tagName;a=a.parentNode)if("none"===
b.get(a,"display"))return!1;return!0}return"none"!==b.get(this.domNode,"display")},getShowingView:function(){for(var b=this.domNode.parentNode.childNodes,d=0;d<b.length;d++){var c=b[d];if(1===c.nodeType&&a.contains(c,"mblView")&&"none"!==c.style.display)return n.byNode(c)}return null},getSiblingViews:function(){return!this.domNode.parentNode?[this]:f.map(f.filter(this.domNode.parentNode.childNodes,function(b){return 1===b.nodeType&&a.contains(b,"mblView")}),function(a){return n.byNode(a)})},show:function(a,
b){var d=this.getShowingView();a||(d&&(d.onBeforeTransitionOut(d.id),k.publish("/dojox/mobile/beforeTransitionOut",[d,d.id])),this.onBeforeTransitionIn(this.id),k.publish("/dojox/mobile/beforeTransitionIn",[this,this.id]));b?this.domNode.style.display="":f.forEach(this.getSiblingViews(),function(a){a.domNode.style.display=a===this?"":"none"},this);this.load&&this.load();a||(d&&(d.onAfterTransitionOut(d.id),k.publish("/dojox/mobile/afterTransitionOut",[d,d.id])),this.onAfterTransitionIn(this.id),k.publish("/dojox/mobile/afterTransitionIn",
[this,this.id]))},hide:function(){this.domNode.style.display="none"}})})},"dojox/mobile/ViewController":function(){define("dojo/_base/kernel,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/on,dojo/ready,dijit/registry,./ProgressIndicator,./TransitionEvent,./viewRegistry".split(","),function(f,m,k,l,j,e,h,i,c,a,g,d,b,n,o,q){var t=l("dojox.mobile.ViewController",null,{dataHandlerClass:"dojox/mobile/dh/DataHandler",
dataSourceClass:"dojox/mobile/dh/UrlDataSource",fileTypeMapClass:"dojox/mobile/dh/SuffixFileTypeMap",constructor:function(){this.viewMap={};d(j.hitch(this,function(){g(e.body(),"startTransition",j.hitch(this,"onStartTransition"))}))},findTransitionViews:function(a){if(!a)return[];a.match(/^#?([^&?]+)(.*)/);var a=RegExp.$2,d=b.byId(RegExp.$1);if(!d)return[];for(var c=d.getParent();c;c=c.getParent())if(c.isVisible&&!c.isVisible()){var e=d.getShowingView();e&&e.id!==d.id&&d.show();d=c}return[d.getShowingView(),
d,a]},openExternalView:function(a,d){var c=new h,f=this.viewMap[a.url];if(f)return a.moveTo=f,a.noTransition?b.byId(f).hide():(new o(e.body(),a)).dispatch(),c.resolve(!0),c;for(var g=null,f=d.childNodes.length-1;0<=f;f--){var i=d.childNodes[f];if(1===i.nodeType&&"bottom"===(i.getAttribute("fixed")||b.byNode(i)&&b.byNode(i).fixed)){g=i;break}}require([a.dataHandlerClass||this.dataHandlerClass,a.dataSourceClass||this.dataSourceClass,a.fileTypeMapClass||this.fileTypeMapClass],j.hitch(this,function(f,
h,i){f=new f(new h(a.data||a.url),d,g);i=a.contentType||i.getContentType(a.url)||"html";f.processData(i,j.hitch(this,function(d){d?(this.viewMap[a.url]=a.moveTo=d,a.noTransition?b.byId(d).hide():(new o(e.body(),a)).dispatch(),c.resolve(!0)):c.reject("Failed to load "+a.url)}))}));return c},onStartTransition:function(a){a.preventDefault();if(a.detail){var d=a.detail;if(d.moveTo||d.href||d.url||d.scene)if(d.url&&!d.moveTo){var c=d.urlTarget,f=b.byId(c),c=f&&f.containerNode||i.byId(c);c||(c=(f=q.getEnclosingView(a.target))&&
f.domNode.parentNode||e.body());this.openExternalView(d,c)}else if(d.href)if(d.hrefTarget)e.global.open(d.href,d.hrefTarget);else{for(f=q.getEnclosingView(a.target);f;f=q.getParentView(f))c=f;c&&c.performTransition(null,d.transitionDir,d.transition,a.target,function(){location.href=d.href})}else if(d.scene)k.publish("/dojox/mobile/app/pushScene",[d.scene]);else{var g=this.findTransitionViews(d.moveTo),c=g[0],f=g[1],g=g[2];if(!location.hash&&!d.hashchange)q.initialView=c;if(d.moveTo&&f)d.moveTo=("#"===
d.moveTo.charAt(0)?"#"+f.id:f.id)+g;if(c&&!(d.moveTo&&c===b.byId(d.moveTo.replace(/^#?([^&?]+).*/,"$1")))){if((a=b.getEnclosingWidget(a.target))&&a.callback)d.context=a,d.method=a.callback;c.performTransition(d)}}}}});t._instance=new t;t.getInstance=function(){return t._instance};return t})},"dojox/mobile/viewRegistry":function(){define(["dojo/_base/array","dojo/dom-class","dijit/registry"],function(f,m,k){return{length:0,hash:{},initialView:null,add:function(f){this.hash[f.id]=f;this.length++},remove:function(f){this.hash[f]&&
(delete this.hash[f],this.length--)},getViews:function(){var f=[],j;for(j in this.hash)f.push(this.hash[j]);return f},getParentView:function(f){for(f=f.getParent();f;f=f.getParent())if(m.contains(f.domNode,"mblView"))return f;return null},getChildViews:function(l){return f.filter(this.getViews(),function(f){return this.getParentView(f)===l},this)},getEnclosingView:function(f){for(;f&&"BODY"!==f.tagName;f=f.parentNode)if(1===f.nodeType&&m.contains(f,"mblView"))return k.byNode(f);return null},getEnclosingScrollable:function(f){for(f=
k.getEnclosingWidget(f);f;f=f.getParent())if(f.scrollableParams&&f._v)return f;return null}}})},"dojox/mobile/common":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/ready,dijit/registry,./sniff,./uacss".split(","),function(f,m,k,l,j,e,h,i,c,a){var g=l.getObject("dojox.mobile",!0);g.getScreenSize=function(){return{h:j.global.innerHeight||j.doc.documentElement.clientHeight,w:j.global.innerWidth||j.doc.documentElement.clientWidth}};
g.updateOrient=function(){var a=g.getScreenSize();e.replace(j.doc.documentElement,a.h>a.w?"dj_portrait":"dj_landscape",a.h>a.w?"dj_landscape":"dj_portrait")};g.updateOrient();g.tabletSize=500;g.detectScreenSize=function(a){var d=g.getScreenSize(),c=Math.min(d.w,d.h),f,h;if(c>=g.tabletSize&&(a||!this._sz||this._sz<g.tabletSize))f="phone",h="tablet";else if(c<g.tabletSize&&(a||!this._sz||this._sz>=g.tabletSize))f="tablet",h="phone";h&&(e.replace(j.doc.documentElement,"dj_"+h,"dj_"+f),k.publish("/dojox/mobile/screenSize/"+
h,[d]));this._sz=c};g.detectScreenSize();g.hideAddressBarWait="number"===typeof m.mblHideAddressBarWait?m.mblHideAddressBarWait:1500;g.hide_1=function(){scrollTo(0,1);g._hidingTimer=0==g._hidingTimer?200:2*g._hidingTimer;setTimeout(function(){g.isAddressBarHidden()||g._hidingTimer>g.hideAddressBarWait?(g.resizeAll(),g._hiding=!1):setTimeout(g.hide_1,g._hidingTimer)},50)};g.hideAddressBar=function(){if(!g.disableHideAddressBar&&!g._hiding){g._hiding=!0;g._hidingTimer=a("iphone")?200:0;var b=screen.availHeight;
if(a("android")){b=outerHeight/devicePixelRatio;if(0==b)g._hiding=!1,setTimeout(function(){g.hideAddressBar()},200);b<=innerHeight&&(b=outerHeight);if(3>a("android"))j.doc.documentElement.style.overflow=j.body().style.overflow="visible"}if(j.body().offsetHeight<b)j.body().style.minHeight=b+"px",g._resetMinHeight=!0;setTimeout(g.hide_1,g._hidingTimer)}};g.isAddressBarHidden=function(){return 1===pageYOffset};g.resizeAll=function(a,d){if(!g.disableResizeAll){k.publish("/dojox/mobile/resizeAll",[a,d]);
k.publish("/dojox/mobile/beforeResizeAll",[a,d]);if(g._resetMinHeight)j.body().style.minHeight=g.getScreenSize().h+"px";g.updateOrient();g.detectScreenSize();var e=function(a){var b=a.getParent&&a.getParent();return!(b&&b.resize||!a.resize)},h=function(a){f.forEach(a.getChildren(),function(a){e(a)&&a.resize();h(a)})};d?(d.resize&&d.resize(),h(d)):f.forEach(f.filter(c.toArray(),e),function(a){a.resize()});k.publish("/dojox/mobile/afterResizeAll",[a,d])}};g.openWindow=function(a,d){j.global.open(a,
d||"_blank")};!1!==m.mblApplyPageStyles&&e.add(j.doc.documentElement,"mobile");a("chrome")&&e.add(j.doc.documentElement,"dj_chrome");if(j.global._no_dojo_dm){var l=j.global._no_dojo_dm,d;for(d in l)g[d]=l[d];g.deviceTheme.setDm(g)}a.add("mblAndroidWorkaround",!1!==m.mblAndroidWorkaround&&3>a("android"),void 0,!0);a.add("mblAndroid3Workaround",!1!==m.mblAndroid3Workaround&&3<=a("android"),void 0,!0);i(function(){g.detectScreenSize(!0);!1!==m.mblAndroidWorkaroundButtonStyle&&a("android")&&h.create("style",
{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;}"},j.doc.head,"first");a("mblAndroidWorkaround")&&h.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},j.doc.head,"last");var b=g.resizeAll,d=-1!=navigator.appVersion.indexOf("Mobile")&&!(7<=a("iphone"));if(!1!==m.mblHideAddressBar&&d||!0===m.mblForceHideAddressBar)if(g.hideAddressBar(),
!0===m.mblAlwaysHideAddressBar)b=g.hideAddressBar;var c=6<=a("iphone");if((a("android")||c)&&void 0!==j.global.onorientationchange){var e=b,f,i,l;c?(i=j.doc.documentElement.clientWidth,l=j.doc.documentElement.clientHeight):(b=function(){var a=k.connect(null,"onresize",null,function(b){k.disconnect(a);e(b)})},f=g.getScreenSize());k.connect(null,"onresize",null,function(a){if(c){var b=j.doc.documentElement.clientWidth,d=j.doc.documentElement.clientHeight;b==i&&d!=l&&e(a);i=b;l=d}else b=g.getScreenSize(),
b.w==f.w&&100<=Math.abs(b.h-f.h)&&e(a),f=b})}k.connect(null,void 0!==j.global.onorientationchange?"onorientationchange":"onresize",null,b);j.body().style.visibility="visible"});return g})},"dojox/mobile/uacss":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./sniff"],function(f,m,k,l){k=k.doc.documentElement;k.className=m.trim(k.className+" "+[l("bb")?"dj_bb":"",l("android")?"dj_android":"",l("iphone")?"dj_iphone":"",l("ipod")?"dj_ipod":"",l("ipad")?"dj_ipad":""].join(" ").replace(/ +/g,
" "));return f})},"ninja/widget/SubtitleFragment":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./SubtitleFragment.html,dojo/Evented,dojo/on,dojo/_base/lang,dojo/_base/array,ninja/model/mediaModel,dojo/dom-style,ninja/service/homerunProtocol,dojox/mobile/Heading,ninja/mobile/Button,dojox/mobile/RoundRectCategory,dojox/mobile/RoundRectList,dojox/mobile/ListItem".split(","),function(f,m,k,l,j,e,h,i,c,a,g,d){return f("ninja.widget.SubtitleFragment",
[m,k,l,e],{templateString:j,languageOption:null,startup:function(){this.inherited(arguments);this.registerEventListener()},registerEventListener:function(){h(a,"language update",i.hitch(this,this.onLanguageUpdate));h(this.audioSelect,"change",i.hitch(this,this.onAudioChange));h(this.subtitleSelect,"change",i.hitch(this,this.onSubtitleChange));h(this.backButton,"click",i.hitch(this,this.onBackClick))},onLanguageUpdate:function(){this.languageOption=a.getLanguageOption();this.renderLanguageOption()},
onBackClick:function(){this.emit("back")},renderLanguageOption:function(){null==this.languageOption?(this.subtitleSelect.innerHTML="",this.audioSelect.innerHTML=""):(this.renderSubtitle(),this.renderAudio())},renderSubtitle:function(){var a=this;a.subtitleSelect.innerHTML="";g.set(a.subtitlePanel,"display","block");null==a.languageOption.subtitle||"null"==a.languageOption.subtitle||0==a.languageOption.subtitle.length?g.set(a.subtitlePanel,"display","none"):(dojo.create("option",{innerHTML:"Off"},
a.subtitleSelect),c.forEach(a.languageOption.subtitle,function(d){dojo.create("option",{innerHTML:d},a.subtitleSelect)}),a.subtitleSelect.selectedIndex="off"==a.languageOption.currentSubtitle?0:parseInt(a.languageOption.currentSubtitle)+1)},renderAudio:function(){var a=this;a.audioSelect.innerHTML="";g.set(a.audioPanel,"display","block");null==a.languageOption.audio||"null"==a.languageOption.audio||0==a.languageOption.audio.length?g.set(a.audioPanel,"display","none"):(c.forEach(a.languageOption.audio,
function(d){dojo.create("option",{innerHTML:d},a.audioSelect)}),a.audioSelect.selectedIndex=parseInt(a.languageOption.currentAudio))},onAudioChange:function(){d.sendRequest("media audio "+this.audioSelect.selectedIndex)},onSubtitleChange:function(){var a=this.subtitleSelect.selectedIndex-1;-1==a?d.sendRequest("media subtitle off"):d.sendRequest("media subtitle "+a)}})})},"url:ninja/widget/SubtitleFragment.html":'<div style="width:100%;"> \n\n    <div class="smartremoteSubHeading">\n        <div data-dojo-attach-point="backButton" data-dojo-type="ninja.mobile.Button"\n            highlightClass="backButtonHighlight" dehighlightClass="backButtonDehighlight" \n            style="width:30px; height:30px; position:absolute; left:10px; border-top:0px;">\n        </div>\n    </div>\n\n    <div style="padding-top:50px;">\n    \n            <ul data-dojo-type="dojox.mobile.RoundRectList" class="languageRoundRectList">    \n\n                <div data-dojo-attach-point="audioPanel">\n                    <h2 data-dojo-type="dojox.mobile.RoundRectCategory">Audio</h2>\n                    <select data-dojo-attach-point="audioSelect" class="languageSelect">\n                    </select>\n                </div>\n\n                <div data-dojo-attach-point="subtitlePanel">\n                    <h2 data-dojo-type="dojox.mobile.RoundRectCategory" style="margin-top: 20px;">Subtitle</h2>\n                    <select data-dojo-attach-point="subtitleSelect" class="languageSelect">\n                    </select> \n                </div>   \n\n            </ul>        \n    </div>\n\n</div>',
"ninja/model/mediaModel":function(){define("dojo/_base/declare,dojo/Evented,dojo/on,dojo/_base/array,dojo/_base/lang,ninja/service/homerunProtocol,ninja/model/channelModel".split(","),function(f,m,k,l,j,e,h){return new (f("",[m],{playingQueueId:null,languageOption:null,constructor:function(){this.registerEventListener();this.fetchLanguage()},registerEventListener:function(){k(h,"now_playing",j.hitch(this,this.onNowPlaying));k(e,"media language update",j.hitch(this,this.onLanguageUpdate))},fetchLanguage:function(){console.log("try to fetch language");
e.sendRequestForResponse("media language get").then(j.hitch(this,this.onGetLanguageSuccess),j.hitch(this,this.onGetLanguageFail))},onGetLanguageSuccess:function(e){this.languageOption=e;this.emit("language update")},onGetLanguageFail:function(){console.warn("get language faile")},onLanguageUpdate:function(e){this.languageOption=e.response;this.emit("language update")},onNowPlaying:function(){if(null==this.playingQueueId||null==h.getPlayingQueueId()||this.playingQueueId!=h.getPlayingQueueId())console.log("clear language option"),
this.languageOption=null,this.playingQueueId=h.getPlayingQueueId(),this.fetchLanguage(),this.emit("language update")},getLanguageOption:function(){return this.languageOption}}))})},"dojox/mobile/RoundRectCategory":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dijit/_Contained","dijit/_WidgetBase"],function(f,m,k,l,j){return f("dojox.mobile.RoundRectCategory",[j,l],{label:"",tag:"h2",baseClass:"mblRoundRectCategory",buildRendering:function(){var e=this.domNode=this.containerNode=
this.srcNodeRef||k.create(this.tag);this.inherited(arguments);if(!this.label&&1===e.childNodes.length&&3===e.firstChild.nodeType)this.label=e.firstChild.nodeValue},_setLabelAttr:function(e){this.label=e;this.domNode.innerHTML=this._cv?this._cv(e):e}})})},"dojox/mobile/RoundRectList":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-construct,dijit/_Contained,dijit/_Container,dijit/_WidgetBase".split(","),function(f,m,k,l,j,e,h,i,c){return m("dojox.mobile.RoundRectList",
[c,i,h],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:!1,syncWithViews:!1,editable:!1,tag:"ul",editableMixinClass:"dojox/mobile/_EditableListMixin",baseClass:"mblRoundRectList",buildRendering:function(){this.domNode=this.srcNodeRef||e.create(this.tag);this.inherited(arguments)},postCreate:function(){this.editable&&require([this.editableMixinClass],l.hitch(this,function(a){m.safeMixin(this,new a)}));this.connect(this.domNode,"onselectstart",k.stop);if(this.syncWithViews){var a=function(a){var d=
f.filter(this.getChildren(),function(b){return b.moveTo==="#"+a.id||b.moveTo===a.id})[0];d&&d.set("selected",!0)};this.subscribe("/dojox/mobile/afterTransitionIn",a);this.subscribe("/dojox/mobile/startView",a)}},resize:function(){f.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},onCheckStateChanged:function(){},_setStatefulAttr:function(a){this._set("stateful",a);this.selectOne=a;f.forEach(this.getChildren(),function(a){a.setArrow&&a.setArrow()})},deselectItem:function(a){a.set("selected",
!1)},deselectAll:function(){f.forEach(this.getChildren(),function(a){a.set("selected",!1)})},selectItem:function(a){a.set("selected",!0)}})})},"dojox/mobile/ListItem":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dijit/registry,dijit/_WidgetBase,./iconUtils,./_ItemBase,./ProgressIndicator".split(","),function(f,m,k,l,j,e,h,i,c,a,g){m=m("dojox.mobile.ListItem",a,{rightText:"",rightIcon:"",rightIcon2:"",deleteIcon:"",anchorLabel:!1,
noArrow:!1,checked:!1,arrowClass:"",checkClass:"",uncheckClass:"",variableHeight:!1,rightIconTitle:"",rightIcon2Title:"",header:!1,tag:"li",busy:!1,progStyle:"",paramsToInherit:"variableHeight,transition,deleteIcon,icon,rightIcon,rightIcon2,uncheckIcon,arrowClass,checkClass,uncheckClass,deleteIconTitle,deleteIconRole",baseClass:"mblListItem",_selStartMethod:"touch",_selEndMethod:"timer",_delayedSelection:!0,_selClass:"mblListItemSelected",buildRendering:function(){this.domNode=this.containerNode=
this.srcNodeRef||j.create(this.tag);this.inherited(arguments);this.selected&&l.add(this.domNode,this._selClass);this.header&&l.replace(this.domNode,"mblEdgeToEdgeCategory",this.baseClass);this.labelNode=j.create("div",{className:"mblListItemLabel"});var a=this.srcNodeRef;a&&1===a.childNodes.length&&3===a.firstChild.nodeType&&this.labelNode.appendChild(a.firstChild);this.domNode.appendChild(this.labelNode);if(this.anchorLabel)this.labelNode.style.display="inline",this.labelNode.style.cursor="pointer",
this._anchorClickHandle=this.connect(this.labelNode,"onclick","_onClick"),this.onTouchStart=function(a){return a.target!==this.labelNode};this._layoutChildren=[]},startup:function(){if(!this._started){var a=this.getParent(),b=this.getTransOpts();b.moveTo||b.href||b.url||this.clickable||a&&a.select?this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick"):this._handleClick=!1;this.inherited(arguments);if(l.contains(this.domNode,"mblVariableHeight"))this.variableHeight=!0;this.variableHeight&&
(l.add(this.domNode,"mblVariableHeight"),this.defer(k.hitch(this,"layoutVariableHeight"),0));if(!this._isOnLine)this._isOnLine=!0,this.set({icon:void 0!==this._pending_icon?this._pending_icon:this.icon,deleteIcon:void 0!==this._pending_deleteIcon?this._pending_deleteIcon:this.deleteIcon,rightIcon:void 0!==this._pending_rightIcon?this._pending_rightIcon:this.rightIcon,rightIcon2:void 0!==this._pending_rightIcon2?this._pending_rightIcon2:this.rightIcon2,uncheckIcon:void 0!==this._pending_uncheckIcon?
this._pending_uncheckIcon:this.uncheckIcon}),delete this._pending_icon,delete this._pending_deleteIcon,delete this._pending_rightIcon,delete this._pending_rightIcon2,delete this._pending_uncheckIcon;a&&a.select&&(this.set("checked",void 0!==this._pendingChecked?this._pendingChecked:this.checked),delete this._pendingChecked);this.setArrow();this.layoutChildren()}},layoutChildren:function(){var a;f.forEach(this.domNode.childNodes,function(b){if(1===b.nodeType){var c=b.getAttribute("layout")||(h.byNode(b)||
{}).layout;c&&(l.add(b,"mblListItemLayout"+c.charAt(0).toUpperCase()+c.substring(1)),this._layoutChildren.push(b),"center"===c&&(a=b))}},this);a&&this.domNode.insertBefore(a,this.domNode.firstChild)},resize:function(){this.variableHeight&&this.layoutVariableHeight();this.labelNode.style.display=this.labelNode.firstChild?"block":"inline"},_onTouchStart:function(a){!a.target.getAttribute("preventTouch")&&!(h.getEnclosingWidget(a.target)||{}).preventTouch&&this.inherited(arguments)},_onClick:function(a){if(!(this.getParent().isEditing||
a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onClick(a))){var b=this.labelNode;if(this.anchorLabel&&a.currentTarget===b)l.add(b,"mblListItemLabelSelected"),setTimeout(function(){l.remove(b,"mblListItemLabelSelected")},this._duration),this.onAnchorLabelClicked(a);else{var c=this.getParent();c.select&&("single"===c.select?this.checked||this.set("checked",!0):"multiple"===c.select&&this.set("checked",!this.checked));this.defaultClickAction(a)}}},onClick:function(){},onAnchorLabelClicked:function(){},
layoutVariableHeight:function(){var a=this.domNode.offsetHeight;if(a!==this.domNodeHeight)this.domNodeHeight=a,f.forEach(this._layoutChildren.concat([this.rightTextNode,this.rightIcon2Node,this.rightIconNode,this.uncheckIconNode,this.iconNode,this.deleteIconNode,this.knobIconNode]),function(a){if(a){var d=this.domNode,c=function(){var c=Math.round((d.offsetHeight-a.offsetHeight)/2)-e.get(d,"paddingTop");a.style.marginTop=c+"px"};0===a.offsetHeight&&"IMG"===a.tagName?a.onload=c:c()}},this)},setArrow:function(){if(!this.checked){var a=
"",b=this.getParent(),c=this.getTransOpts();if(c.moveTo||c.href||c.url||this.clickable)if(!this.noArrow&&(!b||!b.selectOne))a=this.arrowClass||"mblDomButtonArrow";a&&this._setRightIconAttr(a)}},_findRef:function(a){for(var b,c="deleteIcon,icon,rightIcon,uncheckIcon,rightIcon2,rightText".split(","),a=f.indexOf(c,a)+1;a<c.length;a++)if(b=this[c[a]+"Node"])return b;for(a=c.length-1;0<=a;a--)if(b=this[c[a]+"Node"])return b.nextSibling;return this.domNode.firstChild},_setIcon:function(a,b){if(this._isOnLine){this._set(b,
a);this[b+"Node"]=c.setIcon(a,this[b+"Pos"],this[b+"Node"],this[b+"Title"]||this.alt,this.domNode,this._findRef(b),"before");if(this[b+"Node"]){var e=b.charAt(0).toUpperCase()+b.substring(1);l.add(this[b+"Node"],"mblListItem"+e)}(e=this[b+"Role"])&&this[b+"Node"].setAttribute("role",e)}else this["_pending_"+b]=a},_setDeleteIconAttr:function(a){this._setIcon(a,"deleteIcon")},_setIconAttr:function(a){this._setIcon(a,"icon")},_setRightTextAttr:function(a){if(!this.rightTextNode)this.rightTextNode=j.create("div",
{className:"mblListItemRightText"},this.labelNode,"before");this.rightText=a;this.rightTextNode.innerHTML=this._cv?this._cv(a):a},_setRightIconAttr:function(a){this._setIcon(a,"rightIcon")},_setUncheckIconAttr:function(a){this._setIcon(a,"uncheckIcon")},_setRightIcon2Attr:function(a){this._setIcon(a,"rightIcon2")},_setCheckedAttr:function(a){if(this._isOnLine){var b=this.getParent();b&&"single"===b.select&&a&&f.forEach(b.getChildren(),function(a){a!==this&&a.checked&&a.set("checked",!1)},this);this._setRightIconAttr(this.checkClass||
"mblDomButtonCheck");this._setUncheckIconAttr(this.uncheckClass);l.toggle(this.domNode,"mblListItemChecked",a);l.toggle(this.domNode,"mblListItemUnchecked",!a);l.toggle(this.domNode,"mblListItemHasUncheck",!!this.uncheckIconNode);this.rightIconNode.style.position=this.uncheckIconNode&&!a?"absolute":"";if(b&&this.checked!==a)b.onCheckStateChanged(this,a);this._set("checked",a)}else this._pendingChecked=a},_setBusyAttr:function(a){var b=this._prog;if(a){if(!this._progNode)this._progNode=j.create("div",
{className:"mblListItemIcon"}),b=this._prog=new g({size:25,center:!1}),l.add(b.domNode,this.progStyle),this._progNode.appendChild(b.domNode);this.iconNode?this.domNode.replaceChild(this._progNode,this.iconNode):j.place(this._progNode,this._findRef("icon"),"before");b.start()}else this.iconNode?this.domNode.replaceChild(this.iconNode,this._progNode):this.domNode.removeChild(this._progNode),b.stop();this._set("busy",a)},_setSelectedAttr:function(a){this.inherited(arguments);l.toggle(this.domNode,this._selClass,
a)}});m.ChildWidgetProperties={layout:"",preventTouch:!1};k.extend(i,m.ChildWidgetProperties);return m})},"ninja/widget/MediaController":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./MediaController.html,dojo/Evented,dojo/_base/lang,dojo/on,ninja/service/homerunProtocol,dojo/dom-style,dojo/dom-attr,dojo/query,dojo/_base/array,ninja/model/mediaModel,ninja/model/channelModel,ninja/model/queueModel,dojox/mobile/ProgressIndicator,ninja/mobile/Button".split(","),
function(f,m,k,l,j,e,h,i,c,a,g,d,b,n,o){return f("ninja.widget.MediaController",[m,k,l,e],{templateString:j,control:null,startup:function(){this.inherited(arguments);this.registerEventListener();c.sendRequestForResponse("control get").then(h.hitch(this,this.onGetControlSuccess),h.hitch(this,this.onGetControlFail))},registerEventListener:function(){i(this.playButton,"click",h.hitch(this,this.onPlayClick));i(this.pauseButton,"click",h.hitch(this,this.onPlayClick));i(this.volumeUpButton,"click",h.hitch(this,
this.onVolumeUpClick));i(this.volumeDownButton,"click",h.hitch(this,this.onVolumeDownClick));i(this.languageButton,"click",h.hitch(this,this.onLanguageClick));i(this.rotateButton,"click",h.hitch(this,this.onRotateClick));i(o,"now_playing",h.hitch(this,this._onNowPlaying));i(c,"control update",h.hitch(this,this.onControlUpdate));i(n,"language update",h.hitch(this,this.onLanguageUpdate))},onGetControlSuccess:function(a){this.onControlUpdate({response:a})},onGetControlFail:function(){console.warn("get control fail")},
onControlUpdate:function(a){this.control=a.response;this.progressIndicator.stop();this.renderControl()},onPlayClick:function(){"playing"==this.control.status?c.sendRequest("control pause"):"paused"==this.control.status?c.sendRequest("control play"):"buffering"==this.control.status&&c.sendRequest("control pause")},onVolumeUpClick:function(){c.sendRequest("volume up")},onVolumeDownClick:function(){c.sendRequest("volume down")},onLanguageClick:function(){this.emit("languageSetting")},onRotateClick:function(){c.sendRequest("control_picture rotate clockwise")},
renderControl:function(){"playing"==this.control.status?(a.set(this.pauseButton.domNode,"display","inline-block"),a.set(this.playButton.domNode,"display","none")):"paused"==this.control.status?(a.set(this.pauseButton.domNode,"display","none"),a.set(this.playButton.domNode,"display","inline-block")):"buffering"==this.control.status&&(a.set(this.pauseButton.domNode,"display","inline-block"),a.set(this.playButton.domNode,"display","none"));this.onLanguageUpdate()},onLanguageUpdate:function(){var b=n.getLanguageOption(),
c=!0;null==b?c=!1:"null"==b.subtitle&&"null"==b.audio?c=!1:"null"==b.subtitle&&1==b.audio.length&&(c=!1);c?a.set(this.languageButton.domNode,"display","block"):a.set(this.languageButton.domNode,"display","none")},_onNowPlaying:function(b){b&&b.queue_item&&b.queue_item.type&&"slideshow"===b.queue_item.type?a.set(this.rotateButton.domNode,"display","inline-block"):a.set(this.rotateButton.domNode,"display","none")}})})},"url:ninja/widget/MediaController.html":'<div>\n\t<div data-dojo-type="dojox.mobile.ProgressIndicator" startSpinning="true" data-dojo-attach-point="progressIndicator"\n        style="position:absolute; top:0px; float:left; left:0px; width:auto; heigth:auto; top:4pt; left:11pt;"></div>\n\n    <div data-dojo-attach-point="playButton" data-dojo-type="ninja.mobile.Button"\n        highlightClass="playButtonHighlight" dehighlightClass="playButtonDehighlight"\n        style="width:80px; float:left; display: none; border-top:0px;">\n    </div>\n\n    <div data-dojo-attach-point="pauseButton" data-dojo-type="ninja.mobile.Button"\n        highlightClass="pauseButtonHighlight" dehighlightClass="pauseButtonDehighlight"\n        style="width:80px; float:left; display: none; border-top:0px;">\n    </div>\n\n    <div data-dojo-attach-point="languageButton" data-dojo-type="ninja.mobile.Button"\n        highlightClass="languageButtonHighlight" dehighlightClass="languageButtonDehighlight"\n        style="width:80px; float:left; border-top:0px; display:none;">\n    </div>\n\n    <div data-dojo-attach-point="rotateButton" data-dojo-type="ninja.mobile.Button"\n        highlightClass="rotateButtonHighlight" dehighlightClass="rotateButtonDehighlight"\n        style="width:80px; float:left; border-top:0px; display:none;">\n    </div>\n\n    <div data-dojo-attach-point="volumeUpButton" data-dojo-type="ninja.mobile.Button"\n        highlightClass="volumeUpButtonHighlight" dehighlightClass="volumeUpButtonDehighlight"\n        style="width:80px; float:right; border-right:0px; border-left:0px; border-top:0px;">\n    </div>\n\n    <div data-dojo-attach-point="volumeDownButton" data-dojo-type="ninja.mobile.Button"\n        highlightClass="volumeDownButtonHighlight" dehighlightClass="volumeDownButtonDehighlight"\n        style="width:80px; float:right; border-top:0px;">\n    </div>\n</div>\n',
"ninja/widget/ChannelFragment":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./ChannelFragment.html,dojo/Evented,dojo/_base/lang,dojo/on,ninja/model/channelModel,ninja/model/liveChannelModel,ninja/service/homerunProtocol,ninja/mobile/service/loading,dojo/_base/array,ninja/mobile/ListItem,dojox/mobile/Heading,ninja/mobile/List".split(","),function(f,m,k,l,j,e,h,i,c,a,g,d,b,n){return f("ninja.widget.ChannelFragment",[m,k,l,e],{templateString:j,
startup:function(){this.inherited(arguments);this._registerEventListener();d.show();c.isReady()&&this._onChannelReady()},_registerEventListener:function(){i(c,"ready",h.hitch(this,this._onChannelReady));i(c,"update",h.hitch(this,this._onChannelUpdate));i(c,"now_playing",h.hitch(this,this._onNowPlaying));i(this.channelList,"select",h.hitch(this,this._onChannelSelect));i(this.channelList,"right_tap",h.hitch(this,this._onChannelRightTap));i(this.settingButton,"click",h.hitch(this,this._onSettingClick))},
_onChannelSelect:function(a){g.sendRequest("channel "+a.listItem.channel.channel_id)},_onChannelRightTap:function(a){this.emit("browse_channel",a.listItem.channel)},_onSettingClick:function(){this.emit("setting")},_onChannelReady:function(){this._renderChannel(c.getChannels());d.hide()},_onChannelUpdate:function(){this._renderChannel(c.getChannels())},_onNowPlaying:function(a){var c=!1,d;b.forEach(this.channelList.getChildren(),function(b){b.channel.channel_id===a.channel_id?(b.set("styleClass","ninjaListItem_playing"),
b.set("newImage",!1),b.channel.is_new=!1,c=!0):"live"===b.channel.channel_id?d=b:b.set("styleClass","ninjaListItemWhiteStyle")});d&&this._updateLiveChannelItem(d,c)},_updateLiveChannelItem:function(b,d){if(c.isPlayingLiveChannel()&&!d){var e=c.getPlayingChannelId(),e=a.getLiveChannel(e);b.domNode.style.display="block";b.set("styleClass","ninjaListItem_playing");e&&e.name&&e.icon&&(b.set("text",e.name),b.set("image",e.icon))}else b.domNode.style.display="none"},_renderChannel:function(a){var d=[],
e,f=!1;b.forEach(a,function(a){var b=new n({styleClass:"ninjaListItemWhiteStyle"});b.startup();b.set("text",a.name);"queue"===a.channel_id?(b.set("image","images/icons/60_queue_list.png"),b.set("text","My Queue")):b.set("image",a.icon);b.set("newImage",a.is_new);b.set("rightImage","images/icons/60_rightarrow_darkgrey.png");b.channel=a;a.channel_id===c.getPlayingChannelId()&&(b.set("styleClass","ninjaListItem_playing"),f=!0);"live"===a.channel_id&&(e=b);d.push(b)});e&&this._updateLiveChannelItem(e,
f);this.channelList.setListItem(d)}})})},"url:ninja/widget/ChannelFragment.html":'<div>\n\n    <div class="smartremoteSubHeading" id="subheading" >\n        <div data-dojo-attach-point="settingButton" data-dojo-type="ninja.mobile.Button" \n                highlightClass="settingButtonHighlight" dehighlightClass="settingButtonDehighlight" \n                style="width:35px; height:35px; position:absolute; right:5pt; border-top:0px;">\n        </div>\n    </div>\n\n    <div data-dojo-attach-point="channelList" data-dojo-type="ninja.mobile.List" style="padding-bottom:100px; padding-top:42px;">\n    \t\n    </div>\n\n</div>',
"ninja/model/liveChannelModel":function(){define("dojo/_base/declare,dojo/Evented,dojo/on,dojo/request,dojo/io-query,dojo/_base/array,dojo/_base/lang".split(","),function(f,m,k,l,j,e,h){return new (f("",[m],{liveChannelMap:[],constructor:function(){this.fetchChannel()},fetchChannel:function(){var e=-1;void 0!=WebRemote.getVersion&&(e=WebRemote.getVersion());-1==e&&(e=1E3);l.get("http://pentachannel.com/apis/support/?version="+e,{headers:{"X-Requested-With":null},handleAs:"json"}).then(h.hitch(this,
this.onFetchChannelSuccess),h.hitch(this,this.onFetchChannelFail))},onFetchChannelSuccess:function(f){var c=this;e.forEach(f,function(a){if(null!=a.streamUrl){var e=j.queryToObject(a.streamUrl);h.mixin(a,e);c.liveChannelMap[a.channel_id]=a}})},onFetchChannelFail:function(e){console.log(e)},getLiveChannel:function(e){return this.liveChannelMap[e]}}))})},"dojo/request":function(){define(["./request/default!"],function(f){return f})},"dojo/request/default":function(){define(["exports","require","../has"],
function(f,m,k){var l=k("config-requestProvider");l||(l="./xhr");f.getPlatformDefaultId=function(){return"./xhr"};f.load=function(f,e,h){m(["platform"==f?"./xhr":l],function(e){h(e)})}})},"ninja/widget/SettingFragment":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./SettingFragment.html,dojo/Evented,dojo/on,dojo/_base/lang,ninja/model/settingModel,dojox/mobile/Heading,ninja/mobile/Button,dojox/mobile/CheckBox,dojox/mobile/RoundRectCategory,dojox/mobile/RoundRectList,dojox/mobile/ListItem,dojox/mobile/Switch".split(","),
function(f,m,k,l,j,e,h,i,c){return f("ninja.widget.SettingFragment",[m,k,l,e],{templateString:j,startup:function(){this.inherited(arguments);this._registerEventListener()},_registerEventListener:function(){h(this.backButton,"click",i.hitch(this,this._onBackClick));h(c,"update",i.hitch(this,this._onSettingUpdate));h(this.playOnStartupCheckbox,"change",i.hitch(this,this._onPlayOnStartupCheckbox));h(this.repeatSelect,"change",i.hitch(this,this._onRepeatSelectChange));h(this.aspectRatioSelect,"change",
i.hitch(this,this._onAspectRatioSelectChange))},_onBackClick:function(){this.emit("back")},_onRepeatSelectChange:function(){c.setRepeat(this.repeatSelect.options[this.repeatSelect.selectedIndex].value)},_onAspectRatioSelectChange:function(){c.setAspectRatio(this.aspectRatioSelect.selectedIndex)},_onPlayOnStartupCheckbox:function(){this.playOnStartupCheckbox.checked?"on"!=c.getPlayOnStartup()&&c.setPlayOnStartup(!0):"off"!=c.getPlayOnStartup()&&c.setPlayOnStartup(!1)},_onSettingUpdate:function(){this._renderSetting()},
_renderSetting:function(){var a=c.getRepeatSetting();if("oneitem"==a)this.repeatSelect.selectedIndex=0;else if("playlist"==a)this.repeatSelect.selectedIndex=1;else if("off"==a)this.repeatSelect.selectedIndex=2;this.playOnStartupCheckbox.checked="on"==c.getPlayOnStartup()?!0:!1;this.aspectRatioSelect.selectedIndex=c.getAspectRatio()}})})},"url:ninja/widget/SettingFragment.html":'<div> \n\n    <div class="smartremoteSubHeading">\n        <div data-dojo-attach-point="backButton" data-dojo-type="ninja.mobile.Button"\n            highlightClass="backButtonHighlight" dehighlightClass="backButtonDehighlight" \n            style="width:30px; height:30px; position:absolute; left:10px; border-top:0px;">\n        </div>\n    </div>\n\n    <div style="padding-top:50px;">\n        <h2 data-dojo-type="dojox.mobile.RoundRectCategory">Queue</h2>\n        <ul data-dojo-type="dojox.mobile.RoundRectList">\n            <li data-dojo-type="dojox.mobile.ListItem" data-dojo-props=\'iconPos:"0,0,29,29"\'>Repeat Queue\n                <select data-dojo-attach-point="repeatSelect" class="settingSelect">\n                        <option value="oneitem">1 Item</option>\n                        <option value="playlist">All</option>\n                        <option value="off">Off</option>\n                </select>\n            </li>\n\n             <li data-dojo-type="dojox.mobile.ListItem" data-dojo-props=\'iconPos:"0,0,29,29"\'>Play on startup\n                <input type="checkbox" data-dojo-attach-point="playOnStartupCheckbox" class="playonStartupCheckbox"><br>\n            </li>\n        </ul>\n\n        <h2 data-dojo-type="dojox.mobile.RoundRectCategory">Screen</h2>\n        <ul data-dojo-type="dojox.mobile.RoundRectList">\n            <li data-dojo-type="dojox.mobile.ListItem" data-dojo-props=\'iconPos:"0,0,29,29"\'>Aspect Ratio\n                <select data-dojo-attach-point="aspectRatioSelect" class="settingSelect">\n                        <option value="0">Screen Fit</option>\n                        <option value="1">Full Screen</option>\n                        <option value="2">Original Size</option>\n                        <option value="3">4:3</option>\n                        <option value="4">16:9</option>\n                </select>\n            </li>\n        </ul>\n\n    </div> \n\n</div>',
"ninja/model/settingModel":function(){define("dojo/_base/declare,dojo/Evented,dojo/on,dojo/_base/array,dojo/_base/lang,ninja/service/homerunProtocol".split(","),function(f,m,k,l,j,e){return new (f("",[m],{currentAspect:null,currentPlayOnStartup:null,currentRepeat:null,constructor:function(){this.registerEventListener();this.fetchSetting()},registerEventListener:function(){k(e,"repeat update",j.hitch(this,this._onRepeatUpdate));k(e,"playstartup update",j.hitch(this,this._onPlayOnStartupUpdate));k(e,
"aspect ratio update",j.hitch(this,this._onAspectUpdate))},fetchSetting:function(){e.sendRequestForResponse("aspect get").then(j.hitch(this,this._onGetAspectSuccess),j.hitch(this,this._onGetAspectFail));e.sendRequestForResponse("playstartup get").then(j.hitch(this,this._onGetPlayOnStartupSuccess),j.hitch(this,this._onGetPlayOnStartupFail));e.sendRequestForResponse("repeat get").then(j.hitch(this,this._onGetRepeatSuccess),j.hitch(this,this._onGetRepeatFail))},_onGetAspectSuccess:function(e){this.currentAspect=
e.currentAspect;this.emit("update")},_onGetAspectFail:function(){console.log("fetch aspect fail")},_onAspectUpdate:function(e){this.currentAspect=e.response.currentAspect;this.emit("update")},_onGetPlayOnStartupSuccess:function(e){console.log(e);this.currentPlayOnStartup=e.currentStartup;this.emit("update")},_onGetPlayOnStartupFail:function(){console.log("fetch playOnStartup fail")},_onPlayOnStartupUpdate:function(e){this.currentPlayOnStartup=e.response.currentStartup;this.emit("update")},_onGetRepeatSuccess:function(e){this.currentRepeat=
e.currentRepeat;this.emit("update")},_onGetRepeatFail:function(){console.log("fetch repeat fail")},_onRepeatUpdate:function(e){this.currentRepeat=e.response.currentRepeat;this.emit("update")},getRepeatSetting:function(){return this.currentRepeat},setRepeat:function(f){e.sendRequest("repeat "+f)},getPlayOnStartup:function(){return this.currentPlayOnStartup},setPlayOnStartup:function(f){f?e.sendRequest("playstartup on"):e.sendRequest("playstartup off")},getAspectRatio:function(){return this.currentAspect},
setAspectRatio:function(f){e.sendRequest("aspect ratio "+f)}}))})},"dojox/mobile/CheckBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/form/_CheckBoxMixin","./ToggleButton"],function(f,m,k,l){return f("dojox.mobile.CheckBox",[l,k],{baseClass:"mblCheckBox",_setTypeAttr:function(){},buildRendering:function(){if(!this.srcNodeRef)this.srcNodeRef=m.create("input",{type:this.type});this.inherited(arguments);this.focusNode=this.domNode},_getValueAttr:function(){return this.checked?
this.value:!1}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(f,m,k){return f("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(f){this._set("readOnly",f);m.set(this.focusNode,"readOnly",f)},_setLabelAttr:void 0,_getSubmitValue:function(f){return null==f||""===f?"on":f},_setValueAttr:function(f){f=this._getSubmitValue(f);this._set("value",f);m.set(this.focusNode,
"value",f)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));m.set(this.focusNode,"value",this.value)},_onClick:function(f){return this.readOnly?(k.stop(f),!1):this.inherited(arguments)}})})},"dojox/mobile/ToggleButton":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/form/_ToggleButtonMixin","./Button"],function(f,m,k,l){return f("dojox.mobile.ToggleButton",[l,k],{baseClass:"mblToggleButton",_setCheckedAttr:function(){this.inherited(arguments);
var f=(this.baseClass+" "+this["class"]).replace(/(\S+)\s*/g,"$1Checked ").split(" ");m[this.checked?"add":"remove"](this.focusNode||this.domNode,f)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(f,m){return f("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(f){var l=this.checked;this._set("checked",!l);var j=this.inherited(arguments);this.set("checked",j?this.checked:l);return j},_setCheckedAttr:function(f,
l){this._set("checked",f);var j=this.focusNode||this.domNode;this._created&&m.get(j,"checked")!=!!f&&m.set(j,"checked",!!f);j.setAttribute(this._aria_attr,""+f);this._handleOnChange(f,l)},postCreate:function(){this.inherited(arguments);var f=this.focusNode||this.domNode;this.checked&&f.setAttribute("checked","checked");if(void 0===this._resetValue)this._lastValueReported=this._resetValue=this.checked},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dojox/mobile/Button":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dijit/_WidgetBase,dijit/form/_ButtonMixin,dijit/form/_FormWidgetMixin".split(","),
function(f,m,k,l,j,e,h){return m("dojox.mobile.Button",[j,h,e],{baseClass:"mblButton",_setTypeAttr:null,duration:1E3,_onClick:function(e){var c=this.inherited(arguments);if(c&&0<=this.duration){var a=this.focusNode||this.domNode,g=(this.baseClass+" "+this["class"]).split(" "),g=f.map(g,function(a){return a+"Selected"});k.add(a,g);setTimeout(function(){k.remove(a,g)},this.duration)}return c},isFocusable:function(){return!1},buildRendering:function(){if(this.srcNodeRef){if(this._cv){var e=this.srcNodeRef.firstChild;
if(e&&3===e.nodeType)e.nodeValue=this._cv(e.nodeValue)}}else this.srcNodeRef=l.create("button",{type:this.type});this.inherited(arguments);this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onClick")},_setLabelAttr:function(e){this.inherited(arguments,[this._cv?this._cv(e):e])}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(f,m,k,l){return f("dijit.form._ButtonMixin",
null,{label:"",type:"button",_onClick:function(f){if(this.disabled)return k.stop(f),!1;var e=!1===this.onClick(f);if(!e&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var h=this.domNode;h.parentNode;h=h.parentNode){var i=l.byNode(h);if(i&&"function"==typeof i._onSubmit){i._onSubmit(f);e=!0;break}}e&&f.preventDefault();return!e},postCreate:function(){this.inherited(arguments);m.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(f){this._set("label",
f);(this.containerNode||this.focusNode).innerHTML=f}})})},"dojox/mobile/Switch":function(){define("dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/event,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/touch,dijit/_Contained,dijit/_WidgetBase,./sniff".split(","),function(f,m,k,l,j,e,h,i,c,a,g,d){return k("dojox.mobile.Switch",[g,a],{value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",shape:"mblSwDefaultShape",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSwitch",
role:"",_createdMasks:[],buildRendering:function(){this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:h.create("span");this.inherited(arguments);var a=this.srcNodeRef&&this.srcNodeRef.className||this.className||this["class"];if(a=a.match(/mblSw.*Shape\d*/))this.shape=a;e.add(this.domNode,this.shape);this.domNode.innerHTML='<div class="mblSwitchInner"><div class="mblSwitchBg mblSwitchBgLeft"><div class="mblSwitchText mblSwitchTextLeft"></div></div><div class="mblSwitchBg mblSwitchBgRight"><div class="mblSwitchText mblSwitchTextRight"></div></div><div class="mblSwitchKnob"></div><input type="hidden"'+
(this.name?' name="'+this.name+'"':"")+"></div></div>";a=this.inner=this.domNode.firstChild;this.left=a.childNodes[0];this.right=a.childNodes[1];this.knob=a.childNodes[2];this.input=a.childNodes[3]},postCreate:function(){this._clickHandle=this.connect(this.domNode,"onclick","_onClick");this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick");this._startHandle=this.connect(this.domNode,c.press,"onTouchStart");this._initialValue=this.value},_changeState:function(a,c){var d="on"===a;this.left.style.display=
"";this.right.style.display="";this.inner.style.left="";c&&e.add(this.domNode,"mblSwitchAnimation");e.remove(this.domNode,d?"mblSwitchOff":"mblSwitchOn");e.add(this.domNode,d?"mblSwitchOn":"mblSwitchOff");var f=this;setTimeout(function(){f.left.style.display=d?"":"none";f.right.style.display=!d?"":"none";e.remove(f.domNode,"mblSwitchAnimation")},c?300:0)},_createMaskImage:function(){if(!this._hasMaskImage&&(this._width=this.domNode.offsetWidth-this.knob.offsetWidth,this._hasMaskImage=!0,d("webkit"))){var a=
i.get(this.left,"borderTopLeftRadius");if("0px"!=a){var c=a.split(" "),a=parseFloat(c[0]),c=1==c.length?a:parseFloat(c[1]),e=this.domNode.offsetWidth,f=this.domNode.offsetHeight,g=(this.shape+"Mask"+e+f+a+c).replace(/\./,"_");if(!this._createdMasks[g]){this._createdMasks[g]=1;var h=j.doc.getCSSCanvasContext("2d",g,e,f);h.fillStyle="#000000";h.beginPath();a==c?(h.moveTo(a,0),h.arcTo(0,0,0,a,a),h.lineTo(0,f-a),h.arcTo(0,f,a,f,a),h.lineTo(e-a,f),h.arcTo(e,f,e,a,a),h.lineTo(e,a),h.arcTo(e,0,e-a,0,a)):
(f=Math.PI,h.scale(1,c/a),h.moveTo(a,0),h.arc(a,a,a,1.5*f,0.5*f,!0),h.lineTo(e-a,2*a),h.arc(e-a,a,a,0.5*f,1.5*f,!0));h.closePath();h.fill()}this.domNode.style.webkitMaskImage="-webkit-canvas("+g+")"}}},_onClick:function(a){if(!(a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onClick(a))&&!this._moved)this.value=this.input.value="on"==this.value?"off":"on",this._changeState(this.value,!0),this.onStateChanged(this.value)},onClick:function(){},onTouchStart:function(a){this._moved=!1;this.innerStartX=
this.inner.offsetLeft;if(!this._conn)this._conn=[this.connect(this.inner,c.move,"onTouchMove"),this.connect(this.inner,c.release,"onTouchEnd")];this.touchStartX=a.touches?a.touches[0].pageX:a.clientX;this.left.style.display="";this.right.style.display="";l.stop(a);this._createMaskImage()},onTouchMove:function(a){a.preventDefault();if(a.targetTouches){if(1!=a.targetTouches.length)return;a=a.targetTouches[0].clientX-this.touchStartX}else a=a.clientX-this.touchStartX;var c=this.innerStartX+a;c<=-(this._width-
10)&&(c=-this._width);-10<=c&&(c=0);this.inner.style.left=c+"px";if(10<Math.abs(a))this._moved=!0},onTouchEnd:function(){f.forEach(this._conn,m.disconnect);this._conn=null;if(this.innerStartX==this.inner.offsetLeft){if(d("touch")&&!(4.1<=d("android"))){var a=j.doc.createEvent("MouseEvents");a.initEvent("click",!0,!0);this.inner.dispatchEvent(a)}}else if(a=this.inner.offsetLeft<-(this._width/2)?"off":"on",this._changeState(a,!0),a!=this.value)this.value=this.input.value=a,this.onStateChanged(a)},onStateChanged:function(){},
_setValueAttr:function(a){this._changeState(a,!1);if(this.value!=a)this.onStateChanged(a);this.value=this.input.value=a},_setLeftLabelAttr:function(a){this.leftLabel=a;this.left.firstChild.innerHTML=this._cv?this._cv(a):a},_setRightLabelAttr:function(a){this.rightLabel=a;this.right.firstChild.innerHTML=this._cv?this._cv(a):a},reset:function(){this.set("value",this._initialValue)}})})},"ninja/widget/LiveFragment":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./LiveFragment.html,dojo/Evented,dojo/on,dojo/_base/lang,ninja/mobile/service/input,ninja/service/homerunProtocol,ninja/model/channelModel,dojox/mobile/Heading,ninja/mobile/Button".split(","),
function(f,m,k,l,j,e,h,i,c,a,g){return f("ninja.widget.LiveFragment",[m,k,l,e],{templateString:j,channel:null,startup:function(){this.inherited(arguments);this._registerEventListener()},_registerEventListener:function(){h(g,"update",i.hitch(this,this._onChannelUpdate));h(this.backButton,"click",i.hitch(this,this._onBackClick));h(this.removeFromPentaButton,"click",i.hitch(this,this._onRemoveFromPentaClick))},_onBackClick:function(){this._back()},_back:function(){a.setNativeTitle("");this.emit("back")},
_onRemoveFromPentaClick:function(){var d=this;c.select("Remove this channel from Penta?",[{text:"OK"},{text:"Cancel"}],!1).then(function(b){"OK"==b.text&&a.sendRequest("url penta penta://channel?action=remove&channel_id="+d.channel.channel_id)})},_onChannelUpdate:function(){null!=this.channel&&null==g.getChannelById(this.channel.channel_id)&&this._back()},setChannel:function(c){this.channel=c;a.setNativeTitle(c.name);this.channelLogo.src=c.icon}})})},"url:ninja/widget/LiveFragment.html":'<div> \n\n    <div class="smartremoteSubHeading" id="subheading" >\n        <div data-dojo-attach-point="backButton" data-dojo-type="ninja.mobile.Button"\n            highlightClass="backButtonHighlight" dehighlightClass="backButtonDehighlight" \n            style="width:30px; height:30px; position:absolute; left:10px; border-top:0px;">\n        </div>\n\n        <div data-dojo-attach-point="removeFromPentaButton" data-dojo-type="ninja.mobile.Button" \n            highlightClass="clearAllButton" dehighlightClass="clearAllButton"  text="Remove"\n            style="width:60px; height:20px; position:absolute; right:2pt; border-top:0px;">\n        </div>\n    </div>\n\n    <div style="padding-top:45px;">\n        <img class="absoluteCenter" data-dojo-attach-point="channelLogo" style="width:150px; height:150px;"/>\n    </div>\n\n</div>',
"ninja/FileListController":function(){define("dojo/_base/declare,dojo/Evented,dojo/_base/lang,dojo/on,dojo/_base/array,dojo/dom,dojo/dom-style,ninja/mobile/ListItem,ninja/mobile/service/input,ninja/mobile/service/loading,ninja/UsbController,dijit/registry".split(","),function(f,m,k,l,j,e,h,i,c,a,g){var d="mp3,m4a,aac,flac,wma,wav,ape,ogg".split(","),b=["jpg","jpeg","png","bmp","gif"],n=["iso"],o=["upload"],q=", / \\ ? ; : ' \" ! * % & # = < >".split(" "),t={"/mnt/usbhost1":"USB 1","/mnt/usbhost2":"USB 2",
"/mnt/extsd":"SD Card"};return f("ninja.FileListController",[m],{homerunProtocol:null,fileListWidget:null,currentPath:"",parentFileObject:"",samba_target:"",rootPath:"~",actionMenu:null,actionDialog:null,usbController:null,waitForFirstPath:!1,constructor:function(a,b,c){this.homerunProtocol=a;this.fileListWidget=b;this.usbController=new g;this.currentPath=c;this.registerEventListener();h.set(actionButton.domNode,"display","none");this.setNativeTitle("File List")},fancy_confirm:function(a,b){dlg_login.show();
l(dlg_login_ok_btn,"click",function(){var b=dlg_login_username.value,c=dlg_login_password.value;dlg_login.hide();a(b,c)});l(dlg_login_cancel_btn,"click",function(){dlg_login.hide();b()})},registerEventListener:function(){l(this.fileListWidget,"select",k.hitch(this,this.onListItemSelect));l(this.fileListWidget,"right_tap",k.hitch(this,this.onRightTapSelect));l(this.fileListWidget,"longtouch",k.hitch(this,this.onListItemLongTouch));l(this.homerunProtocol,"storage update",k.hitch(this,this.onStorageUpdate));
l(this.homerunProtocol,"samba update",k.hitch(this,this.onSambaUpdate));l(this.homerunProtocol,"samba progress",k.hitch(this,this.onSambaProgress));l(actionButton,"click",k.hitch(this,this.onMenuSelect));l(filelist_back_button,"click",k.hitch(this,this.onBackProcessing))},openSlidingMenu:function(){console.log("click sliding menu request");"undefined"!==typeof WebRemote.sendMessageToRemote&&"function"===typeof WebRemote.sendMessageToRemote&&(console.log(">>>>>>>>>>>>>> sendMessageToRemote"),WebRemote.sendMessageToRemote("sidebarOpen"))},
firstFetch:function(){a.show();this.homerunProtocol.sendRequestForResponse("storagemanager ls ~").then(k.hitch(this,this.onFileListResult),k.hitch(this,this.onFileListFail))},fetchFileList:function(b){a.show();"/"==b||"~"==b?this.firstFetch():this.homerunProtocol.sendRequestForResponse("local ls "+b).then(k.hitch(this,this.onFileListResult),k.hitch(this,this.onFileListFail))},loginSamba:function(b,c,d){"~"==b?this.setNativeTitle("File List"):this.setNativeTitle(b);a.show();this.homerunProtocol.sendRequestForResponse("samba login "+
(b+"%20"+c+"%20"+d)).then(k.hitch(this,this.onFileListResult),k.hitch(this,this.onFileListFail));a.hide()},fetchSambaList:function(b,c){this.samba_target=b;"~"==b?this.setNativeTitle("File List"):this.setNativeTitle(b);a.show();c?(this.homerunProtocol.sendRequestForResponse("samba back "+b).then(k.hitch(this,this.onFileListResult),k.hitch(this,this.onFileListFail)),a.hide()):this.homerunProtocol.sendRequestForResponse("samba ls "+b).then(k.hitch(this,this.onFileListResult),k.hitch(this,this.onFileListFail))},
onFileListResult:function(b){h.set(document.getElementById("tutorialView"),"display","none");a.hide();if("false"==b.success)if(-1!=b.message.indexOf("Can't read"))this.fetchFileList(this.rootPath);else{this.onFileListFail(b);return}this.currentPath=b.path;console.log("onFileListResult "+this.currentPath);-1>=this.currentPath.indexOf("/mnt/")||this.currentPath==this.rootPath?h.set(actionButton.domNode,"display","none"):h.set(actionButton.domNode,"display","block");var c=this.createListItems(b.value,
b.path==this.rootPath);"/mnt"==this.currentPath&&0>=c.length&&h.set(document.getElementById("tutorialView"),"display","block");this.fileListWidget.setListItem(c);"List successfully"==b.message&&this.setOnPathChange(this.currentPath)},setOnPathChange:function(a){console.log("pathChange "+a);this.emit("pathChange");"~"==a?this.setNativeTitle("File List"):this.setNativeTitle(a)},setNativeTitle:function(a){"undefined"!==typeof WebRemote.sendMessageToRemote&&"function"===typeof WebRemote.sendMessageToRemote&&
WebRemote.sendMessageToRemote("setTitleName "+a)},onFileListFail:function(){0==this.fileListWidget.getChildren()&&console.log("fetch file failed. not retrying...");a.hide()},createListItems:function(a,c){var e=this,f=[];j.forEach(a,function(a){if(!(e.isHiddenDirectory(a)||".."==a.name&&c)){var g=new i({styleClass:"ninjaListItemWhiteStyle"});g.startup();".."==a.name?(e.parentFileObject=a,g.set("text","&#x21B5;")):void 0!=t[a.path]?g.set("text",t[a.path]):g.set("text",a.name);"true"==a.isDir?(g.set("image",
"images/icons/60_folder.png"),"local"==a.kind||"usb"==a.kind?g.set("image","images/icons/60_usb.png"):"samba"==a.kind?g.set("image","images/icons/60_networkdrive.png"):"samba_pc"==a.kind&&g.set("image","images/computer_dark.png"),-1!==a.name.indexOf(".iso",a.name.length-4)&&g.set("rightImage","images/eject.png")):-1!=d.indexOf(a.kind)?g.set("image","images/icons/60_music.png"):-1!=b.indexOf(a.kind)?g.set("image","images/icons/60_photo.png"):-1!=o.indexOf(a.kind)?g.set("image","images/bad_file_gray.png"):
-1!=n.indexOf(a.kind)?g.set("image","images/iso_gray.png"):g.set("image","images/icons/60_video.png");"/mnt"==e.currentPath&&".."!=a.name&&g.set("rightImage","images/eject.png");g.file=a;".."!=a.name&&f.push(g)}});return f},isHiddenDirectory:function(a){return"."==a.name||"/mnt/sdcard"==a.path?!0:!1},onBackProcessing:function(){"true"==this.parentFileObject.isDir&&("samba"==this.parentFileObject.kind||-1<this.parentFileObject.path.search("smb://")?this.fetchSambaList(this.parentFileObject.path,!0):
this.fetchFileList(this.parentFileObject.path))},onListItemLongTouch:function(a){var b=this,d=-1<b.currentPath.indexOf("/mnt/")?[{text:"Rename",image:"images/rename_gray.png"},{text:"Delete",image:"images/icons/60_delete_dark.png",confirmMessage:"Are you sure ?"}]:[];c.select("",d,!0).then(function(c){b.onAction(a.listItem.file,c)},function(){console.log("cancel")})},onListItemSelect:function(a){var b=this;if("true"==a.listItem.file.isDir)"samba"==a.listItem.file.kind||-1<a.listItem.file.path.search("smb://")?
b.fetchSambaList(a.listItem.file.path,!1):b.fetchFileList(a.listItem.file.path);else{var d={text:"Play",image:"images/icons/control_play.png"},e={text:"Add to queue",image:"images/icons/addtoqueue_full_dark.png"},f={text:"Mount",image:"images/iso_gray.png"},g=[];-1!=n.indexOf(a.listItem.file.kind)?g=[f]:-1==o.indexOf(a.listItem.file.kind)&&(g=[d,e]);g.push({text:"Delete",image:"images/icons/60_delete_dark.png",confirmMessage:"Are you sure ?"});c.select("",g,!0).then(function(c){b.onAction(a.listItem.file,
c)},function(){console.log("cancel")})}},onAction:function(a,b){if("Play"==b.text)WebRemote.sendMessageToHome("local "+a.path);else if("Add to queue"==b.text)this.homerunProtocol.sendRequest("queue add local "+a.path);else if("Delete"==b.text)this.homerunProtocol.sendRequest("local del "+a.path);else if("Rename"==b.text){var c=a.name;""!=a.kind&&(c=a.name.substring(0,a.name.length-a.kind.length-1));this.showRenameTextBox(c,a.path)}else"Mount"==b.text&&this.homerunProtocol.sendRequestForResponse("local mount "+
a.path).then(k.hitch(this,this.onMountResult),k.hitch(this,this.onSendRequestFail))},onMountResult:function(b){if("true"==b.success)this.onFileListResult(b);else{a.hide();var d="Can't mount \""+b.path+'".';""!=b.message&&(d+=" Cause "+b.message);c.noTitleAlert(d)}},showRenameTextBox:function(b,d){var e=c.noTitleTextBox('Rename "'+d+'" to...',b);if(null!=e){var f=this.correctName(e);null!=f?(a.show(),this.homerunProtocol.sendRequestForResponse("local rename "+d+":"+f).then(k.hitch(this,this.onRenameResult),
k.hitch(this,this.onSendRequestFail)),a.hide()):(c.noTitleAlert("Can't rename \""+e+'". Cause invalid format for name!'),this.showRenameTextBox(e,d))}},onRenameResult:function(b){if("false"==b.success){a.hide();var d="Can't rename to \""+b.path+'".';""!=b.message&&(d+=" Cause "+b.message);c.noTitleAlert(d)}},onRightTapSelect:function(b){var d=b.listItem.file.name;if(-1!==d.indexOf(".iso",d.length-4))c.noTitleConfirm('Unmount "'+d+'"?')?(a.show(),this.homerunProtocol.sendRequestForResponse("local unmount "+
b.listItem.file.path).then(k.hitch(this,this.onUnmountResult),k.hitch(this,this.onSendRequestFail)),a.hide()):console.log("cancel");else{d=t[b.listItem.file.path];if(void 0==d)d=b.listItem.file.name;c.noTitleConfirm('Eject "'+d+'"?')?(a.show(),this.homerunProtocol.sendRequestForResponse("local eject "+b.listItem.file.path).then(k.hitch(this,this.onEjectResult),k.hitch(this,this.onSendRequestFail)),a.hide()):console.log("cancel")}},onEjectResult:function(b){if("false"==b.success){a.hide();var d=t[b.path];
void 0==d&&(b=b.path.split("/"),d=b[b.length-1]);c.noTitleAlert("Can't eject \""+d+'" now')}},onUnmountResult:function(b){"false"==b.success&&(a.hide(),b=b.path.split("/"),c.noTitleAlert("Can't unmount \""+b[b.length-1]+'" now'))},onSendRequestFail:function(){c.noTitleAlert("Connection error. Please retry");a.hide()},onMenuSelect:function(){var a=this,b="undefined"!==typeof WebRemote.sendMessageToRemote&&"function"===typeof WebRemote.sendMessageToRemote?a.currentPath!=a.rootPath&&-1<a.currentPath.indexOf("/mnt/")?
[{text:"Create Folder",image:"images/create_folder.png"},{text:"Upload",image:"images/upload_black.png"}]:[]:[];c.select("",b,!0).then(function(b){a.onMenuAction(b)},function(){console.log("cancel")})},onMenuAction:function(a){var b=this;"Upload"==a.text?WebRemote.sendMessageToRemote("upload "+b.currentPath):"Create Folder"==a.text?b.showCreateFolderTextBox(""):"Eject"==a.text?setTimeout(function(){b.usbController.onEjectMenuSelect()},1):"Network"==a.text&&WebRemote.sendMessageToHome("samba ls ")},
onSambaUpdate:function(b){var c=this;"needlogin"==b.response.message&&c.fancy_confirm(function(a,d){console.log("-------login operation continue---------");console.log(b.response.path);console.log(a);console.log(d);c.loginSamba(b.response.path,a,d);console.log("-----------------------------------------")},function(){console.log("login operation cancelled")});if(c.samba_target==b.response.path)c.onFileListResult(b.response);a.hide()},onSambaProgress:function(b){if(""!=b.response.message){var c=b.response.message.replace("smb://",
"");this.samba_target==b.response.message&&(this.onFileListResult(b.response),a.showWithText(c))}},showCreateFolderTextBox:function(b){b=c.noTitleTextBox("Create Folder",b);if(null!=b){var d=this.correctName(b);null!=d?(a.show(),this.homerunProtocol.sendRequestForResponse("local create "+this.currentPath+":"+d).then(k.hitch(this,this.onCreateResult),k.hitch(this,this.onSendRequestFail)),a.hide()):(c.noTitleAlert("Can't create \""+b+'". Cause invalid format for name!'),this.showCreateFolderTextBox(b))}},
onCreateResult:function(b){if("false"==b.success){a.hide();var d="Can't create \""+b.path+'".';""!=b.message&&(d+=" Cause "+b.message);c.noTitleAlert(d)}},correctName:function(a){a=a.trim();if(0==a.length||"."==a[0])return null;for(var b=0;b<q.length;b++)if(-1!==a.indexOf(q[b]))return null;return a},onStorageUpdate:function(a){if(0===this.currentPath.indexOf("/mnt"))this.onFileListResult(a.response);else if(a.response.path==this.currentPath)this.onFileListResult(a.response)},isSubDirectory:function(a,
b){try{var c=a.substring(0,b.length)}catch(d){return!1}return c==b},start:function(){a.show();this.firstFetch();a.hide()},getCurrentPath:function(){return this.currentPath},up:function(){var a=this.currentPath.split("/");a.splice(a.length-1,1);this.fetchFileList(a.join("/"))}})})},"ninja/UsbController":function(){define("dojo/_base/declare,dojo/Evented,dojo/_base/lang,dojo/on,dojo/_base/array,dojo/dom-style,ninja/mobile/ListItem,ninja/mobile/service/input".split(","),function(f,m,k,l,j,e,h,i){return f("ninja.UsbController",
[m],{usbList:{usbhost1:!1,usbhost2:!1},mIsOpen:!1,findConnectedUsb:function(c){var a=this;a.usbList.usbhost1=!1;a.usbList.usbhost2=!1;j.forEach(c,function(c){c.name in a.usbList&&(a.usbList[c.name]=!0)})},onEjectMenuSelect:function(){var c=this,a=[];c.usbList.usbhost1&&a.push({text:"USB 1",image:"images/eject_black.png"});c.usbList.usbhost2&&a.push({text:"USB 2",image:"images/eject_black.png"});c.mIsOpen=!0;i.select("",a,!0).then(function(a){c.onAction(a);c.mIsOpen=!1},function(){console.log("cancel");
c.mIsOpen=!1})},onAction:function(c){console.log("eject: "+c.text);"USB 1"==c.text?WebRemote.sendMessageToHome("local eject usbhost1"):"USB 2"==c.text&&WebRemote.sendMessageToHome("local eject usbhost2")},isOpen:function(){return this.mIsOpen},restart:function(){this.mIsOpen&&(i.onCancel(),this.onEjectMenuSelect())}})})},"dojox/mobile/parser":function(){define("dojo/_base/kernel,dojo/_base/array,dojo/_base/config,dojo/_base/lang,dojo/_base/window,dojo/ready".split(","),function(f,m,k,l,j,e){var h=
l.getObject("dojox.mobile",!0),i=new function(){var c={},a=function(d,b){if("string"===typeof b){var e=d+":"+b.replace(/ /g,"");return c[e]||(c[e]=a(d).createSubclass(m.map(b.split(/, */),a)))}return c[d]||(c[d]=l.getObject(d)||require(d))},e=function(a){return eval(a)};this.instantiate=function(c,b,f){var b=b||{},f=f||{},h,i=[];if(c){for(h=0;h<c.length;h++){var j=c[h],k=a(j._type,j.getAttribute("data-dojo-mixins")),m=k.prototype,p={},v,w,u;l.mixin(p,e.call(f.propsThis,"({"+(j.getAttribute("data-dojo-props")||
"")+"})"));l.mixin(p,f.defaults);l.mixin(p,b);for(v in m)if(w=(w=j.getAttributeNode(v))&&w.nodeValue,u=typeof m[v],w||!("boolean"!==u||""!==w))l.isArray(m[v])?p[v]=w.split(/\s*,\s*/):"string"===u?p[v]=w:"number"===u?p[v]=w-0:"boolean"===u?p[v]="false"!==w:"object"===u?p[v]=eval("("+w+")"):"function"===u&&(p[v]=l.getObject(w,!1)||new Function(w),j.removeAttribute(v));p["class"]=j.className;if(!p.style)p.style=j.style.cssText;if(w=j.getAttribute("data-dojo-attach-point"))p.dojoAttachPoint=w;if(w=j.getAttribute("data-dojo-attach-event"))p.dojoAttachEvent=
w;k=new k(p,j);i.push(k);(j=j.getAttribute("jsId")||j.getAttribute("data-dojo-id"))&&l.setObject(j,k)}for(h=0;h<i.length;h++)c=i[h],!f.noStart&&c.startup&&!c._started&&c.startup()}return i};this.parse=function(c,b){if(c){if(!b&&c.rootNode)b=c,c=c.rootNode}else c=j.body();var e=c.getElementsByTagName("*"),f,g,h=[];for(f=0;f<e.length;f++){var i=e[f];if(g=i._type=i.getAttribute("dojoType")||i.getAttribute("data-dojo-type"))if(i._skip)i._skip="";else{if(a(g).prototype.stopParser&&(!b||!b.template)){var l=
i.getElementsByTagName("*");for(g=0;g<l.length;g++)l[g]._skip="1"}h.push(i)}}return this.instantiate(h,b&&b.template?{template:!0}:null,b)}};k.parseOnLoad&&e(100,function(){try{require("dojo/parser")||i.parse()}catch(c){i.parse()}});h.parser=i;f.parser=f.parser||i;return i})},"dojox/mobile":function(){define([".","dojo/_base/lang","dojox/mobile/_base"],function(f,m){m.getObject("mobile",!0,f);return f.mobile})},"dojox/main":function(){define(["dojo/_base/kernel"],function(f){return f.dojox})},"dojox/mobile/_base":function(){define("./common,./View,./Heading,./RoundRect,./RoundRectCategory,./EdgeToEdgeCategory,./RoundRectList,./EdgeToEdgeList,./ListItem,./Container,./Pane,./Switch,./ToolBarButton,./ProgressIndicator".split(","),
function(f){return f})},"dojox/mobile/RoundRect":function(){define(["dojo/_base/declare","dojo/dom-class","./Container"],function(f,m,k){return f("dojox.mobile.RoundRect",k,{shadow:!1,baseClass:"mblRoundRect",buildRendering:function(){this.inherited(arguments);this.shadow&&m.add(this.domNode,"mblShadow")}})})},"dojox/mobile/EdgeToEdgeCategory":function(){define(["dojo/_base/declare","./RoundRectCategory"],function(f,m){return f("dojox.mobile.EdgeToEdgeCategory",m,{buildRendering:function(){this.inherited(arguments);
this.domNode.className="mblEdgeToEdgeCategory"}})})},"dojox/mobile/EdgeToEdgeList":function(){define(["dojo/_base/declare","./RoundRectList"],function(f,m){return f("dojox.mobile.EdgeToEdgeList",m,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeList"}})})},"dojox/mobile/SimpleDialog":function(){define("dojo/_base/declare,dojo/_base/window,dojo/dom-class,dojo/dom-construct,./Pane,./iconUtils".split(","),function(f,m,k,l,j,e){return f("dojox.mobile.SimpleDialog",
j,{top:"auto",left:"auto",modal:!0,closeButton:!1,closeButtonClass:"mblDomButtonSilverCircleRedCross",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSimpleDialog",_cover:[],buildRendering:function(){this.containerNode=l.create("div",{className:"mblSimpleDialogContainer"});if(this.srcNodeRef)for(var f=0,i=this.srcNodeRef.childNodes.length;f<i;f++)this.containerNode.appendChild(this.srcNodeRef.removeChild(this.srcNodeRef.firstChild));this.inherited(arguments);k.add(this.domNode,"mblSimpleDialogDecoration");
this.domNode.style.display="none";this.domNode.appendChild(this.containerNode);if(this.closeButton)this.closeButtonNode=l.create("div",{className:"mblSimpleDialogCloseBtn "+this.closeButtonClass},this.domNode),e.createDomButton(this.closeButtonNode),this._clickHandle=this.connect(this.closeButtonNode,"onclick","_onCloseButtonClick");this._keydownHandle=this.connect(this.domNode,"onkeydown","_onKeyDown")},startup:function(){this._started||(this.inherited(arguments),m.body().appendChild(this.domNode))},
addCover:function(){this._cover[0]?this._cover[0].style.display="":this._cover[0]=l.create("div",{className:"mblSimpleDialogCover"},m.body())},removeCover:function(){this._cover[0].style.display="none"},_onCloseButtonClick:function(e){!1!==this.onCloseButtonClick(e)&&this.hide()},onCloseButtonClick:function(){},_onKeyDown:function(e){27==e.keyCode&&this.hide()},refresh:function(){var e=this.domNode;if(this.closeButton){var f=this.closeButtonNode,c=Math.round(f.offsetHeight/2);f.style.top=-c+"px";
f.style.left=e.offsetWidth-c+"px"}"auto"===this.top?(f=m.global.innerHeight||m.doc.documentElement.clientHeight,e.style.top=Math.round((f-e.offsetHeight)/2)+"px"):e.style.top=this.top;"auto"===this.left?(f=m.global.innerWidth||m.doc.documentElement.clientWidth,e.style.left=Math.round((f-e.offsetWidth)/2)+"px"):e.style.left=this.left},show:function(){if(""!==this.domNode.style.display)this.modal&&this.addCover(),this.domNode.style.display="",this.refresh(),this.domNode.focus()},hide:function(){if("none"!==
this.domNode.style.display)this.domNode.style.display="none",this.modal&&this.removeCover()}})})},"dojox/mobile/IconMenu":function(){define("dojo/_base/declare,dojo/_base/sniff,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./IconMenuItem".split(","),function(f,m,k,l,j,e,h,i){return f("dojox.mobile.IconMenu",[i,h,e],{transition:"slide",iconBase:"",iconPos:"",cols:3,tag:"ul",selectOne:!1,baseClass:"mblIconMenu",childItemClass:"mblIconMenuItem",
_createTerminator:!1,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||l.create(this.tag);this.inherited(arguments);if(this._createTerminator){var c=this._terminator=l.create("br");c.className=this.childItemClass+"Terminator";this.domNode.appendChild(c)}},startup:function(){this._started||(this.refresh(),this.inherited(arguments))},refresh:function(){var c=this.getParent();c&&k.remove(c.domNode,"mblSimpleDialogDecoration");c=this.getChildren();if(this.cols){var a=Math.ceil(c.length/
this.cols),e=Math.floor(100/this.cols),d=100-e*this.cols,b=Math.floor(100/a),f=100-b*a;m("ie")&&(d--,f--)}for(var h=0;h<c.length;h++){var i=c[h];if(this.cols){var l=0===h%this.cols,s=0===(h+1)%this.cols,r=Math.floor(h/this.cols);j.set(i.domNode,{width:e+(s?d:0)+"%",height:b+(r+1===a?f:0)+"%"});k.toggle(i.domNode,this.childItemClass+"FirstColumn",l);k.toggle(i.domNode,this.childItemClass+"LastColumn",s);k.toggle(i.domNode,this.childItemClass+"FirstRow",0===r);k.toggle(i.domNode,this.childItemClass+
"LastRow",r+1===a)}}},addChild:function(c,a){this.inherited(arguments);this.refresh()},hide:function(){var c=this.getParent();c&&c.hide&&c.hide()}})})},"dojox/mobile/IconMenuItem":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,./iconUtils,./_ItemBase".split(","),function(f,m,k,l,j,e){return f("dojox.mobile.IconMenuItem",e,{closeOnAction:!1,tag:"li",baseClass:"mblIconMenuItem",selColor:"mblIconMenuItemSel",_selStartMethod:"touch",_selEndMethod:"touch",buildRendering:function(){this.domNode=
this.srcNodeRef||l.create(this.tag);this.inherited(arguments);this.selected&&k.add(this.domNode,this.selColor);if(this.srcNodeRef){if(!this.label)this.label=m.trim(this.srcNodeRef.innerHTML);this.srcNodeRef.innerHTML=""}var e=this.anchorNode=this.containerNode=l.create("a",{className:"mblIconMenuItemAnchor",href:"javascript:void(0)"}),f=this.iconParentNode=l.create("table",{className:"mblIconMenuItemTable"},e).insertRow(-1).insertCell(-1);this.iconNode=l.create("div",{className:"mblIconMenuItemIcon"},
f);this.labelNode=this.refNode=l.create("div",{className:"mblIconMenuItemLabel"},f);this.position="before";this.domNode.appendChild(e)},startup:function(){if(!this._started&&(this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick"),this.inherited(arguments),!this._isOnLine))this._isOnLine=!0,this.set("icon",void 0!==this._pendingIcon?this._pendingIcon:this.icon),delete this._pendingIcon},_onClick:function(e){if(!(e&&"keydown"===e.type&&13!==e.keyCode||!1===this.onClick(e))){if(this.closeOnAction){var f=
this.getParent();f&&f.hide&&f.hide()}this.defaultClickAction(e)}},onClick:function(){},_setSelectedAttr:function(e){this.inherited(arguments);k.toggle(this.domNode,this.selColor,e)}})})},"ninja/service/test/mockSmartRemote2":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/io-query"],function(f,m,k){return new (f("",[],{messageListener:null,websocket:null,pentaVersion:-1,_initializeWebsocket:function(f){var j=this;"WebSocket"in window?j.websocket=new WebSocket("ws://"+f+":11020"):"MozWebSocket"in
window?j.websocket=new MozWebSocket("ws://"+f+":11020"):alert("WebSocket NOT supported by your Browser!");j.websocket.onopen=function(){j.websocket.send("presence hi");setTimeout(function(){var e=new Event("onsmartremoteready");document.dispatchEvent(e)},100)};j.websocket.onmessage=m.hitch(j,j._onMessage)},_onMessage:function(f){f=f.data.split(" ");if("appmsg"==f[0]&&"com.powerallventure.homerun"==f[1])this._notifyMessageListener(f.slice(2).join(" "));else if("presence"==f[0]||"presence2"==f[0]){f=
f[2];try{var j=f.substring(f.indexOf("?")+1);this.pentaVersion=k.queryToObject(j).version}catch(e){console.error(e)}}else"get"==f[0]&&"deviceinfo"==f[1]&&this.websocket.send('deviceinfo {"name":"Extension","model":"Extension"}')},_notifyMessageListener:function(f){if(null!=this.messageListener)if("string"===typeof this.messageListener)window[this.messageListener]("localhost",f);else this.messageListener("localhost",f)},initialize:function(f){window.WebRemote=this;this._initializeWebsocket(f)},setMessageListener:function(f){this.messageListener=
f},sendMessageToHome:function(f){this.websocket.send("appmsg com.powerallventure.homerun "+f)},getVersion:function(){return this.pentaVersion}}))})},"dojox/mobile/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dijit/form/_FormValueMixin","dijit/form/_TextBoxMixin"],function(f,m,k,l,j){return f("dojox.mobile.TextBox",[k,l,j],{baseClass:"mblTextBox",_setTypeAttr:null,_setPlaceHolderAttr:function(e){e=this._cv?this._cv(e):e;this._set("placeHolder",e);this.textbox.setAttribute("placeholder",
e)},buildRendering:function(){if(!this.srcNodeRef)this.srcNodeRef=m.create("input",{type:this.type});this.inherited(arguments);this.textbox=this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);this.connect(this.textbox,"onmouseup",function(){this._mouseIsDown=!1});this.connect(this.textbox,"onmousedown",function(){this._mouseIsDown=!0});this.connect(this.textbox,"onfocus",function(e){this._onFocus(this._mouseIsDown?"mouse":e);this._mouseIsDown=!1});this.connect(this.textbox,
"onblur","_onBlur")}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,../main".split(","),function(f,m,k,l,j,e,h,i){var c=m("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,c,d){var b;void 0!==a&&(b=this.filter(a),
"string"!=typeof d&&(d=null!==b&&("number"!=typeof b||!isNaN(b))?this.filter(this.format(b,this.constraints)):""));if(null!=d&&("number"!=typeof d||!isNaN(d))&&this.textbox.value!=d)this.textbox.value=d,this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,d);this.inherited(arguments,[b,c])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&
(a=""+a);this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,a)},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){"auto"==this.textDir&&this.applyTextDir(this.focusNode,this.focusNode.value);this._processInput(a);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),
!1)})},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(h(this.textbox,"keydown, keypress, paste, cut, input, compositionend",e.hitch(this,function(a){var c;if("keydown"==a.type){c=a.keyCode;switch(c){case j.SHIFT:case j.ALT:case j.CTRL:case j.META:case j.CAPS_LOCK:case j.NUM_LOCK:case j.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(c){case j.NUMPAD_0:case j.NUMPAD_1:case j.NUMPAD_2:case j.NUMPAD_3:case j.NUMPAD_4:case j.NUMPAD_5:case j.NUMPAD_6:case j.NUMPAD_7:case j.NUMPAD_8:case j.NUMPAD_9:case j.NUMPAD_MULTIPLY:case j.NUMPAD_PLUS:case j.NUMPAD_ENTER:case j.NUMPAD_MINUS:case j.NUMPAD_PERIOD:case j.NUMPAD_DIVIDE:return}if(65<=
c&&90>=c||48<=c&&57>=c||c==j.SPACE)return;c=!1;for(var d in j)if(j[d]===a.keyCode){c=!0;break}if(!c)return}}(c=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(c=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==j.SPACE?String.fromCharCode(a.keyCode):a.keyCode);c||(c=229);if("keypress"==a.type){if("string"!=typeof c)return;if("a"<=c&&"z">=c||"A"<=c&&"Z">=c||"0"<=c&&"9">=c||" "===c)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var b={faux:!0},f;for(f in a)"layerX"!=f&&"layerY"!=f&&(d=a[f],"function"!=typeof d&&"undefined"!=typeof d&&(b[f]=d));e.mixin(b,{charOrCode:c,_wasConsumed:!1,preventDefault:function(){b._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(b)&&(b.preventDefault(),b.stopPropagation());b._wasConsumed||this.defer(function(){this._onInput(b)})})))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;
if("string"!=typeof a)return a;this.trim&&(a=e.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){if(!this.disabled&&
!this.readOnly){if(this.selectOnClick&&"mouse"==a)this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;this._isTextSelected()||c.selectInputText(this.textbox)}),this.defer(function(){if(this._selectOnClickHandle)this.disconnect(this._selectOnClickHandle),this._selectOnClickHandle=null},500);this.inherited(arguments);this._refreshState()}},reset:function(){this.textbox.value="";this.inherited(arguments)},
_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.focusNode.value)}});c._setSelectionRange=i._setSelectionRange=function(a,c,d){a.setSelectionRange&&a.setSelectionRange(c,d)};c.selectInputText=i.selectInputText=function(a,e,d){a=k.byId(a);isNaN(e)&&(e=0);isNaN(d)&&(d=a.value?a.value.length:0);try{a.focus(),c._setSelectionRange(a,e,d)}catch(b){}};return c})},"*now":function(f){f(['dojo/i18n!*preload*dojo/nls/dojo*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
(function(){var f=this.require;f({cache:{}});!f.async&&f(["dojo"]);f.boot&&f.apply(null,f.boot)})();